(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function lE(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var sf={exports:{}},wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function uE(){if(Np)return wl;Np=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var m=null;if(h!==void 0&&(m=""+h),o.key!==void 0&&(m=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:s,type:r,key:m,ref:o!==void 0?o:null,props:h}}return wl.Fragment=e,wl.jsx=i,wl.jsxs=i,wl}var Mp;function oE(){return Mp||(Mp=1,sf.exports=uE()),sf.exports}var Vt=oE(),lf={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function cE(){if(xp)return At;xp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.iterator;function q(D){return D===null||typeof D!="object"?null:(D=O&&D[O]||D["@@iterator"],typeof D=="function"?D:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,J={};function Z(D,X,nt){this.props=D,this.context=X,this.refs=J,this.updater=nt||K}Z.prototype.isReactComponent={},Z.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},Z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Et(){}Et.prototype=Z.prototype;function _t(D,X,nt){this.props=D,this.context=X,this.refs=J,this.updater=nt||K}var dt=_t.prototype=new Et;dt.constructor=_t,j(dt,Z.prototype),dt.isPureReactComponent=!0;var pt=Array.isArray,rt={H:null,A:null,T:null,S:null,V:null},Ot=Object.prototype.hasOwnProperty;function I(D,X,nt,W,ut,Rt){return nt=Rt.ref,{$$typeof:s,type:D,key:X,ref:nt!==void 0?nt:null,props:Rt}}function S(D,X){return I(D.type,X,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function V(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return X[nt]})}var N=/\/+/g;function x(D,X){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):X.toString(36)}function R(){}function Oe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ne(D,X,nt,W,ut){var Rt=typeof D;(Rt==="undefined"||Rt==="boolean")&&(D=null);var yt=!1;if(D===null)yt=!0;else switch(Rt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(D.$$typeof){case s:case e:yt=!0;break;case A:return yt=D._init,ne(yt(D._payload),X,nt,W,ut)}}if(yt)return ut=ut(D),yt=W===""?"."+x(D,0):W,pt(ut)?(nt="",yt!=null&&(nt=yt.replace(N,"$&/")+"/"),ne(ut,X,nt,"",function(Nn){return Nn})):ut!=null&&(w(ut)&&(ut=S(ut,nt+(ut.key==null||D&&D.key===ut.key?"":(""+ut.key).replace(N,"$&/")+"/")+yt)),X.push(ut)),1;yt=0;var be=W===""?".":W+":";if(pt(D))for(var Zt=0;Zt<D.length;Zt++)W=D[Zt],Rt=be+x(W,Zt),yt+=ne(W,X,nt,Rt,ut);else if(Zt=q(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!(W=D.next()).done;)W=W.value,Rt=be+x(W,Zt++),yt+=ne(W,X,nt,Rt,ut);else if(Rt==="object"){if(typeof D.then=="function")return ne(Oe(D),X,nt,W,ut);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return yt}function H(D,X,nt){if(D==null)return D;var W=[],ut=0;return ne(D,W,"","",function(Rt){return X.call(nt,Rt,ut++)}),W}function et(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var lt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Pt(){}return At.Children={map:H,forEach:function(D,X,nt){H(D,function(){X.apply(this,arguments)},nt)},count:function(D){var X=0;return H(D,function(){X++}),X},toArray:function(D){return H(D,function(X){return X})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},At.Component=Z,At.Fragment=i,At.Profiler=o,At.PureComponent=_t,At.StrictMode=r,At.Suspense=v,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt,At.__COMPILER_RUNTIME={__proto__:null,c:function(D){return rt.H.useMemoCache(D)}},At.cache=function(D){return function(){return D.apply(null,arguments)}},At.cloneElement=function(D,X,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var W=j({},D.props),ut=D.key,Rt=void 0;if(X!=null)for(yt in X.ref!==void 0&&(Rt=void 0),X.key!==void 0&&(ut=""+X.key),X)!Ot.call(X,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&X.ref===void 0||(W[yt]=X[yt]);var yt=arguments.length-2;if(yt===1)W.children=nt;else if(1<yt){for(var be=Array(yt),Zt=0;Zt<yt;Zt++)be[Zt]=arguments[Zt+2];W.children=be}return I(D.type,ut,void 0,void 0,Rt,W)},At.createContext=function(D){return D={$$typeof:m,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},At.createElement=function(D,X,nt){var W,ut={},Rt=null;if(X!=null)for(W in X.key!==void 0&&(Rt=""+X.key),X)Ot.call(X,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ut[W]=X[W]);var yt=arguments.length-2;if(yt===1)ut.children=nt;else if(1<yt){for(var be=Array(yt),Zt=0;Zt<yt;Zt++)be[Zt]=arguments[Zt+2];ut.children=be}if(D&&D.defaultProps)for(W in yt=D.defaultProps,yt)ut[W]===void 0&&(ut[W]=yt[W]);return I(D,Rt,void 0,void 0,null,ut)},At.createRef=function(){return{current:null}},At.forwardRef=function(D){return{$$typeof:y,render:D}},At.isValidElement=w,At.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:et}},At.memo=function(D,X){return{$$typeof:_,type:D,compare:X===void 0?null:X}},At.startTransition=function(D){var X=rt.T,nt={};rt.T=nt;try{var W=D(),ut=rt.S;ut!==null&&ut(nt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Pt,lt)}catch(Rt){lt(Rt)}finally{rt.T=X}},At.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()},At.use=function(D){return rt.H.use(D)},At.useActionState=function(D,X,nt){return rt.H.useActionState(D,X,nt)},At.useCallback=function(D,X){return rt.H.useCallback(D,X)},At.useContext=function(D){return rt.H.useContext(D)},At.useDebugValue=function(){},At.useDeferredValue=function(D,X){return rt.H.useDeferredValue(D,X)},At.useEffect=function(D,X,nt){var W=rt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(D,X)},At.useId=function(){return rt.H.useId()},At.useImperativeHandle=function(D,X,nt){return rt.H.useImperativeHandle(D,X,nt)},At.useInsertionEffect=function(D,X){return rt.H.useInsertionEffect(D,X)},At.useLayoutEffect=function(D,X){return rt.H.useLayoutEffect(D,X)},At.useMemo=function(D,X){return rt.H.useMemo(D,X)},At.useOptimistic=function(D,X){return rt.H.useOptimistic(D,X)},At.useReducer=function(D,X,nt){return rt.H.useReducer(D,X,nt)},At.useRef=function(D){return rt.H.useRef(D)},At.useState=function(D){return rt.H.useState(D)},At.useSyncExternalStore=function(D,X,nt){return rt.H.useSyncExternalStore(D,X,nt)},At.useTransition=function(){return rt.H.useTransition()},At.version="19.1.0",At}var Up;function kf(){return Up||(Up=1,lf.exports=cE()),lf.exports}var is=kf();const zp=lE(is);var uf={exports:{}},Dl={},of={exports:{}},cf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function hE(){return Lp||(Lp=1,function(s){function e(H,et){var lt=H.length;H.push(et);t:for(;0<lt;){var Pt=lt-1>>>1,D=H[Pt];if(0<o(D,et))H[Pt]=et,H[lt]=D,lt=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var et=H[0],lt=H.pop();if(lt!==et){H[0]=lt;t:for(var Pt=0,D=H.length,X=D>>>1;Pt<X;){var nt=2*(Pt+1)-1,W=H[nt],ut=nt+1,Rt=H[ut];if(0>o(W,lt))ut<D&&0>o(Rt,W)?(H[Pt]=Rt,H[ut]=lt,Pt=ut):(H[Pt]=W,H[nt]=lt,Pt=nt);else if(ut<D&&0>o(Rt,lt))H[Pt]=Rt,H[ut]=lt,Pt=ut;else break t}}return et}function o(H,et){var lt=H.sortIndex-et.sortIndex;return lt!==0?lt:H.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var m=Date,y=m.now();s.unstable_now=function(){return m.now()-y}}var v=[],_=[],A=1,O=null,q=3,K=!1,j=!1,J=!1,Z=!1,Et=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function pt(H){for(var et=i(_);et!==null;){if(et.callback===null)r(_);else if(et.startTime<=H)r(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function rt(H){if(J=!1,pt(H),!j)if(i(v)!==null)j=!0,Ot||(Ot=!0,x());else{var et=i(_);et!==null&&ne(rt,et.startTime-H)}}var Ot=!1,I=-1,S=5,w=-1;function V(){return Z?!0:!(s.unstable_now()-w<S)}function N(){if(Z=!1,Ot){var H=s.unstable_now();w=H;var et=!0;try{t:{j=!1,J&&(J=!1,_t(I),I=-1),K=!0;var lt=q;try{e:{for(pt(H),O=i(v);O!==null&&!(O.expirationTime>H&&V());){var Pt=O.callback;if(typeof Pt=="function"){O.callback=null,q=O.priorityLevel;var D=Pt(O.expirationTime<=H);if(H=s.unstable_now(),typeof D=="function"){O.callback=D,pt(H),et=!0;break e}O===i(v)&&r(v),pt(H)}else r(v);O=i(v)}if(O!==null)et=!0;else{var X=i(_);X!==null&&ne(rt,X.startTime-H),et=!1}}break t}finally{O=null,q=lt,K=!1}et=void 0}}finally{et?x():Ot=!1}}}var x;if(typeof dt=="function")x=function(){dt(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Oe=R.port2;R.port1.onmessage=N,x=function(){Oe.postMessage(null)}}else x=function(){Et(N,0)};function ne(H,et){I=Et(function(){H(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return q},s.unstable_next=function(H){switch(q){case 1:case 2:case 3:var et=3;break;default:et=q}var lt=q;q=et;try{return H()}finally{q=lt}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var lt=q;q=H;try{return et()}finally{q=lt}},s.unstable_scheduleCallback=function(H,et,lt){var Pt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Pt+lt:Pt):lt=Pt,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=lt+D,H={id:A++,callback:et,priorityLevel:H,startTime:lt,expirationTime:D,sortIndex:-1},lt>Pt?(H.sortIndex=lt,e(_,H),i(v)===null&&H===i(_)&&(J?(_t(I),I=-1):J=!0,ne(rt,lt-Pt))):(H.sortIndex=D,e(v,H),j||K||(j=!0,Ot||(Ot=!0,x()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var et=q;return function(){var lt=q;q=et;try{return H.apply(this,arguments)}finally{q=lt}}}}(cf)),cf}var Pp;function fE(){return Pp||(Pp=1,of.exports=hE()),of.exports}var hf={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function dE(){if(Bp)return je;Bp=1;var s=kf();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:O==null?null:""+O,children:v,containerInfo:_,implementation:A}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,je.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},je.flushSync=function(v){var _=m.T,A=r.p;try{if(m.T=null,r.p=2,v)return v()}finally{m.T=_,r.p=A,r.d.f()}},je.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},je.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},je.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,O=y(A,_.crossOrigin),q=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:O,integrity:q,fetchPriority:K}):A==="script"&&r.d.X(v,{crossOrigin:O,integrity:q,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},je.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},je.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,O=y(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:O,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},je.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},je.requestFormReset=function(v){r.d.r(v)},je.unstable_batchedUpdates=function(v,_){return v(_)},je.useFormState=function(v,_,A){return m.H.useFormState(v,_,A)},je.useFormStatus=function(){return m.H.useHostTransitionStatus()},je.version="19.1.0",je}var qp;function mE(){if(qp)return hf.exports;qp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),hf.exports=dE(),hf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function gE(){if(kp)return Dl;kp=1;var s=fE(),e=kf(),i=mE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(h(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return y(c),t;if(f===l)return y(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var p=!1,E=c.child;E;){if(E===a){p=!0,a=c,l=f;break}if(E===l){p=!0,l=c,a=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===a){p=!0,a=f,l=c;break}if(E===l){p=!0,l=f,a=c;break}E=E.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Et=Symbol.for("react.provider"),_t=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case Z:return"Profiler";case J:return"StrictMode";case rt:return"Suspense";case Ot:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case dt:return(t.displayName||"Context")+".Provider";case _t:return(t._context.displayName||"Context")+".Consumer";case pt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:Oe(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Oe(t(n))}catch{}}return null}var ne=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Pt=[],D=-1;function X(t){return{current:t}}function nt(t){0>D||(t.current=Pt[D],Pt[D]=null,D--)}function W(t,n){D++,Pt[D]=t.current,t.current=n}var ut=X(null),Rt=X(null),yt=X(null),be=X(null);function Zt(t,n){switch(W(yt,n),W(Rt,t),W(ut,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?sp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=sp(n),t=lp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ut),W(ut,t)}function Nn(){nt(ut),nt(Rt),nt(yt)}function Ii(t){t.memoizedState!==null&&W(be,t);var n=ut.current,a=lp(n,t.type);n!==a&&(W(Rt,t),W(ut,a))}function ti(t){Rt.current===t&&(nt(ut),nt(Rt)),be.current===t&&(nt(be),Tl._currentValue=lt)}var pa=Object.prototype.hasOwnProperty,ya=s.unstable_scheduleCallback,_a=s.unstable_cancelCallback,_s=s.unstable_shouldYield,Xl=s.unstable_requestPaint,cn=s.unstable_now,rc=s.unstable_getCurrentPriorityLevel,vs=s.unstable_ImmediatePriority,lr=s.unstable_UserBlockingPriority,va=s.unstable_NormalPriority,sc=s.unstable_LowPriority,ur=s.unstable_IdlePriority,Es=s.log,Zl=s.unstable_setDisableYieldValue,ie=null,jt=null;function tn(t){if(typeof Es=="function"&&Zl(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(ie,t)}catch{}}var qe=Math.clz32?Math.clz32:Ea,$l=Math.log,lc=Math.LN2;function Ea(t){return t>>>=0,t===0?32:31-($l(t)/lc|0)|0}var Ta=256,Aa=4194304;function Rn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function or(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Rn(l):(p&=E,p!==0?c=Rn(p):a||(a=E&~t,a!==0&&(c=Rn(a))))):(E=l&~f,E!==0?c=Rn(E):p!==0?c=Rn(p):a||(a=l&~t,a!==0&&(c=Rn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Sa(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ts(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function As(){var t=Ta;return Ta<<=1,(Ta&4194048)===0&&(Ta=256),t}function Ss(){var t=Aa;return Aa<<=1,(Aa&62914560)===0&&(Aa=4194304),t}function ei(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ni(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bs(t,n,a,l,c,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,L=t.hiddenUpdates;for(a=p&~a;0<a;){var G=31-qe(a),Y=1<<G;E[G]=0,b[G]=-1;var P=L[G];if(P!==null)for(L[G]=null,G=0;G<P.length;G++){var B=P[G];B!==null&&(B.lane&=-536870913)}a&=~Y}l!==0&&Mn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Mn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Rs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-qe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Oi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function cr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ni(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:wp(t.type))}function Jl(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var Jt=Math.random().toString(36).slice(2),ye="__reactFiber$"+Jt,fe="__reactProps$"+Jt,hn="__reactContainer$"+Jt,ws="__reactEvents$"+Jt,uc="__reactListeners$"+Jt,Mi="__reactHandles$"+Jt,Wl="__reactResources$"+Jt,ba="__reactMarker$"+Jt;function xi(t){delete t[ye],delete t[fe],delete t[ws],delete t[uc],delete t[Mi]}function ii(t){var n=t[ye];if(n)return n;for(var a=t.parentNode;a;){if(n=a[hn]||a[ye]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=hp(t);t!==null;){if(a=t[ye])return a;t=hp(t)}return n}t=a,a=t.parentNode}return null}function xn(t){if(t=t[ye]||t[hn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ye(t){var n=t[Wl];return n||(n=t[Wl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[ba]=!0}var Ds=new Set,hr={};function wn(t,n){ai(t,n),ai(t+"Capture",n)}function ai(t,n){for(hr[t]=n,t=0;t<n.length;t++)Ds.add(n[t])}var tu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eu={},Ra={};function nu(t){return pa.call(Ra,t)?!0:pa.call(eu,t)?!1:tu.test(t)?Ra[t]=!0:(eu[t]=!0,!1)}function Ui(t,n,a){if(nu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function zn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ne(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var wa,iu;function ri(t){if(wa===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);wa=n&&n[1]||"",iu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wa+t+iu}var fr=!1;function dr(t,n){if(!t||fr)return"";fr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var P=B}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(B){P=B}t.call(Y.prototype)}}else{try{throw Error()}catch(B){P=B}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&P&&typeof B.stack=="string")return[B.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var b=p.split(`
`),L=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===L.length)for(l=b.length-1,c=L.length-1;1<=l&&0<=c&&b[l]!==L[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==L[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==L[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{fr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ri(a):""}function Cs(t){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return dr(t.type,!1);case 11:return dr(t.type.render,!1);case 1:return dr(t.type,!0);case 31:return ri("Activity");default:return""}}function mr(t){try{var n="";do n+=Cs(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Fe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function oc(t){var n=Vs(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){l=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function gr(t){t._valueTracker||(t._valueTracker=oc(t))}function Is(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Vs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Da(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cc=/[\n"\\]/g;function de(t){return t.replace(cc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function en(t,n,a,l,c,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Fe(n)):t.value!==""+Fe(n)&&(t.value=""+Fe(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?zi(t,p,Fe(n)):a!=null?zi(t,p,Fe(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Fe(E):t.removeAttribute("name")}function Ca(t,n,a,l,c,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Fe(a):"",n=n!=null?""+Fe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function zi(t,n,a){n==="number"&&Da(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function si(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Fe(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,a){if(n!=null&&(n=""+Fe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Fe(a):""}function Va(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ne(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Fe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function fn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ia=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function au(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Ia.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Os(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&au(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&au(t,f,n[f])}function Ns(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pr(t){return fc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var li=null;function dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ui=null,oi=null;function Ms(t){var n=xn(t);if(n&&(t=n.stateNode)){var a=t[fe]||null;t:switch(t=n.stateNode,n.type){case"input":if(en(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[fe]||null;if(!c)throw Error(r(90));en(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Is(l)}break t;case"textarea":Qt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&si(t,!!a.multiple,n,!1)}}}var Ln=!1;function ru(t,n,a){if(Ln)return t(n,a);Ln=!0;try{var l=t(n);return l}finally{if(Ln=!1,(ui!==null||oi!==null)&&(Ju(),ui&&(n=ui,t=oi,oi=ui=null,Ms(n),t)))for(n=0;n<t.length;n++)Ms(t[n])}}function Oa(t,n){var a=t.stateNode;if(a===null)return null;var l=a[fe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mn=!1;if(Dn)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){mn=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{mn=!1}var Pn=null,Li=null,ci=null;function xs(){if(ci)return ci;var t,n=Li,a=n.length,l,c="value"in Pn?Pn.value:Pn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var p=a-t;for(l=1;l<=p&&n[a-l]===c[f-l];l++);return ci=c.slice(t,1<l?1-l:void 0)}function Bn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function qn(){return!0}function Us(){return!1}function Re(t){function n(a,l,c,f,p){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qn:Us,this.isPropagationStopped=Us,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){},isPersistent:qn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yr=Re(qt),Ma=A({},qt,{view:0,detail:0}),su=Re(Ma),_r,vr,kn,xa=A({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:La,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kn&&(kn&&t.type==="mousemove"?(_r=t.screenX-kn.screenX,vr=t.screenY-kn.screenY):vr=_r=0,kn=t),_r)},movementY:function(t){return"movementY"in t?t.movementY:vr}}),gn=Re(xa),lu=A({},xa,{dataTransfer:0}),dc=Re(lu),Ua=A({},Ma,{relatedTarget:0}),Er=Re(Ua),zs=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Tr=Re(zs),uu=A({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ar=Re(uu),mc=A({},qt,{data:0}),Ls=Re(mc),za={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ps(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=cu[t])?!!n[t]:!1}function La(){return Ps}var hu=A({},Ma,{key:function(t){if(t.key){var n=za[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Bn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:La,charCode:function(t){return t.type==="keypress"?Bn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sr=Re(hu),fu=A({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bs=Re(fu),hi=A({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:La}),du=Re(hi),mu=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),gu=Re(mu),pu=A({},xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),br=Re(pu),Ke=A({},qt,{newState:0,oldState:0}),yu=Re(Ke),_u=[9,13,27,32],jn=Dn&&"CompositionEvent"in window,u=null;Dn&&"documentMode"in document&&(u=document.documentMode);var d=Dn&&"TextEvent"in window&&!u,g=Dn&&(!jn||u&&8<u&&11>=u),T=" ",U=!1;function k(t,n){switch(t){case"keyup":return _u.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nt=!1;function _e(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return t=n.data,t===T&&U?null:t;default:return null}}function Mt(t,n){if(Nt)return t==="compositionend"||!jn&&k(t,n)?(t=xs(),ci=Li=Pn=null,Nt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var we={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!we[t.type]:n==="textarea"}function fi(t,n,a,l){ui?oi?oi.push(l):oi=[l]:ui=l,n=ao(n,"onChange"),0<n.length&&(a=new yr("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Me=null,Hn=null;function qs(t){ep(t,0)}function vu(t){var n=Un(t);if(Is(n))return t}function Ad(t,n){if(t==="change")return n}var Sd=!1;if(Dn){var gc;if(Dn){var pc="oninput"in document;if(!pc){var bd=document.createElement("div");bd.setAttribute("oninput","return;"),pc=typeof bd.oninput=="function"}gc=pc}else gc=!1;Sd=gc&&(!document.documentMode||9<document.documentMode)}function Rd(){Me&&(Me.detachEvent("onpropertychange",wd),Hn=Me=null)}function wd(t){if(t.propertyName==="value"&&vu(Hn)){var n=[];fi(n,Hn,t,dn(t)),ru(qs,n)}}function Lv(t,n,a){t==="focusin"?(Rd(),Me=n,Hn=a,Me.attachEvent("onpropertychange",wd)):t==="focusout"&&Rd()}function Pv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vu(Hn)}function Bv(t,n){if(t==="click")return vu(n)}function qv(t,n){if(t==="input"||t==="change")return vu(n)}function kv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var nn=typeof Object.is=="function"?Object.is:kv;function ks(t,n){if(nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!pa.call(n,c)||!nn(t[c],n[c]))return!1}return!0}function Dd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cd(t,n){var a=Dd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Dd(a)}}function Vd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Vd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Id(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Da(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Da(t.document)}return n}function yc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var jv=Dn&&"documentMode"in document&&11>=document.documentMode,Rr=null,_c=null,js=null,vc=!1;function Od(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vc||Rr==null||Rr!==Da(l)||(l=Rr,"selectionStart"in l&&yc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),js&&ks(js,l)||(js=l,l=ao(_c,"onSelect"),0<l.length&&(n=new yr("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Rr)))}function Pa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var wr={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionrun:Pa("Transition","TransitionRun"),transitionstart:Pa("Transition","TransitionStart"),transitioncancel:Pa("Transition","TransitionCancel"),transitionend:Pa("Transition","TransitionEnd")},Ec={},Nd={};Dn&&(Nd=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function Ba(t){if(Ec[t])return Ec[t];if(!wr[t])return t;var n=wr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Nd)return Ec[t]=n[a];return t}var Md=Ba("animationend"),xd=Ba("animationiteration"),Ud=Ba("animationstart"),Hv=Ba("transitionrun"),Gv=Ba("transitionstart"),Qv=Ba("transitioncancel"),zd=Ba("transitionend"),Ld=new Map,Tc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tc.push("scrollEnd");function Cn(t,n){Ld.set(t,n),wn(n,[t])}var Pd=new WeakMap;function pn(t,n){if(typeof t=="object"&&t!==null){var a=Pd.get(t);return a!==void 0?a:(n={value:t,source:n,stack:mr(n)},Pd.set(t,n),n)}return{value:t,source:n,stack:mr(n)}}var yn=[],Dr=0,Ac=0;function Eu(){for(var t=Dr,n=Ac=Dr=0;n<t;){var a=yn[n];yn[n++]=null;var l=yn[n];yn[n++]=null;var c=yn[n];yn[n++]=null;var f=yn[n];if(yn[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&Bd(a,c,f)}}function Tu(t,n,a,l){yn[Dr++]=t,yn[Dr++]=n,yn[Dr++]=a,yn[Dr++]=l,Ac|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Sc(t,n,a,l){return Tu(t,n,a,l),Au(t)}function Cr(t,n){return Tu(t,null,null,n),Au(t)}function Bd(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-qe(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Au(t){if(50<dl)throw dl=0,Vh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Vr={};function Yv(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,n,a,l){return new Yv(t,n,a,l)}function bc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function di(t,n){var a=t.alternate;return a===null?(a=an(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function qd(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Su(t,n,a,l,c,f){var p=0;if(l=t,typeof t=="function")bc(t)&&(p=1);else if(typeof t=="string")p=K0(t,a,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=an(31,a,n,c),t.elementType=w,t.lanes=f,t;case j:return qa(a.children,c,f,n);case J:p=8,c|=24;break;case Z:return t=an(12,a,n,c|2),t.elementType=Z,t.lanes=f,t;case rt:return t=an(13,a,n,c),t.elementType=rt,t.lanes=f,t;case Ot:return t=an(19,a,n,c),t.elementType=Ot,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Et:case dt:p=10;break t;case _t:p=9;break t;case pt:p=11;break t;case I:p=14;break t;case S:p=16,l=null;break t}p=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=an(p,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function qa(t,n,a,l){return t=an(7,t,l,n),t.lanes=a,t}function Rc(t,n,a){return t=an(6,t,null,n),t.lanes=a,t}function wc(t,n,a){return n=an(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ir=[],Or=0,bu=null,Ru=0,_n=[],vn=0,ka=null,mi=1,gi="";function ja(t,n){Ir[Or++]=Ru,Ir[Or++]=bu,bu=t,Ru=n}function kd(t,n,a){_n[vn++]=mi,_n[vn++]=gi,_n[vn++]=ka,ka=t;var l=mi;t=gi;var c=32-qe(l)-1;l&=~(1<<c),a+=1;var f=32-qe(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,mi=1<<32-qe(n)+c|a<<c|l,gi=f+t}else mi=1<<f|a<<c|l,gi=t}function Dc(t){t.return!==null&&(ja(t,1),kd(t,1,0))}function Cc(t){for(;t===bu;)bu=Ir[--Or],Ir[Or]=null,Ru=Ir[--Or],Ir[Or]=null;for(;t===ka;)ka=_n[--vn],_n[vn]=null,gi=_n[--vn],_n[vn]=null,mi=_n[--vn],_n[vn]=null}var Xe=null,ae=null,Bt=!1,Ha=null,Gn=!1,Vc=Error(r(519));function Ga(t){var n=Error(r(418,""));throw Qs(pn(n,t)),Vc}function jd(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ye]=t,n[fe]=l,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<gl.length;a++)Ct(gl[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Ca(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),gr(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Va(n,l.value,l.defaultValue,l.children),gr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||rp(n.textContent,a)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=ro),n=!0):n=!1,n||Ga(t)}function Hd(t){for(Xe=t.return;Xe;)switch(Xe.tag){case 5:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Xe=Xe.return}}function Hs(t){if(t!==Xe)return!1;if(!Bt)return Hd(t),Bt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Qh(t.type,t.memoizedProps)),a=!a),a&&ae&&Ga(t),Hd(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){ae=In(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,Wi(t.type)?(t=Xh,Xh=null,ae=t):ae=n):ae=Xe?In(t.stateNode.nextSibling):null;return!0}function Gs(){ae=Xe=null,Bt=!1}function Gd(){var t=Ha;return t!==null&&(Je===null?Je=t:Je.push.apply(Je,t),Ha=null),t}function Qs(t){Ha===null?Ha=[t]:Ha.push(t)}var Ic=X(null),Qa=null,pi=null;function Pi(t,n,a){W(Ic,n._currentValue),n._currentValue=a}function yi(t){t._currentValue=Ic.current,nt(Ic)}function Oc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Nc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Oc(f.return,a,t),l||(p=null);break t}f=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),Oc(p,a,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function Ys(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=c.type;nn(c.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(c===be.current){if(p=c.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Tl):t=[Tl])}c=c.return}t!==null&&Nc(n,t,a,l),n.flags|=262144}function wu(t){for(t=t.firstContext;t!==null;){if(!nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ya(t){Qa=t,pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return Qd(Qa,t)}function Du(t,n){return Qa===null&&Ya(t),Qd(t,n)}function Qd(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},pi===null){if(t===null)throw Error(r(308));pi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else pi=pi.next=n;return a}var Fv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Kv=s.unstable_scheduleCallback,Xv=s.unstable_NormalPriority,Ee={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mc(){return{controller:new Fv,data:new Map,refCount:0}}function Fs(t){t.refCount--,t.refCount===0&&Kv(Xv,function(){t.controller.abort()})}var Ks=null,xc=0,Nr=0,Mr=null;function Zv(t,n){if(Ks===null){var a=Ks=[];xc=0,Nr=zh(),Mr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xc++,n.then(Yd,Yd),n}function Yd(){if(--xc===0&&Ks!==null){Mr!==null&&(Mr.status="fulfilled");var t=Ks;Ks=null,Nr=0,Mr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function $v(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Fd=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Zv(t,n),Fd!==null&&Fd(t,n)};var Fa=X(null);function Uc(){var t=Fa.current;return t!==null?t:$t.pooledCache}function Cu(t,n){n===null?W(Fa,Fa.current):W(Fa,n.pool)}function Kd(){var t=Uc();return t===null?null:{parent:Ee._currentValue,pool:t}}var Xs=Error(r(460)),Xd=Error(r(474)),Vu=Error(r(542)),zc={then:function(){}};function Zd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Iu(){}function $d(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Iu,Iu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Wd(t),t;default:if(typeof n.status=="string")n.then(Iu,Iu);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Wd(t),t}throw Zs=n,Xs}}var Zs=null;function Jd(){if(Zs===null)throw Error(r(459));var t=Zs;return Zs=null,t}function Wd(t){if(t===Xs||t===Vu)throw Error(r(483))}var Bi=!1;function Lc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ki(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Au(t),Bd(t,null,a),n}return Tu(t,l,n,a),Au(t)}function $s(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Rs(t,a)}}function Bc(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var qc=!1;function Js(){if(qc){var t=Mr;if(t!==null)throw t}}function Ws(t,n,a,l){qc=!1;var c=t.updateQueue;Bi=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,L=b.next;b.next=null,p===null?f=L:p.next=L,p=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=L:E.next=L,G.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;p=0,G=L=b=null,E=f;do{var P=E.lane&-536870913,B=P!==E.lane;if(B?(xt&P)===P:(l&P)===P){P!==0&&P===Nr&&(qc=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var mt=t,ot=E;P=n;var Kt=a;switch(ot.tag){case 1:if(mt=ot.payload,typeof mt=="function"){Y=mt.call(Kt,Y,P);break t}Y=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ot.payload,P=typeof mt=="function"?mt.call(Kt,Y,P):mt,P==null)break t;Y=A({},Y,P);break t;case 2:Bi=!0}}P=E.callback,P!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[P]:B.push(P))}else B={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(L=G=B,b=Y):G=G.next=B,p|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);G===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=L,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),Xi|=p,t.lanes=p,t.memoizedState=Y}}function tm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function em(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)tm(a[t],n)}var xr=X(null),Ou=X(0);function nm(t,n){t=bi,W(Ou,t),W(xr,n),bi=t|n.baseLanes}function kc(){W(Ou,bi),W(xr,xr.current)}function jc(){bi=Ou.current,nt(xr),nt(Ou)}var ji=0,St=null,Yt=null,me=null,Nu=!1,Ur=!1,Ka=!1,Mu=0,tl=0,zr=null,Jv=0;function ue(){throw Error(r(321))}function Hc(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!nn(t[a],n[a]))return!1;return!0}function Gc(t,n,a,l,c,f){return ji=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Bm:qm,Ka=!1,f=a(l,c),Ka=!1,Ur&&(f=am(n,a,l,c)),im(t),f}function im(t){H.H=Bu;var n=Yt!==null&&Yt.next!==null;if(ji=0,me=Yt=St=null,Nu=!1,tl=0,zr=null,n)throw Error(r(300));t===null||De||(t=t.dependencies,t!==null&&wu(t)&&(De=!0))}function am(t,n,a,l){St=t;var c=0;do{if(Ur&&(zr=null),tl=0,Ur=!1,25<=c)throw Error(r(301));if(c+=1,me=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=r0,f=n(a,l)}while(Ur);return f}function Wv(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?el(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(St.flags|=1024),n}function Qc(){var t=Mu!==0;return Mu=0,t}function Yc(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Fc(t){if(Nu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Nu=!1}ji=0,me=Yt=St=null,Ur=!1,tl=Mu=0,zr=null}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?St.memoizedState=me=t:me=me.next=t,me}function ge(){if(Yt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=me===null?St.memoizedState:me.next;if(n!==null)me=n,Yt=t;else{if(t===null)throw St.alternate===null?Error(r(467)):Error(r(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},me===null?St.memoizedState=me=t:me=me.next=t}return me}function Kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(t){var n=tl;return tl+=1,zr===null&&(zr=[]),t=$d(zr,t,n),n=St,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Bm:qm),t}function xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return el(t);if(t.$$typeof===dt)return ke(t)}throw Error(r(438,String(t)))}function Xc(t){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Kc(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function _i(t,n){return typeof n=="function"?n(t):n}function Uu(t){var n=ge();return Zc(n,Yt,t)}function Zc(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=p=null,b=null,L=n,G=!1;do{var Y=L.lane&-536870913;if(Y!==L.lane?(xt&Y)===Y:(ji&Y)===Y){var P=L.revertLane;if(P===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Y===Nr&&(G=!0);else if((ji&P)===P){L=L.next,P===Nr&&(G=!0);continue}else Y={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=Y,p=f):b=b.next=Y,St.lanes|=P,Xi|=P;Y=L.action,Ka&&a(f,Y),f=L.hasEagerState?L.eagerState:a(f,Y)}else P={lane:Y,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=P,p=f):b=b.next=P,St.lanes|=Y,Xi|=Y;L=L.next}while(L!==null&&L!==n);if(b===null?p=f:b.next=E,!nn(f,t.memoizedState)&&(De=!0,G&&(a=Mr,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function $c(t){var n=ge(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);nn(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function rm(t,n,a){var l=St,c=ge(),f=Bt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!nn((Yt||c).memoizedState,a);p&&(c.memoizedState=a,De=!0),c=c.queue;var E=um.bind(null,l,c,t);if(nl(2048,8,E,[t]),c.getSnapshot!==n||p||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,Lr(9,zu(),lm.bind(null,l,c,a,n),null),$t===null)throw Error(r(349));f||(ji&124)!==0||sm(l,n,a)}return a}function sm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=Kc(),St.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function lm(t,n,a,l){n.value=a,n.getSnapshot=l,om(n)&&cm(t)}function um(t,n,a){return a(function(){om(n)&&cm(t)})}function om(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!nn(t,a)}catch{return!0}}function cm(t){var n=Cr(t,2);n!==null&&on(n,t,2)}function Jc(t){var n=Ze();if(typeof t=="function"){var a=t;if(t=a(),Ka){tn(!0);try{a()}finally{tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},n}function hm(t,n,a,l){return t.baseState=a,Zc(t,Yt,typeof l=="function"?l:_i)}function t0(t,n,a,l,c){if(Pu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,fm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function fm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=a(c,l),b=H.S;b!==null&&b(p,E),dm(t,n,E)}catch(L){Wc(t,n,L)}finally{H.T=f}}else try{f=a(c,l),dm(t,n,f)}catch(L){Wc(t,n,L)}}function dm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){mm(t,n,l)},function(l){return Wc(t,n,l)}):mm(t,n,a)}function mm(t,n,a){n.status="fulfilled",n.value=a,gm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,fm(t,a)))}function Wc(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,gm(n),n=n.next;while(n!==l)}t.action=null}function gm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function pm(t,n){return n}function ym(t,n){if(Bt){var a=$t.formState;if(a!==null){t:{var l=St;if(Bt){if(ae){e:{for(var c=ae,f=Gn;c.nodeType!==8;){if(!f){c=null;break e}if(c=In(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=In(c.nextSibling),l=c.data==="F!";break t}}Ga(l)}l=!1}l&&(n=a[0])}}return a=Ze(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pm,lastRenderedState:n},a.queue=l,a=zm.bind(null,St,l),l.dispatch=a,l=Jc(!1),f=ah.bind(null,St,!1,l.queue),l=Ze(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=t0.bind(null,St,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function _m(t){var n=ge();return vm(n,Yt,t)}function vm(t,n,a){if(n=Zc(t,n,pm)[0],t=Uu(_i)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=el(n)}catch(p){throw p===Xs?Vu:p}else l=n;n=ge();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(St.flags|=2048,Lr(9,zu(),e0.bind(null,c,a),null)),[l,f,t]}function e0(t,n){t.action=n}function Em(t){var n=ge(),a=Yt;if(a!==null)return vm(n,a,t);ge(),n=n.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Lr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=Kc(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function zu(){return{destroy:void 0,resource:void 0}}function Tm(){return ge().memoizedState}function Lu(t,n,a,l){var c=Ze();l=l===void 0?null:l,St.flags|=t,c.memoizedState=Lr(1|n,zu(),a,l)}function nl(t,n,a,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&Hc(l,Yt.memoizedState.deps)?c.memoizedState=Lr(n,f,a,l):(St.flags|=t,c.memoizedState=Lr(1|n,f,a,l))}function Am(t,n){Lu(8390656,8,t,n)}function Sm(t,n){nl(2048,8,t,n)}function bm(t,n){return nl(4,2,t,n)}function Rm(t,n){return nl(4,4,t,n)}function wm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Dm(t,n,a){a=a!=null?a.concat([t]):null,nl(4,4,wm.bind(null,n,t),a)}function th(){}function Cm(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Hc(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Vm(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Hc(n,l[1]))return l[0];if(l=t(),Ka){tn(!0);try{t()}finally{tn(!1)}}return a.memoizedState=[l,n],l}function eh(t,n,a){return a===void 0||(ji&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Ng(),St.lanes|=t,Xi|=t,a)}function Im(t,n,a,l){return nn(a,n)?a:xr.current!==null?(t=eh(t,a,l),nn(t,n)||(De=!0),t):(ji&42)===0?(De=!0,t.memoizedState=a):(t=Ng(),St.lanes|=t,Xi|=t,n)}function Om(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,ah(t,!1,n,a);try{var b=c(),L=H.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=$v(b,l);il(t,n,G,un(t))}else il(t,n,l,un(t))}catch(Y){il(t,n,{then:function(){},status:"rejected",reason:Y},un())}finally{et.p=f,H.T=p}}function n0(){}function nh(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=Nm(t).queue;Om(t,c,n,lt,a===null?n0:function(){return Mm(t),a(l)})}function Nm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:lt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Mm(t){var n=Nm(t).next.queue;il(t,n,{},un())}function ih(){return ke(Tl)}function xm(){return ge().memoizedState}function Um(){return ge().memoizedState}function i0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=un();t=qi(a);var l=ki(n,t,a);l!==null&&(on(l,n,a),$s(l,n,a)),n={cache:Mc()},t.payload=n;return}n=n.return}}function a0(t,n,a){var l=un();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Pu(t)?Lm(n,a):(a=Sc(t,n,a,l),a!==null&&(on(a,t,l),Pm(a,n,l)))}function zm(t,n,a){var l=un();il(t,n,a,l)}function il(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pu(t))Lm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,a);if(c.hasEagerState=!0,c.eagerState=E,nn(E,p))return Tu(t,n,c,0),$t===null&&Eu(),!1}catch{}finally{}if(a=Sc(t,n,c,l),a!==null)return on(a,t,l),Pm(a,n,l),!0}return!1}function ah(t,n,a,l){if(l={lane:2,revertLane:zh(),action:l,hasEagerState:!1,eagerState:null,next:null},Pu(t)){if(n)throw Error(r(479))}else n=Sc(t,a,l,2),n!==null&&on(n,t,2)}function Pu(t){var n=t.alternate;return t===St||n!==null&&n===St}function Lm(t,n){Ur=Nu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Pm(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Rs(t,a)}}var Bu={readContext:ke,use:xu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},Bm={readContext:ke,use:xu,useCallback:function(t,n){return Ze().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:Am,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Lu(4194308,4,wm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Lu(4194308,4,t,n)},useInsertionEffect:function(t,n){Lu(4,2,t,n)},useMemo:function(t,n){var a=Ze();n=n===void 0?null:n;var l=t();if(Ka){tn(!0);try{t()}finally{tn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Ze();if(a!==void 0){var c=a(n);if(Ka){tn(!0);try{a(n)}finally{tn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=a0.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=Ze();return t={current:t},n.memoizedState=t},useState:function(t){t=Jc(t);var n=t.queue,a=zm.bind(null,St,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:th,useDeferredValue:function(t,n){var a=Ze();return eh(a,t,n)},useTransition:function(){var t=Jc(!1);return t=Om.bind(null,St,t.queue,!0,!1),Ze().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=St,c=Ze();if(Bt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),$t===null)throw Error(r(349));(xt&124)!==0||sm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Am(um.bind(null,l,f,t),[t]),l.flags|=2048,Lr(9,zu(),lm.bind(null,l,f,a,n),null),a},useId:function(){var t=Ze(),n=$t.identifierPrefix;if(Bt){var a=gi,l=mi;a=(l&~(1<<32-qe(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=Mu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=Jv++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:ih,useFormState:ym,useActionState:ym,useOptimistic:function(t){var n=Ze();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=ah.bind(null,St,!0,a),a.dispatch=n,[t,n]},useMemoCache:Xc,useCacheRefresh:function(){return Ze().memoizedState=i0.bind(null,St)}},qm={readContext:ke,use:xu,useCallback:Cm,useContext:ke,useEffect:Sm,useImperativeHandle:Dm,useInsertionEffect:bm,useLayoutEffect:Rm,useMemo:Vm,useReducer:Uu,useRef:Tm,useState:function(){return Uu(_i)},useDebugValue:th,useDeferredValue:function(t,n){var a=ge();return Im(a,Yt.memoizedState,t,n)},useTransition:function(){var t=Uu(_i)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:rm,useId:xm,useHostTransitionStatus:ih,useFormState:_m,useActionState:_m,useOptimistic:function(t,n){var a=ge();return hm(a,Yt,t,n)},useMemoCache:Xc,useCacheRefresh:Um},r0={readContext:ke,use:xu,useCallback:Cm,useContext:ke,useEffect:Sm,useImperativeHandle:Dm,useInsertionEffect:bm,useLayoutEffect:Rm,useMemo:Vm,useReducer:$c,useRef:Tm,useState:function(){return $c(_i)},useDebugValue:th,useDeferredValue:function(t,n){var a=ge();return Yt===null?eh(a,t,n):Im(a,Yt.memoizedState,t,n)},useTransition:function(){var t=$c(_i)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:rm,useId:xm,useHostTransitionStatus:ih,useFormState:Em,useActionState:Em,useOptimistic:function(t,n){var a=ge();return Yt!==null?hm(a,Yt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Xc,useCacheRefresh:Um},Pr=null,al=0;function qu(t){var n=al;return al+=1,Pr===null&&(Pr=[]),$d(Pr,t,n)}function rl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ku(t,n){throw n.$$typeof===O?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function km(t){var n=t._init;return n(t._payload)}function jm(t){function n(M,C){if(t){var z=M.deletions;z===null?(M.deletions=[C],M.flags|=16):z.push(C)}}function a(M,C){if(!t)return null;for(;C!==null;)n(M,C),C=C.sibling;return null}function l(M){for(var C=new Map;M!==null;)M.key!==null?C.set(M.key,M):C.set(M.index,M),M=M.sibling;return C}function c(M,C){return M=di(M,C),M.index=0,M.sibling=null,M}function f(M,C,z){return M.index=z,t?(z=M.alternate,z!==null?(z=z.index,z<C?(M.flags|=67108866,C):z):(M.flags|=67108866,C)):(M.flags|=1048576,C)}function p(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,C,z,Q){return C===null||C.tag!==6?(C=Rc(z,M.mode,Q),C.return=M,C):(C=c(C,z),C.return=M,C)}function b(M,C,z,Q){var at=z.type;return at===j?G(M,C,z.props.children,Q,z.key):C!==null&&(C.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&km(at)===C.type)?(C=c(C,z.props),rl(C,z),C.return=M,C):(C=Su(z.type,z.key,z.props,null,M.mode,Q),rl(C,z),C.return=M,C)}function L(M,C,z,Q){return C===null||C.tag!==4||C.stateNode.containerInfo!==z.containerInfo||C.stateNode.implementation!==z.implementation?(C=wc(z,M.mode,Q),C.return=M,C):(C=c(C,z.children||[]),C.return=M,C)}function G(M,C,z,Q,at){return C===null||C.tag!==7?(C=qa(z,M.mode,Q,at),C.return=M,C):(C=c(C,z),C.return=M,C)}function Y(M,C,z){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Rc(""+C,M.mode,z),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case q:return z=Su(C.type,C.key,C.props,null,M.mode,z),rl(z,C),z.return=M,z;case K:return C=wc(C,M.mode,z),C.return=M,C;case S:var Q=C._init;return C=Q(C._payload),Y(M,C,z)}if(ne(C)||x(C))return C=qa(C,M.mode,z,null),C.return=M,C;if(typeof C.then=="function")return Y(M,qu(C),z);if(C.$$typeof===dt)return Y(M,Du(M,C),z);ku(M,C)}return null}function P(M,C,z,Q){var at=C!==null?C.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:E(M,C,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case q:return z.key===at?b(M,C,z,Q):null;case K:return z.key===at?L(M,C,z,Q):null;case S:return at=z._init,z=at(z._payload),P(M,C,z,Q)}if(ne(z)||x(z))return at!==null?null:G(M,C,z,Q,null);if(typeof z.then=="function")return P(M,C,qu(z),Q);if(z.$$typeof===dt)return P(M,C,Du(M,z),Q);ku(M,z)}return null}function B(M,C,z,Q,at){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(z)||null,E(C,M,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case q:return M=M.get(Q.key===null?z:Q.key)||null,b(C,M,Q,at);case K:return M=M.get(Q.key===null?z:Q.key)||null,L(C,M,Q,at);case S:var wt=Q._init;return Q=wt(Q._payload),B(M,C,z,Q,at)}if(ne(Q)||x(Q))return M=M.get(z)||null,G(C,M,Q,at,null);if(typeof Q.then=="function")return B(M,C,z,qu(Q),at);if(Q.$$typeof===dt)return B(M,C,z,Du(C,Q),at);ku(C,Q)}return null}function mt(M,C,z,Q){for(var at=null,wt=null,st=C,ft=C=0,Ve=null;st!==null&&ft<z.length;ft++){st.index>ft?(Ve=st,st=null):Ve=st.sibling;var Lt=P(M,st,z[ft],Q);if(Lt===null){st===null&&(st=Ve);break}t&&st&&Lt.alternate===null&&n(M,st),C=f(Lt,C,ft),wt===null?at=Lt:wt.sibling=Lt,wt=Lt,st=Ve}if(ft===z.length)return a(M,st),Bt&&ja(M,ft),at;if(st===null){for(;ft<z.length;ft++)st=Y(M,z[ft],Q),st!==null&&(C=f(st,C,ft),wt===null?at=st:wt.sibling=st,wt=st);return Bt&&ja(M,ft),at}for(st=l(st);ft<z.length;ft++)Ve=B(st,M,ft,z[ft],Q),Ve!==null&&(t&&Ve.alternate!==null&&st.delete(Ve.key===null?ft:Ve.key),C=f(Ve,C,ft),wt===null?at=Ve:wt.sibling=Ve,wt=Ve);return t&&st.forEach(function(aa){return n(M,aa)}),Bt&&ja(M,ft),at}function ot(M,C,z,Q){if(z==null)throw Error(r(151));for(var at=null,wt=null,st=C,ft=C=0,Ve=null,Lt=z.next();st!==null&&!Lt.done;ft++,Lt=z.next()){st.index>ft?(Ve=st,st=null):Ve=st.sibling;var aa=P(M,st,Lt.value,Q);if(aa===null){st===null&&(st=Ve);break}t&&st&&aa.alternate===null&&n(M,st),C=f(aa,C,ft),wt===null?at=aa:wt.sibling=aa,wt=aa,st=Ve}if(Lt.done)return a(M,st),Bt&&ja(M,ft),at;if(st===null){for(;!Lt.done;ft++,Lt=z.next())Lt=Y(M,Lt.value,Q),Lt!==null&&(C=f(Lt,C,ft),wt===null?at=Lt:wt.sibling=Lt,wt=Lt);return Bt&&ja(M,ft),at}for(st=l(st);!Lt.done;ft++,Lt=z.next())Lt=B(st,M,ft,Lt.value,Q),Lt!==null&&(t&&Lt.alternate!==null&&st.delete(Lt.key===null?ft:Lt.key),C=f(Lt,C,ft),wt===null?at=Lt:wt.sibling=Lt,wt=Lt);return t&&st.forEach(function(sE){return n(M,sE)}),Bt&&ja(M,ft),at}function Kt(M,C,z,Q){if(typeof z=="object"&&z!==null&&z.type===j&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case q:t:{for(var at=z.key;C!==null;){if(C.key===at){if(at=z.type,at===j){if(C.tag===7){a(M,C.sibling),Q=c(C,z.props.children),Q.return=M,M=Q;break t}}else if(C.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&km(at)===C.type){a(M,C.sibling),Q=c(C,z.props),rl(Q,z),Q.return=M,M=Q;break t}a(M,C);break}else n(M,C);C=C.sibling}z.type===j?(Q=qa(z.props.children,M.mode,Q,z.key),Q.return=M,M=Q):(Q=Su(z.type,z.key,z.props,null,M.mode,Q),rl(Q,z),Q.return=M,M=Q)}return p(M);case K:t:{for(at=z.key;C!==null;){if(C.key===at)if(C.tag===4&&C.stateNode.containerInfo===z.containerInfo&&C.stateNode.implementation===z.implementation){a(M,C.sibling),Q=c(C,z.children||[]),Q.return=M,M=Q;break t}else{a(M,C);break}else n(M,C);C=C.sibling}Q=wc(z,M.mode,Q),Q.return=M,M=Q}return p(M);case S:return at=z._init,z=at(z._payload),Kt(M,C,z,Q)}if(ne(z))return mt(M,C,z,Q);if(x(z)){if(at=x(z),typeof at!="function")throw Error(r(150));return z=at.call(z),ot(M,C,z,Q)}if(typeof z.then=="function")return Kt(M,C,qu(z),Q);if(z.$$typeof===dt)return Kt(M,C,Du(M,z),Q);ku(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,C!==null&&C.tag===6?(a(M,C.sibling),Q=c(C,z),Q.return=M,M=Q):(a(M,C),Q=Rc(z,M.mode,Q),Q.return=M,M=Q),p(M)):a(M,C)}return function(M,C,z,Q){try{al=0;var at=Kt(M,C,z,Q);return Pr=null,at}catch(st){if(st===Xs||st===Vu)throw st;var wt=an(29,st,null,M.mode);return wt.lanes=Q,wt.return=M,wt}finally{}}}var Br=jm(!0),Hm=jm(!1),En=X(null),Qn=null;function Hi(t){var n=t.alternate;W(Te,Te.current&1),W(En,t),Qn===null&&(n===null||xr.current!==null||n.memoizedState!==null)&&(Qn=t)}function Gm(t){if(t.tag===22){if(W(Te,Te.current),W(En,t),Qn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Qn=t)}}else Gi()}function Gi(){W(Te,Te.current),W(En,En.current)}function vi(t){nt(En),Qn===t&&(Qn=null),nt(Te)}var Te=X(0);function ju(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Kh(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function rh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var sh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=un(),c=qi(l);c.payload=n,a!=null&&(c.callback=a),n=ki(t,c,l),n!==null&&(on(n,t,l),$s(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=un(),c=qi(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ki(t,c,l),n!==null&&(on(n,t,l),$s(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=un(),l=qi(a);l.tag=2,n!=null&&(l.callback=n),n=ki(t,l,a),n!==null&&(on(n,t,a),$s(n,t,a))}};function Qm(t,n,a,l,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!ks(a,l)||!ks(c,f):!0}function Ym(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&sh.enqueueReplaceState(n,n.state,null)}function Xa(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Fm(t){Hu(t)}function Km(t){console.error(t)}function Xm(t){Hu(t)}function Gu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Zm(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function lh(t,n,a){return a=qi(a),a.tag=3,a.payload={element:null},a.callback=function(){Gu(t,n)},a}function $m(t){return t=qi(t),t.tag=3,t}function Jm(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Zm(n,a,l)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Zm(n,a,l),typeof c!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function s0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ys(n,a,c,!0),a=En.current,a!==null){switch(a.tag){case 13:return Qn===null?Oh():a.alternate===null&&re===0&&(re=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===zc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Mh(t,l,c)),!1;case 22:return a.flags|=65536,l===zc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Mh(t,l,c)),!1}throw Error(r(435,a.tag))}return Mh(t,l,c),Oh(),!1}if(Bt)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Vc&&(t=Error(r(422),{cause:l}),Qs(pn(t,a)))):(l!==Vc&&(n=Error(r(423),{cause:l}),Qs(pn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=pn(l,a),c=lh(t.stateNode,l,c),Bc(t,c),re!==4&&(re=2)),!1;var f=Error(r(520),{cause:l});if(f=pn(f,a),fl===null?fl=[f]:fl.push(f),re!==4&&(re=2),n===null)return!0;l=pn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=lh(a.stateNode,l,t),Bc(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zi===null||!Zi.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=$m(c),Jm(c,t,a,l),Bc(a,c),!1}a=a.return}while(a!==null);return!1}var Wm=Error(r(461)),De=!1;function xe(t,n,a,l){n.child=t===null?Hm(n,null,a,l):Br(n,t.child,a,l)}function tg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Ya(n),l=Gc(t,n,a,p,f,c),E=Qc(),t!==null&&!De?(Yc(t,n,c),Ei(t,n,c)):(Bt&&E&&Dc(n),n.flags|=1,xe(t,n,l,c),n.child)}function eg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!bc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ng(t,n,f,l,c)):(t=Su(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!gh(t,c)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:ks,a(p,l)&&t.ref===n.ref)return Ei(t,n,c)}return n.flags|=1,t=di(f,l),t.ref=n.ref,t.return=n,n.child=t}function ng(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(ks(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,gh(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,Ei(t,n,c)}return uh(t,n,a,l,c)}function ig(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return ag(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cu(n,f!==null?f.cachePool:null),f!==null?nm(n,f):kc(),Gm(n);else return n.lanes=n.childLanes=536870912,ag(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Cu(n,f.cachePool),nm(n,f),Gi(),n.memoizedState=null):(t!==null&&Cu(n,null),kc(),Gi());return xe(t,n,c,a),n.child}function ag(t,n,a,l){var c=Uc();return c=c===null?null:{parent:Ee._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Cu(n,null),kc(),Gm(n),t!==null&&Ys(t,n,l,!0),null}function Qu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function uh(t,n,a,l,c){return Ya(n),a=Gc(t,n,a,l,void 0,c),l=Qc(),t!==null&&!De?(Yc(t,n,c),Ei(t,n,c)):(Bt&&l&&Dc(n),n.flags|=1,xe(t,n,a,c),n.child)}function rg(t,n,a,l,c,f){return Ya(n),n.updateQueue=null,a=am(n,l,a,c),im(t),l=Qc(),t!==null&&!De?(Yc(t,n,f),Ei(t,n,f)):(Bt&&l&&Dc(n),n.flags|=1,xe(t,n,a,f),n.child)}function sg(t,n,a,l,c){if(Ya(n),n.stateNode===null){var f=Vr,p=a.contextType;typeof p=="object"&&p!==null&&(f=ke(p)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=sh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Lc(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?ke(p):Vr,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(rh(n,a,p,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&sh.enqueueReplaceState(f,f.state,null),Ws(n,l,f,c),Js(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=Xa(a,E);f.props=b;var L=f.context,G=a.contextType;p=Vr,typeof G=="object"&&G!==null&&(p=ke(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==p)&&Ym(n,f,l,p),Bi=!1;var P=n.memoizedState;f.state=P,Ws(n,l,f,c),Js(),L=n.memoizedState,E||P!==L||Bi?(typeof Y=="function"&&(rh(n,a,Y,l),L=n.memoizedState),(b=Bi||Qm(n,a,b,l,P,L,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=L),f.props=l,f.state=L,f.context=p,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Pc(t,n),p=n.memoizedProps,G=Xa(a,p),f.props=G,Y=n.pendingProps,P=f.context,L=a.contextType,b=Vr,typeof L=="object"&&L!==null&&(b=ke(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||P!==b)&&Ym(n,f,l,b),Bi=!1,P=n.memoizedState,f.state=P,Ws(n,l,f,c),Js();var B=n.memoizedState;p!==Y||P!==B||Bi||t!==null&&t.dependencies!==null&&wu(t.dependencies)?(typeof E=="function"&&(rh(n,a,E,l),B=n.memoizedState),(G=Bi||Qm(n,a,G,l,P,B,b)||t!==null&&t.dependencies!==null&&wu(t.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Qu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Br(n,t.child,null,c),n.child=Br(n,null,a,c)):xe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ei(t,n,c),t}function lg(t,n,a,l){return Gs(),n.flags|=256,xe(t,n,a,l),n.child}var oh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ch(t){return{baseLanes:t,cachePool:Kd()}}function hh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Tn),t}function ug(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Hi(n):Gi(),Bt){var E=ae,b;if(b=E){t:{for(b=E,E=Gn;b.nodeType!==8;){if(!E){E=null;break t}if(b=In(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:ka!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},b=an(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Xe=n,ae=null,b=!0):b=!1}b||Ga(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Kh(E)?n.lanes=32:n.lanes=536870912,null;vi(n)}return E=l.children,l=l.fallback,c?(Gi(),c=n.mode,E=Yu({mode:"hidden",children:E},c),l=qa(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=ch(a),c.childLanes=hh(t,p,a),n.memoizedState=oh,l):(Hi(n),fh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Hi(n),n.flags&=-257,n=dh(t,n,a)):n.memoizedState!==null?(Gi(),n.child=t.child,n.flags|=128,n=null):(Gi(),c=l.fallback,E=n.mode,l=Yu({mode:"visible",children:l.children},E),c=qa(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Br(n,t.child,null,a),l=n.child,l.memoizedState=ch(a),l.childLanes=hh(t,p,a),n.memoizedState=oh,n=c);else if(Hi(n),Kh(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var L=p.dgst;p=L,l=Error(r(419)),l.stack="",l.digest=p,Qs({value:l,source:null,stack:null}),n=dh(t,n,a)}else if(De||Ys(t,n,a,!1),p=(a&t.childLanes)!==0,De||p){if(p=$t,p!==null&&(l=a&-a,l=(l&42)!==0?1:Oi(l),l=(l&(p.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Cr(t,l),on(p,t,l),Wm;E.data==="$?"||Oh(),n=dh(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ae=In(E.nextSibling),Xe=n,Bt=!0,Ha=null,Gn=!1,t!==null&&(_n[vn++]=mi,_n[vn++]=gi,_n[vn++]=ka,mi=t.id,gi=t.overflow,ka=n),n=fh(n,l.children),n.flags|=4096);return n}return c?(Gi(),c=l.fallback,E=n.mode,b=t.child,L=b.sibling,l=di(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,L!==null?c=di(L,c):(c=qa(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=ch(a):(b=E.cachePool,b!==null?(L=Ee._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=Kd(),E={baseLanes:E.baseLanes|a,cachePool:b}),c.memoizedState=E,c.childLanes=hh(t,p,a),n.memoizedState=oh,l):(Hi(n),a=t.child,t=a.sibling,a=di(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=a,n.memoizedState=null,a)}function fh(t,n){return n=Yu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Yu(t,n){return t=an(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function dh(t,n,a){return Br(n,t.child,null,a),t=fh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function og(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Oc(t.return,n,a)}function mh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function cg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,a),l=Te.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&og(t,a,n);else if(t.tag===19)og(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Te,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&ju(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),mh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&ju(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}mh(n,!0,a,null,f);break;case"together":mh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ei(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Xi|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ys(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=di(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=di(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function gh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&wu(t)))}function l0(t,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Pi(n,Ee,t.memoizedState.cache),Gs();break;case 27:case 5:Ii(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Pi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Hi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ug(t,n,a):(Hi(n),t=Ei(t,n,a),t!==null?t.sibling:null);Hi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ys(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return cg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(Te,Te.current),l)break;return null;case 22:case 23:return n.lanes=0,ig(t,n,a);case 24:Pi(n,Ee,t.memoizedState.cache)}return Ei(t,n,a)}function hg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!gh(t,a)&&(n.flags&128)===0)return De=!1,l0(t,n,a);De=(t.flags&131072)!==0}else De=!1,Bt&&(n.flags&1048576)!==0&&kd(n,Ru,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")bc(l)?(t=Xa(l,t),n.tag=1,n=sg(null,n,l,t,a)):(n.tag=0,n=uh(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===pt){n.tag=11,n=tg(null,n,l,t,a);break t}else if(c===I){n.tag=14,n=eg(null,n,l,t,a);break t}}throw n=Oe(l)||l,Error(r(306,n,""))}}return n;case 0:return uh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=Xa(l,n.pendingProps),sg(t,n,l,c,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Pc(t,n),Ws(n,l,null,a);var p=n.memoizedState;if(l=p.cache,Pi(n,Ee,l),l!==f.cache&&Nc(n,[Ee],a,!0),Js(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=lg(t,n,l,a);break t}else if(l!==c){c=pn(Error(r(424)),n),Qs(c),n=lg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=In(t.firstChild),Xe=n,Bt=!0,Ha=null,Gn=!0,a=Hm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Gs(),l===c){n=Ei(t,n,a);break t}xe(t,n,l,a)}n=n.child}return n;case 26:return Qu(t,n),t===null?(a=gp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,t=n.pendingProps,l=so(yt.current).createElement(a),l[ye]=n,l[fe]=t,ze(l,a,t),le(l),n.stateNode=l):n.memoizedState=gp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ii(n),t===null&&Bt&&(l=n.stateNode=fp(n.type,n.pendingProps,yt.current),Xe=n,Gn=!0,c=ae,Wi(n.type)?(Xh=c,ae=In(l.firstChild)):ae=c),xe(t,n,n.pendingProps.children,a),Qu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=ae)&&(l=U0(l,n.type,n.pendingProps,Gn),l!==null?(n.stateNode=l,Xe=n,ae=In(l.firstChild),Gn=!1,c=!0):c=!1),c||Ga(n)),Ii(n),c=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,Qh(c,f)?l=null:p!==null&&Qh(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=Gc(t,n,Wv,null,null,a),Tl._currentValue=c),Qu(t,n),xe(t,n,l,a),n.child;case 6:return t===null&&Bt&&((t=a=ae)&&(a=z0(a,n.pendingProps,Gn),a!==null?(n.stateNode=a,Xe=n,ae=null,t=!0):t=!1),t||Ga(n)),null;case 13:return ug(t,n,a);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Br(n,null,l,a):xe(t,n,l,a),n.child;case 11:return tg(t,n,n.type,n.pendingProps,a);case 7:return xe(t,n,n.pendingProps,a),n.child;case 8:return xe(t,n,n.pendingProps.children,a),n.child;case 12:return xe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Pi(n,n.type,l.value),xe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Ya(n),c=ke(c),l=l(c),n.flags|=1,xe(t,n,l,a),n.child;case 14:return eg(t,n,n.type,n.pendingProps,a);case 15:return ng(t,n,n.type,n.pendingProps,a);case 19:return cg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Yu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=di(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return ig(t,n,a);case 24:return Ya(n),l=ke(Ee),t===null?(c=Uc(),c===null&&(c=$t,f=Mc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},Lc(n),Pi(n,Ee,c)):((t.lanes&a)!==0&&(Pc(t,n),Ws(n,null,null,a),Js()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Pi(n,Ee,l)):(l=f.cache,Pi(n,Ee,l),l!==c.cache&&Nc(n,[Ee],a,!0))),xe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ti(t){t.flags|=4}function fg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ep(n)){if(n=En.current,n!==null&&((xt&4194048)===xt?Qn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==Qn))throw Zs=zc,Xd;t.flags|=8192}}function Fu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ss():536870912,t.lanes|=n,Hr|=n)}function sl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function u0(t,n,a){var l=n.pendingProps;switch(Cc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),yi(Ee),Nn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Hs(n)?Ti(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gd())),te(n),null;case 26:return a=n.memoizedState,t===null?(Ti(n),a!==null?(te(n),fg(n,a)):(te(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ti(n),te(n),fg(n,a)):(te(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ti(n),te(n),n.flags&=-16777217),null;case 27:ti(n),a=yt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return te(n),null}t=ut.current,Hs(n)?jd(n):(t=fp(c,l,a),n.stateNode=t,Ti(n))}return te(n),null;case 5:if(ti(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return te(n),null}if(t=ut.current,Hs(n))jd(n);else{switch(c=so(yt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[ye]=n,t[fe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ti(n)}}return te(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=yt.current,Hs(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||rp(t.nodeValue,a)),t||Ga(n)}else t=so(t).createTextNode(l),t[ye]=n,n.stateNode=t}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Hs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ye]=n}else Gs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else c=Gd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(vi(n),n):(vi(n),null)}if(vi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Fu(n,n.updateQueue),te(n),null;case 4:return Nn(),t===null&&qh(n.stateNode.containerInfo),te(n),null;case 10:return yi(n.type),te(n),null;case 19:if(nt(Te),c=n.memoizedState,c===null)return te(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)sl(c,!1);else{if(re!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ju(t),f!==null){for(n.flags|=128,sl(c,!1),t=f.updateQueue,n.updateQueue=t,Fu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)qd(a,t),a=a.sibling;return W(Te,Te.current&1|2),n.child}t=t.sibling}c.tail!==null&&cn()>Zu&&(n.flags|=128,l=!0,sl(c,!1),n.lanes=4194304)}else{if(!l)if(t=ju(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Fu(n,t),sl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return te(n),null}else 2*cn()-c.renderingStartTime>Zu&&a!==536870912&&(n.flags|=128,l=!0,sl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=cn(),n.sibling=null,t=Te.current,W(Te,l?t&1|2:t&1),n):(te(n),null);case 22:case 23:return vi(n),jc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),a=n.updateQueue,a!==null&&Fu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&nt(Fa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),yi(Ee),te(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function o0(t,n){switch(Cc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return yi(Ee),Nn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ti(n),null;case 13:if(vi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Gs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Te),null;case 4:return Nn(),null;case 10:return yi(n.type),null;case 22:case 23:return vi(n),jc(),t!==null&&nt(Fa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return yi(Ee),null;case 25:return null;default:return null}}function dg(t,n){switch(Cc(n),n.tag){case 3:yi(Ee),Nn();break;case 26:case 27:case 5:ti(n);break;case 4:Nn();break;case 13:vi(n);break;case 19:nt(Te);break;case 10:yi(n.type);break;case 22:case 23:vi(n),jc(),t!==null&&nt(Fa);break;case 24:yi(Ee)}}function ll(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,p=a.inst;l=f(),p.destroy=l}a=a.next}while(a!==c)}}catch(E){Xt(n,n.return,E)}}function Qi(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var b=a,L=E;try{L()}catch(G){Xt(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){Xt(n,n.return,G)}}function mg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{em(n,a)}catch(l){Xt(t,t.return,l)}}}function gg(t,n,a){a.props=Xa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(t,n,l)}}function ul(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Xt(t,n,c)}}function Yn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Xt(t,n,c)}else a.current=null}function pg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Xt(t,t.return,c)}}function ph(t,n,a){try{var l=t.stateNode;I0(l,t.type,a,n),l[fe]=n}catch(c){Xt(t,t.return,c)}}function yg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Wi(t.type)||t.tag===4}function yh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||yg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Wi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _h(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ro));else if(l!==4&&(l===27&&Wi(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(_h(t,n,a),t=t.sibling;t!==null;)_h(t,n,a),t=t.sibling}function Ku(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Wi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ku(t,n,a),t=t.sibling;t!==null;)Ku(t,n,a),t=t.sibling}function _g(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,l,a),n[ye]=t,n[fe]=a}catch(f){Xt(t,t.return,f)}}var Ai=!1,oe=!1,vh=!1,vg=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function c0(t,n){if(t=t.containerInfo,Hh=fo,t=Id(t),yc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,E=-1,b=-1,L=0,G=0,Y=t,P=null;e:for(;;){for(var B;Y!==a||c!==0&&Y.nodeType!==3||(E=p+c),Y!==f||l!==0&&Y.nodeType!==3||(b=p+l),Y.nodeType===3&&(p+=Y.nodeValue.length),(B=Y.firstChild)!==null;)P=Y,Y=B;for(;;){if(Y===t)break e;if(P===a&&++L===c&&(E=p),P===f&&++G===l&&(b=p),(B=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=B}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gh={focusedElem:t,selectionRange:a},fo=!1,Ce=n;Ce!==null;)if(n=Ce,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ce=t;else for(;Ce!==null;){switch(n=Ce,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var mt=Xa(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(mt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ot){Xt(a,a.return,ot)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Fh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Fh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ce=t;break}Ce=n.return}}function Eg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(t,a),l&4&&ll(5,a);break;case 1:if(Yi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(p){Xt(a,a.return,p)}else{var c=Xa(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Xt(a,a.return,p)}}l&64&&mg(a),l&512&&ul(a,a.return);break;case 3:if(Yi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{em(t,n)}catch(p){Xt(a,a.return,p)}}break;case 27:n===null&&l&4&&_g(a);case 26:case 5:Yi(t,a),n===null&&l&4&&pg(a),l&512&&ul(a,a.return);break;case 12:Yi(t,a);break;case 13:Yi(t,a),l&4&&Sg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=v0.bind(null,a),L0(t,a))));break;case 22:if(l=a.memoizedState!==null||Ai,!l){n=n!==null&&n.memoizedState!==null||oe,c=Ai;var f=oe;Ai=l,(oe=n)&&!f?Fi(t,a,(a.subtreeFlags&8772)!==0):Yi(t,a),Ai=c,oe=f}break;case 30:break;default:Yi(t,a)}}function Tg(t){var n=t.alternate;n!==null&&(t.alternate=null,Tg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&xi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Wt=null,$e=!1;function Si(t,n,a){for(a=a.child;a!==null;)Ag(t,n,a),a=a.sibling}function Ag(t,n,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ie,a)}catch{}switch(a.tag){case 26:oe||Yn(a,n),Si(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:oe||Yn(a,n);var l=Wt,c=$e;Wi(a.type)&&(Wt=a.stateNode,$e=!1),Si(t,n,a),yl(a.stateNode),Wt=l,$e=c;break;case 5:oe||Yn(a,n);case 6:if(l=Wt,c=$e,Wt=null,Si(t,n,a),Wt=l,$e=c,Wt!==null)if($e)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(a.stateNode)}catch(f){Xt(a,n,f)}else try{Wt.removeChild(a.stateNode)}catch(f){Xt(a,n,f)}break;case 18:Wt!==null&&($e?(t=Wt,cp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Rl(t)):cp(Wt,a.stateNode));break;case 4:l=Wt,c=$e,Wt=a.stateNode.containerInfo,$e=!0,Si(t,n,a),Wt=l,$e=c;break;case 0:case 11:case 14:case 15:oe||Qi(2,a,n),oe||Qi(4,a,n),Si(t,n,a);break;case 1:oe||(Yn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&gg(a,n,l)),Si(t,n,a);break;case 21:Si(t,n,a);break;case 22:oe=(l=oe)||a.memoizedState!==null,Si(t,n,a),oe=l;break;default:Si(t,n,a)}}function Sg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Rl(t)}catch(a){Xt(n,n.return,a)}}function h0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new vg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new vg),n;default:throw Error(r(435,t.tag))}}function Eh(t,n){var a=h0(t);n.forEach(function(l){var c=E0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function rn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Wi(E.type)){Wt=E.stateNode,$e=!1;break t}break;case 5:Wt=E.stateNode,$e=!1;break t;case 3:case 4:Wt=E.stateNode.containerInfo,$e=!0;break t}E=E.return}if(Wt===null)throw Error(r(160));Ag(f,p,c),Wt=null,$e=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)bg(n,t),n=n.sibling}var Vn=null;function bg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rn(n,t),sn(t),l&4&&(Qi(3,t,t.return),ll(3,t),Qi(5,t,t.return));break;case 1:rn(n,t),sn(t),l&512&&(oe||a===null||Yn(a,a.return)),l&64&&Ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Vn;if(rn(n,t),sn(t),l&512&&(oe||a===null||Yn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ba]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,a),f[ye]=t,le(f),l=f;break t;case"link":var p=_p("link","href",c).get(l+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break e}}f=c.createElement(l),ze(f,l,a),c.head.appendChild(f);break;case"meta":if(p=_p("meta","content",c).get(l+(a.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break e}}f=c.createElement(l),ze(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[ye]=t,le(f),l=f}t.stateNode=l}else vp(c,t.type,t.stateNode);else t.stateNode=yp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?vp(c,t.type,t.stateNode):yp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ph(t,t.memoizedProps,a.memoizedProps)}break;case 27:rn(n,t),sn(t),l&512&&(oe||a===null||Yn(a,a.return)),a!==null&&l&4&&ph(t,t.memoizedProps,a.memoizedProps);break;case 5:if(rn(n,t),sn(t),l&512&&(oe||a===null||Yn(a,a.return)),t.flags&32){c=t.stateNode;try{fn(c,"")}catch(B){Xt(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,ph(t,c,a!==null?a.memoizedProps:c)),l&1024&&(vh=!0);break;case 6:if(rn(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(B){Xt(t,t.return,B)}}break;case 3:if(oo=null,c=Vn,Vn=lo(n.containerInfo),rn(n,t),Vn=c,sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Rl(n.containerInfo)}catch(B){Xt(t,t.return,B)}vh&&(vh=!1,Rg(t));break;case 4:l=Vn,Vn=lo(t.stateNode.containerInfo),rn(n,t),sn(t),Vn=l;break;case 12:rn(n,t),sn(t);break;case 13:rn(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wh=cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Eh(t,l)));break;case 22:c=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,L=Ai,G=oe;if(Ai=L||c,oe=G||b,rn(n,t),oe=G,Ai=L,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||b||Ai||oe||Za(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(f=b.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,P=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(B){Xt(b,b.return,B)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(B){Xt(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Eh(t,a))));break;case 19:rn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Eh(t,l)));break;case 30:break;case 21:break;default:rn(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(yg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=yh(t);Ku(t,f,c);break;case 5:var p=a.stateNode;a.flags&32&&(fn(p,""),a.flags&=-33);var E=yh(t);Ku(t,E,p);break;case 3:case 4:var b=a.stateNode.containerInfo,L=yh(t);_h(t,L,b);break;default:throw Error(r(161))}}catch(G){Xt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Rg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Rg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Yi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Eg(t,n.alternate,n),n=n.sibling}function Za(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Qi(4,n,n.return),Za(n);break;case 1:Yn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&gg(n,n.return,a),Za(n);break;case 27:yl(n.stateNode);case 26:case 5:Yn(n,n.return),Za(n);break;case 22:n.memoizedState===null&&Za(n);break;case 30:Za(n);break;default:Za(n)}t=t.sibling}}function Fi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(c,f,a),ll(4,f);break;case 1:if(Fi(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(L){Xt(l,l.return,L)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)tm(b[c],E)}catch(L){Xt(l,l.return,L)}}a&&p&64&&mg(f),ul(f,f.return);break;case 27:_g(f);case 26:case 5:Fi(c,f,a),a&&l===null&&p&4&&pg(f),ul(f,f.return);break;case 12:Fi(c,f,a);break;case 13:Fi(c,f,a),a&&p&4&&Sg(c,f);break;case 22:f.memoizedState===null&&Fi(c,f,a),ul(f,f.return);break;case 30:break;default:Fi(c,f,a)}n=n.sibling}}function Th(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Fs(a))}function Ah(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Fs(t))}function Fn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wg(t,n,a,l),n=n.sibling}function wg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(t,n,a,l),c&2048&&ll(9,n);break;case 1:Fn(t,n,a,l);break;case 3:Fn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Fs(t)));break;case 12:if(c&2048){Fn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else Fn(t,n,a,l);break;case 13:Fn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Fn(t,n,a,l):ol(t,n):f._visibility&2?Fn(t,n,a,l):(f._visibility|=2,qr(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Th(p,n);break;case 24:Fn(t,n,a,l),c&2048&&Ah(n.alternate,n);break;default:Fn(t,n,a,l)}}function qr(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,p=n,E=a,b=l,L=p.flags;switch(p.tag){case 0:case 11:case 15:qr(f,p,E,b,c),ll(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?qr(f,p,E,b,c):ol(f,p):(G._visibility|=2,qr(f,p,E,b,c)),c&&L&2048&&Th(p.alternate,p);break;case 24:qr(f,p,E,b,c),c&&L&2048&&Ah(p.alternate,p);break;default:qr(f,p,E,b,c)}n=n.sibling}}function ol(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:ol(a,l),c&2048&&Th(l.alternate,l);break;case 24:ol(a,l),c&2048&&Ah(l.alternate,l);break;default:ol(a,l)}n=n.sibling}}var cl=8192;function kr(t){if(t.subtreeFlags&cl)for(t=t.child;t!==null;)Dg(t),t=t.sibling}function Dg(t){switch(t.tag){case 26:kr(t),t.flags&cl&&t.memoizedState!==null&&Z0(Vn,t.memoizedState,t.memoizedProps);break;case 5:kr(t);break;case 3:case 4:var n=Vn;Vn=lo(t.stateNode.containerInfo),kr(t),Vn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=cl,cl=16777216,kr(t),cl=n):kr(t));break;default:kr(t)}}function Cg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function hl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ce=l,Ig(l,t)}Cg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vg(t),t=t.sibling}function Vg(t){switch(t.tag){case 0:case 11:case 15:hl(t),t.flags&2048&&Qi(9,t,t.return);break;case 3:hl(t);break;case 12:hl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Xu(t)):hl(t);break;default:hl(t)}}function Xu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ce=l,Ig(l,t)}Cg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Qi(8,n,n.return),Xu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Xu(n));break;default:Xu(n)}t=t.sibling}}function Ig(t,n){for(;Ce!==null;){var a=Ce;switch(a.tag){case 0:case 11:case 15:Qi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fs(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ce=l;else t:for(a=t;Ce!==null;){l=Ce;var c=l.sibling,f=l.return;if(Tg(l),l===a){Ce=null;break t}if(c!==null){c.return=f,Ce=c;break t}Ce=f}}}var f0={getCacheForType:function(t){var n=ke(Ee),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},d0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,Dt=null,xt=0,Gt=0,ln=null,Ki=!1,jr=!1,Sh=!1,bi=0,re=0,Xi=0,$a=0,bh=0,Tn=0,Hr=0,fl=null,Je=null,Rh=!1,wh=0,Zu=1/0,$u=null,Zi=null,Ue=0,$i=null,Gr=null,Qr=0,Dh=0,Ch=null,Og=null,dl=0,Vh=null;function un(){if((Ht&2)!==0&&xt!==0)return xt&-xt;if(H.T!==null){var t=Nr;return t!==0?t:zh()}return Ni()}function Ng(){Tn===0&&(Tn=(xt&536870912)===0||Bt?As():536870912);var t=En.current;return t!==null&&(t.flags|=32),Tn}function on(t,n,a){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(Yr(t,0),Ji(t,xt,Tn,!1)),ni(t,a),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&($a|=a),re===4&&Ji(t,xt,Tn,!1)),Kn(t))}function Mg(t,n,a){if((Ht&6)!==0)throw Error(r(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Sa(t,n),c=l?p0(t,n):Nh(t,n,!0),f=l;do{if(c===0){jr&&!l&&Ji(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!m0(a)){c=Nh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=t;c=fl;var b=E.current.memoizedState.isDehydrated;if(b&&(Yr(E,p).flags|=256),p=Nh(E,p,!1),p!==2){if(Sh&&!b){E.errorRecoveryDisabledLanes|=f,$a|=f,c=4;break t}f=Je,Je=c,f!==null&&(Je===null?Je=f:Je.push.apply(Je,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){Yr(t,0),Ji(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ji(l,n,Tn,!Ki);break t;case 2:Je=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=wh+300-cn(),10<c)){if(Ji(l,n,Tn,!Ki),or(l,0,!0)!==0)break t;l.timeoutHandle=up(xg.bind(null,l,a,Je,$u,Rh,n,Tn,$a,Hr,Ki,f,2,-0,0),c);break t}xg(l,a,Je,$u,Rh,n,Tn,$a,Hr,Ki,f,0,-0,0)}}break}while(!0);Kn(t)}function xg(t,n,a,l,c,f,p,E,b,L,G,Y,P,B){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(El={stylesheets:null,count:0,unsuspend:X0},Dg(n),Y=$0(),Y!==null)){t.cancelPendingCommit=Y(kg.bind(null,t,n,f,a,l,c,p,E,b,G,1,P,B)),Ji(t,f,p,!L);return}kg(t,n,f,a,l,c,p,E,b)}function m0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!nn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ji(t,n,a,l){n&=~bh,n&=~$a,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-qe(c),p=1<<f;l[f]=-1,c&=~p}a!==0&&Mn(t,a,n)}function Ju(){return(Ht&6)===0?(ml(0),!1):!0}function Ih(){if(Dt!==null){if(Gt===0)var t=Dt.return;else t=Dt,pi=Qa=null,Fc(t),Pr=null,al=0,t=Dt;for(;t!==null;)dg(t.alternate,t),t=t.return;Dt=null}}function Yr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,N0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ih(),$t=t,Dt=a=di(t.current,null),xt=n,Gt=0,ln=null,Ki=!1,jr=Sa(t,n),Sh=!1,Hr=Tn=bh=$a=Xi=re=0,Je=fl=null,Rh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-qe(l),f=1<<c;n|=t[c],l&=~f}return bi=n,Eu(),a}function Ug(t,n){St=null,H.H=Bu,n===Xs||n===Vu?(n=Jd(),Gt=3):n===Xd?(n=Jd(),Gt=4):Gt=n===Wm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ln=n,Dt===null&&(re=1,Gu(t,pn(n,t.current)))}function zg(){var t=H.H;return H.H=Bu,t===null?Bu:t}function Lg(){var t=H.A;return H.A=f0,t}function Oh(){re=4,Ki||(xt&4194048)!==xt&&En.current!==null||(jr=!0),(Xi&134217727)===0&&($a&134217727)===0||$t===null||Ji($t,xt,Tn,!1)}function Nh(t,n,a){var l=Ht;Ht|=2;var c=zg(),f=Lg();($t!==t||xt!==n)&&($u=null,Yr(t,n)),n=!1;var p=re;t:do try{if(Gt!==0&&Dt!==null){var E=Dt,b=ln;switch(Gt){case 8:Ih(),p=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var L=Gt;if(Gt=0,ln=null,Fr(t,E,b,L),a&&jr){p=0;break t}break;default:L=Gt,Gt=0,ln=null,Fr(t,E,b,L)}}g0(),p=re;break}catch(G){Ug(t,G)}while(!0);return n&&t.shellSuspendCounter++,pi=Qa=null,Ht=l,H.H=c,H.A=f,Dt===null&&($t=null,xt=0,Eu()),p}function g0(){for(;Dt!==null;)Pg(Dt)}function p0(t,n){var a=Ht;Ht|=2;var l=zg(),c=Lg();$t!==t||xt!==n?($u=null,Zu=cn()+500,Yr(t,n)):jr=Sa(t,n);t:do try{if(Gt!==0&&Dt!==null){n=Dt;var f=ln;e:switch(Gt){case 1:Gt=0,ln=null,Fr(t,n,f,1);break;case 2:case 9:if(Zd(f)){Gt=0,ln=null,Bg(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Kn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Zd(f)?(Gt=0,ln=null,Bg(n)):(Gt=0,ln=null,Fr(t,n,f,7));break;case 5:var p=null;switch(Dt.tag){case 26:p=Dt.memoizedState;case 5:case 27:var E=Dt;if(!p||Ep(p)){Gt=0,ln=null;var b=E.sibling;if(b!==null)Dt=b;else{var L=E.return;L!==null?(Dt=L,Wu(L)):Dt=null}break e}}Gt=0,ln=null,Fr(t,n,f,5);break;case 6:Gt=0,ln=null,Fr(t,n,f,6);break;case 8:Ih(),re=6;break t;default:throw Error(r(462))}}y0();break}catch(G){Ug(t,G)}while(!0);return pi=Qa=null,H.H=l,H.A=c,Ht=a,Dt!==null?0:($t=null,xt=0,Eu(),re)}function y0(){for(;Dt!==null&&!_s();)Pg(Dt)}function Pg(t){var n=hg(t.alternate,t,bi);t.memoizedProps=t.pendingProps,n===null?Wu(t):Dt=n}function Bg(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=rg(a,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=rg(a,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:Fc(n);default:dg(a,n),n=Dt=qd(n,bi),n=hg(a,n,bi)}t.memoizedProps=t.pendingProps,n===null?Wu(t):Dt=n}function Fr(t,n,a,l){pi=Qa=null,Fc(n),Pr=null,al=0;var c=n.return;try{if(s0(t,c,n,a,xt)){re=1,Gu(t,pn(a,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;re=1,Gu(t,pn(a,t.current)),Dt=null;return}n.flags&32768?(Bt||l===1?t=!0:jr||(xt&536870912)!==0?t=!1:(Ki=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),qg(n,t)):Wu(n)}function Wu(t){var n=t;do{if((n.flags&32768)!==0){qg(n,Ki);return}t=n.return;var a=u0(n.alternate,n,bi);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);re===0&&(re=5)}function qg(t,n){do{var a=o0(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);re=6,Dt=null}function kg(t,n,a,l,c,f,p,E,b){t.cancelPendingCommit=null;do to();while(Ue!==0);if((Ht&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Ac,bs(t,a,f,p,E,b),t===$t&&(Dt=$t=null,xt=0),Gr=n,$i=t,Qr=a,Dh=f,Ch=c,Og=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,T0(va,function(){return Yg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,p=Ht,Ht|=4;try{c0(t,n,a)}finally{Ht=p,et.p=c,H.T=l}}Ue=1,jg(),Hg(),Gg()}}function jg(){if(Ue===1){Ue=0;var t=$i,n=Gr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{bg(n,t);var f=Gh,p=Id(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Vd(E.ownerDocument.documentElement,E)){if(b!==null&&yc(E)){var L=b.start,G=b.end;if(G===void 0&&(G=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,P=Y&&Y.defaultView||window;if(P.getSelection){var B=P.getSelection(),mt=E.textContent.length,ot=Math.min(b.start,mt),Kt=b.end===void 0?ot:Math.min(b.end,mt);!B.extend&&ot>Kt&&(p=Kt,Kt=ot,ot=p);var M=Cd(E,ot),C=Cd(E,Kt);if(M&&C&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==C.node||B.focusOffset!==C.offset)){var z=Y.createRange();z.setStart(M.node,M.offset),B.removeAllRanges(),ot>Kt?(B.addRange(z),B.extend(C.node,C.offset)):(z.setEnd(C.node,C.offset),B.addRange(z))}}}}for(Y=[],B=E;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}fo=!!Hh,Gh=Hh=null}finally{Ht=c,et.p=l,H.T=a}}t.current=n,Ue=2}}function Hg(){if(Ue===2){Ue=0;var t=$i,n=Gr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{Eg(t,n.alternate,n)}finally{Ht=c,et.p=l,H.T=a}}Ue=3}}function Gg(){if(Ue===4||Ue===3){Ue=0,Xl();var t=$i,n=Gr,a=Qr,l=Og;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Gr=$i=null,Qg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Zi=null),cr(a),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ie,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(Qr&3)!==0&&to(),Kn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===Vh?dl++:(dl=0,Vh=t):dl=0,ml(0)}}function Qg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Fs(n)))}function to(t){return jg(),Hg(),Gg(),Yg()}function Yg(){if(Ue!==5)return!1;var t=$i,n=Dh;Dh=0;var a=cr(Qr),l=H.T,c=et.p;try{et.p=32>a?32:a,H.T=null,a=Ch,Ch=null;var f=$i,p=Qr;if(Ue=0,Gr=$i=null,Qr=0,(Ht&6)!==0)throw Error(r(331));var E=Ht;if(Ht|=4,Vg(f.current),wg(f,f.current,p,a),Ht=E,ml(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ie,f)}catch{}return!0}finally{et.p=c,H.T=l,Qg(t,n)}}function Fg(t,n,a){n=pn(a,n),n=lh(t.stateNode,n,2),t=ki(t,n,2),t!==null&&(ni(t,2),Kn(t))}function Xt(t,n,a){if(t.tag===3)Fg(t,t,a);else for(;n!==null;){if(n.tag===3){Fg(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zi===null||!Zi.has(l))){t=pn(a,t),a=$m(2),l=ki(n,a,2),l!==null&&(Jm(a,l,n,t),ni(l,2),Kn(l));break}}n=n.return}}function Mh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new d0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Sh=!0,c.add(a),t=_0.bind(null,t,n,a),n.then(t,t))}function _0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$t===t&&(xt&a)===a&&(re===4||re===3&&(xt&62914560)===xt&&300>cn()-wh?(Ht&2)===0&&Yr(t,0):bh|=a,Hr===xt&&(Hr=0)),Kn(t)}function Kg(t,n){n===0&&(n=Ss()),t=Cr(t,n),t!==null&&(ni(t,n),Kn(t))}function v0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Kg(t,a)}function E0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Kg(t,a)}function T0(t,n){return ya(t,n)}var eo=null,Kr=null,xh=!1,no=!1,Uh=!1,Ja=0;function Kn(t){t!==Kr&&t.next===null&&(Kr===null?eo=Kr=t:Kr=Kr.next=t),no=!0,xh||(xh=!0,S0())}function ml(t,n){if(!Uh&&no){Uh=!0;do for(var a=!1,l=eo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-qe(42|t)+1)-1,f&=c&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Jg(l,f))}else f=xt,f=or(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Sa(l,f)||(a=!0,Jg(l,f));l=l.next}while(a);Uh=!1}}function A0(){Xg()}function Xg(){no=xh=!1;var t=0;Ja!==0&&(O0()&&(t=Ja),Ja=0);for(var n=cn(),a=null,l=eo;l!==null;){var c=l.next,f=Zg(l,n);f===0?(l.next=null,a===null?eo=c:a.next=c,c===null&&(Kr=a)):(a=l,(t!==0||(f&3)!==0)&&(no=!0)),l=c}ml(t)}function Zg(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-qe(f),E=1<<p,b=c[p];b===-1?((E&a)===0||(E&l)!==0)&&(c[p]=Ts(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,a=xt,a=or(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_a(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Sa(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&_a(l),cr(a)){case 2:case 8:a=lr;break;case 32:a=va;break;case 268435456:a=ur;break;default:a=va}return l=$g.bind(null,t),a=ya(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&_a(l),t.callbackPriority=2,t.callbackNode=null,2}function $g(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(to()&&t.callbackNode!==a)return null;var l=xt;return l=or(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Mg(t,l,n),Zg(t,cn()),t.callbackNode!=null&&t.callbackNode===a?$g.bind(null,t):null)}function Jg(t,n){if(to())return null;Mg(t,n,!0)}function S0(){M0(function(){(Ht&6)!==0?ya(vs,A0):Xg()})}function zh(){return Ja===0&&(Ja=As()),Ja}function Wg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pr(""+t)}function tp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function b0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Wg((c[fe]||null).action),p=l.submitter;p&&(n=(n=p[fe]||null)?Wg(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new yr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ja!==0){var b=p?tp(c,p):new FormData(c);nh(a,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=p?tp(c,p):new FormData(c),nh(a,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Lh=0;Lh<Tc.length;Lh++){var Ph=Tc[Lh],R0=Ph.toLowerCase(),w0=Ph[0].toUpperCase()+Ph.slice(1);Cn(R0,"on"+w0)}Cn(Md,"onAnimationEnd"),Cn(xd,"onAnimationIteration"),Cn(Ud,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(Hv,"onTransitionRun"),Cn(Gv,"onTransitionStart"),Cn(Qv,"onTransitionCancel"),Cn(zd,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function ep(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=L;try{f(c)}catch(G){Hu(G)}c.currentTarget=null,f=b}else for(p=0;p<l.length;p++){if(E=l[p],b=E.instance,L=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=L;try{f(c)}catch(G){Hu(G)}c.currentTarget=null,f=b}}}}function Ct(t,n){var a=n[ws];a===void 0&&(a=n[ws]=new Set);var l=t+"__bubble";a.has(l)||(np(n,t,2,!1),a.add(l))}function Bh(t,n,a){var l=0;n&&(l|=4),np(a,t,l,n)}var io="_reactListening"+Math.random().toString(36).slice(2);function qh(t){if(!t[io]){t[io]=!0,Ds.forEach(function(a){a!=="selectionchange"&&(D0.has(a)||Bh(a,!1,t),Bh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[io]||(n[io]=!0,Bh("selectionchange",!1,n))}}function np(t,n,a,l){switch(wp(n)){case 2:var c=tE;break;case 8:c=eE;break;default:c=tf}a=c.bind(null,n,a,t),c=void 0,!mn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function kh(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=l.return;p!==null;){var b=p.tag;if((b===3||b===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=ii(E),p===null)return;if(b=p.tag,b===5||b===6||b===26||b===27){l=f=p;continue t}E=E.parentNode}}l=l.return}ru(function(){var L=f,G=dn(a),Y=[];t:{var P=Ld.get(t);if(P!==void 0){var B=yr,mt=t;switch(t){case"keypress":if(Bn(a)===0)break t;case"keydown":case"keyup":B=Sr;break;case"focusin":mt="focus",B=Er;break;case"focusout":mt="blur",B=Er;break;case"beforeblur":case"afterblur":B=Er;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=du;break;case Md:case xd:case Ud:B=Tr;break;case zd:B=gu;break;case"scroll":case"scrollend":B=su;break;case"wheel":B=br;break;case"copy":case"cut":case"paste":B=Ar;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Bs;break;case"toggle":case"beforetoggle":B=yu}var ot=(n&4)!==0,Kt=!ot&&(t==="scroll"||t==="scrollend"),M=ot?P!==null?P+"Capture":null:P;ot=[];for(var C=L,z;C!==null;){var Q=C;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||M===null||(Q=Oa(C,M),Q!=null&&ot.push(pl(C,Q,z))),Kt)break;C=C.return}0<ot.length&&(P=new B(P,mt,null,a,G),Y.push({event:P,listeners:ot}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",P&&a!==li&&(mt=a.relatedTarget||a.fromElement)&&(ii(mt)||mt[hn]))break t;if((B||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,B?(mt=a.relatedTarget||a.toElement,B=L,mt=mt?ii(mt):null,mt!==null&&(Kt=h(mt),ot=mt.tag,mt!==Kt||ot!==5&&ot!==27&&ot!==6)&&(mt=null)):(B=null,mt=L),B!==mt)){if(ot=gn,Q="onMouseLeave",M="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ot=Bs,Q="onPointerLeave",M="onPointerEnter",C="pointer"),Kt=B==null?P:Un(B),z=mt==null?P:Un(mt),P=new ot(Q,C+"leave",B,a,G),P.target=Kt,P.relatedTarget=z,Q=null,ii(G)===L&&(ot=new ot(M,C+"enter",mt,a,G),ot.target=z,ot.relatedTarget=Kt,Q=ot),Kt=Q,B&&mt)e:{for(ot=B,M=mt,C=0,z=ot;z;z=Xr(z))C++;for(z=0,Q=M;Q;Q=Xr(Q))z++;for(;0<C-z;)ot=Xr(ot),C--;for(;0<z-C;)M=Xr(M),z--;for(;C--;){if(ot===M||M!==null&&ot===M.alternate)break e;ot=Xr(ot),M=Xr(M)}ot=null}else ot=null;B!==null&&ip(Y,P,B,ot,!1),mt!==null&&Kt!==null&&ip(Y,Kt,mt,ot,!0)}}t:{if(P=L?Un(L):window,B=P.nodeName&&P.nodeName.toLowerCase(),B==="select"||B==="input"&&P.type==="file")var at=Ad;else if(ve(P))if(Sd)at=qv;else{at=Pv;var wt=Lv}else B=P.nodeName,!B||B.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?L&&Ns(L.elementType)&&(at=Ad):at=Bv;if(at&&(at=at(t,L))){fi(Y,at,a,G);break t}wt&&wt(t,P,L),t==="focusout"&&L&&P.type==="number"&&L.memoizedProps.value!=null&&zi(P,"number",P.value)}switch(wt=L?Un(L):window,t){case"focusin":(ve(wt)||wt.contentEditable==="true")&&(Rr=wt,_c=L,js=null);break;case"focusout":js=_c=Rr=null;break;case"mousedown":vc=!0;break;case"contextmenu":case"mouseup":case"dragend":vc=!1,Od(Y,a,G);break;case"selectionchange":if(jv)break;case"keydown":case"keyup":Od(Y,a,G)}var st;if(jn)t:{switch(t){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else Nt?k(t,a)&&(ft="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ft="onCompositionStart");ft&&(g&&a.locale!=="ko"&&(Nt||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Nt&&(st=xs()):(Pn=G,Li="value"in Pn?Pn.value:Pn.textContent,Nt=!0)),wt=ao(L,ft),0<wt.length&&(ft=new Ls(ft,t,null,a,G),Y.push({event:ft,listeners:wt}),st?ft.data=st:(st=tt(a),st!==null&&(ft.data=st)))),(st=d?_e(t,a):Mt(t,a))&&(ft=ao(L,"onBeforeInput"),0<ft.length&&(wt=new Ls("onBeforeInput","beforeinput",null,a,G),Y.push({event:wt,listeners:ft}),wt.data=st)),b0(Y,t,L,a,G)}ep(Y,n)})}function pl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function ao(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Oa(t,a),c!=null&&l.unshift(pl(t,c,f)),c=Oa(t,n),c!=null&&l.push(pl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Xr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ip(t,n,a,l,c){for(var f=n._reactName,p=[];a!==null&&a!==l;){var E=a,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||L===null||(b=L,c?(L=Oa(a,f),L!=null&&p.unshift(pl(a,L,b))):c||(L=Oa(a,f),L!=null&&p.push(pl(a,L,b)))),a=a.return}p.length!==0&&t.push({event:n,listeners:p})}var C0=/\r\n?/g,V0=/\u0000|\uFFFD/g;function ap(t){return(typeof t=="string"?t:""+t).replace(C0,`
`).replace(V0,"")}function rp(t,n){return n=ap(n),ap(t)===n}function ro(){}function Ft(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&fn(t,""+l);break;case"className":zn(t,"class",l);break;case"tabIndex":zn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(t,a,l);break;case"style":Os(t,l,f);break;case"data":if(n!=="object"){zn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=pr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=pr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ro);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=pr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Ui(t,"popover",l);break;case"xlinkActuate":Ne(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ne(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ne(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ne(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ne(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ne(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ui(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hc.get(a)||a,Ui(t,a,l))}}function jh(t,n,a,l,c,f){switch(a){case"style":Os(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ro);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[fe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ui(t,a,l)}}}function ze(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ft(t,n,f,p,a,null)}}c&&Ft(t,n,"srcSet",a.srcSet,a,null),l&&Ft(t,n,"src",a.src,a,null);return;case"input":Ct("invalid",t);var E=f=p=c=null,b=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":p=G;break;case"checked":b=G;break;case"defaultChecked":L=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:Ft(t,n,l,G,a,null)}}Ca(t,f,E,b,L,p,c,!1),gr(t);return;case"select":Ct("invalid",t),l=p=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Ft(t,n,c,E,a,null)}n=f,a=p,t.multiple=!!l,n!=null?si(t,!!l,n,!1):a!=null&&si(t,!!l,a,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Ft(t,n,p,E,a,null)}Va(t,l,c,f),gr(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,b,l,a,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<gl.length;l++)Ct(gl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ft(t,n,L,l,a,null)}return;default:if(Ns(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&jh(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Ft(t,n,E,l,a,null))}function I0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,E=null,b=null,L=null,G=null;for(B in a){var Y=a[B];if(a.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(B)||Ft(t,n,B,null,l,Y)}}for(var P in l){var B=l[P];if(Y=a[P],l.hasOwnProperty(P)&&(B!=null||Y!=null))switch(P){case"type":f=B;break;case"name":c=B;break;case"checked":L=B;break;case"defaultChecked":G=B;break;case"value":p=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:B!==Y&&Ft(t,n,P,B,l,Y)}}en(t,p,E,b,L,G,f,c);return;case"select":B=p=E=P=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=a[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==b&&Ft(t,n,c,f,l,b)}n=E,a=p,l=B,P!=null?si(t,!!a,P,!1):!!l!=!!a&&(n!=null?si(t,!!a,n,!0):si(t,!!a,a?[]:"",!1));return;case"textarea":B=P=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(p in l)if(c=l[p],f=a[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":P=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Ft(t,n,p,c,l,f)}Qt(t,P,B);return;case"option":for(var mt in a)if(P=a[mt],a.hasOwnProperty(mt)&&P!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":t.selected=!1;break;default:Ft(t,n,mt,null,l,P)}for(b in l)if(P=l[b],B=a[b],l.hasOwnProperty(b)&&P!==B&&(P!=null||B!=null))switch(b){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Ft(t,n,b,P,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in a)P=a[ot],a.hasOwnProperty(ot)&&P!=null&&!l.hasOwnProperty(ot)&&Ft(t,n,ot,null,l,P);for(L in l)if(P=l[L],B=a[L],l.hasOwnProperty(L)&&P!==B&&(P!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:Ft(t,n,L,P,l,B)}return;default:if(Ns(n)){for(var Kt in a)P=a[Kt],a.hasOwnProperty(Kt)&&P!==void 0&&!l.hasOwnProperty(Kt)&&jh(t,n,Kt,void 0,l,P);for(G in l)P=l[G],B=a[G],!l.hasOwnProperty(G)||P===B||P===void 0&&B===void 0||jh(t,n,G,P,l,B);return}}for(var M in a)P=a[M],a.hasOwnProperty(M)&&P!=null&&!l.hasOwnProperty(M)&&Ft(t,n,M,null,l,P);for(Y in l)P=l[Y],B=a[Y],!l.hasOwnProperty(Y)||P===B||P==null&&B==null||Ft(t,n,Y,P,l,B)}var Hh=null,Gh=null;function so(t){return t.nodeType===9?t:t.ownerDocument}function sp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Qh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Yh=null;function O0(){var t=window.event;return t&&t.type==="popstate"?t===Yh?!1:(Yh=t,!0):(Yh=null,!1)}var up=typeof setTimeout=="function"?setTimeout:void 0,N0=typeof clearTimeout=="function"?clearTimeout:void 0,op=typeof Promise=="function"?Promise:void 0,M0=typeof queueMicrotask=="function"?queueMicrotask:typeof op<"u"?function(t){return op.resolve(null).then(t).catch(x0)}:up;function x0(t){setTimeout(function(){throw t})}function Wi(t){return t==="head"}function cp(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var p=t.ownerDocument;if(a&1&&yl(p.documentElement),a&2&&yl(p.body),a&4)for(a=p.head,yl(a),p=a.firstChild;p;){var E=p.nextSibling,b=p.nodeName;p[ba]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=E}}if(c===0){t.removeChild(f),Rl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Rl(n)}function Fh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fh(a),xi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function U0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ba])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function z0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=In(t.nextSibling),t===null))return null;return t}function Kh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function L0(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function In(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Xh=null;function hp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function fp(t,n,a){switch(n=so(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function yl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);xi(t)}var An=new Map,dp=new Set;function lo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ri=et.d;et.d={f:P0,r:B0,D:q0,C:k0,L:j0,m:H0,X:Q0,S:G0,M:Y0};function P0(){var t=Ri.f(),n=Ju();return t||n}function B0(t){var n=xn(t);n!==null&&n.tag===5&&n.type==="form"?Mm(n):Ri.r(t)}var Zr=typeof document>"u"?null:document;function mp(t,n,a){var l=Zr;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),dp.has(c)||(dp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),le(n),l.head.appendChild(n)))}}function q0(t){Ri.D(t),mp("dns-prefetch",t,null)}function k0(t,n){Ri.C(t,n),mp("preconnect",t,n)}function j0(t,n,a){Ri.L(t,n,a);var l=Zr;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+de(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+de(a.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var f=c;switch(n){case"style":f=$r(t);break;case"script":f=Jr(t)}An.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),An.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(_l(f))||n==="script"&&l.querySelector(vl(f))||(n=l.createElement("link"),ze(n,"link",t),le(n),l.head.appendChild(n)))}}function H0(t,n){Ri.m(t,n);var a=Zr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Jr(t)}if(!An.has(f)&&(t=A({rel:"modulepreload",href:t},n),An.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(f)))return}l=a.createElement("link"),ze(l,"link",t),le(l),a.head.appendChild(l)}}}function G0(t,n,a){Ri.S(t,n,a);var l=Zr;if(l&&t){var c=Ye(l).hoistableStyles,f=$r(t);n=n||"default";var p=c.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(_l(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=An.get(f))&&Zh(t,a);var b=p=l.createElement("link");le(b),ze(b,"link",t),b._p=new Promise(function(L,G){b.onload=L,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,uo(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(f,p)}}}function Q0(t,n){Ri.X(t,n);var a=Zr;if(a&&t){var l=Ye(a).hoistableScripts,c=Jr(t),f=l.get(c);f||(f=a.querySelector(vl(c)),f||(t=A({src:t,async:!0},n),(n=An.get(c))&&$h(t,n),f=a.createElement("script"),le(f),ze(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Y0(t,n){Ri.M(t,n);var a=Zr;if(a&&t){var l=Ye(a).hoistableScripts,c=Jr(t),f=l.get(c);f||(f=a.querySelector(vl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=An.get(c))&&$h(t,n),f=a.createElement("script"),le(f),ze(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function gp(t,n,a,l){var c=(c=yt.current)?lo(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=$r(a.href),a=Ye(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=$r(a.href);var f=Ye(c).hoistableStyles,p=f.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=c.querySelector(_l(t)))&&!f._p&&(p.instance=f,p.state.loading=5),An.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},An.set(t,a),f||F0(c,t,a,p.state))),n&&l===null)throw Error(r(528,""));return p}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Jr(a),a=Ye(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function $r(t){return'href="'+de(t)+'"'}function _l(t){return'link[rel="stylesheet"]['+t+"]"}function pp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function F0(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",a),le(n),t.head.appendChild(n))}function Jr(t){return'[src="'+de(t)+'"]'}function vl(t){return"script[async]"+t}function yp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(a.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),ze(l,"style",c),uo(l,a.precedence,t),n.instance=l;case"stylesheet":c=$r(a.href);var f=t.querySelector(_l(c));if(f)return n.state.loading|=4,n.instance=f,le(f),f;l=pp(a),(c=An.get(c))&&Zh(l,c),f=(t.ownerDocument||t).createElement("link"),le(f);var p=f;return p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),ze(f,"link",l),n.state.loading|=4,uo(f,a.precedence,t),n.instance=f;case"script":return f=Jr(a.src),(c=t.querySelector(vl(f)))?(n.instance=c,le(c),c):(l=a,(c=An.get(f))&&(l=A({},a),$h(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,uo(l,a.precedence,t));return n.instance}function uo(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Zh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function $h(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var oo=null;function _p(t,n,a){if(oo===null){var l=new Map,c=oo=new Map;c.set(a,l)}else c=oo,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[ba]||f[ye]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function vp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function K0(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ep(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var El=null;function X0(){}function Z0(t,n,a){if(El===null)throw Error(r(475));var l=El;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=$r(a.href),f=t.querySelector(_l(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=co.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,le(f);return}f=t.ownerDocument||t,a=pp(a),(c=An.get(c))&&Zh(a,c),f=f.createElement("link"),le(f);var p=f;p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),ze(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=co.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function $0(){if(El===null)throw Error(r(475));var t=El;return t.stylesheets&&t.count===0&&Jh(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Jh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function co(){if(this.count--,this.count===0){if(this.stylesheets)Jh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ho=null;function Jh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ho=new Map,n.forEach(J0,t),ho=null,co.call(t))}function J0(t,n){if(!(n.state.loading&4)){var a=ho.get(t);if(a)var l=a.get(null);else{a=new Map,ho.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=a.get(p)||l,f===l&&a.set(null,c),a.set(p,c),this.count++,l=co.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Tl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function W0(t,n,a,l,c,f,p,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Tp(t,n,a,l,c,f,p,E,b,L,G,Y){return t=new W0(t,n,a,p,E,b,L,Y),n=1,f===!0&&(n|=24),f=an(3,null,null,n),t.current=f,f.stateNode=t,n=Mc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Lc(f),t}function Ap(t){return t?(t=Vr,t):Vr}function Sp(t,n,a,l,c,f){c=Ap(c),l.context===null?l.context=c:l.pendingContext=c,l=qi(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ki(t,l,n),a!==null&&(on(a,t,n),$s(a,t,n))}function bp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Wh(t,n){bp(t,n),(t=t.alternate)&&bp(t,n)}function Rp(t){if(t.tag===13){var n=Cr(t,67108864);n!==null&&on(n,t,67108864),Wh(t,67108864)}}var fo=!0;function tE(t,n,a,l){var c=H.T;H.T=null;var f=et.p;try{et.p=2,tf(t,n,a,l)}finally{et.p=f,H.T=c}}function eE(t,n,a,l){var c=H.T;H.T=null;var f=et.p;try{et.p=8,tf(t,n,a,l)}finally{et.p=f,H.T=c}}function tf(t,n,a,l){if(fo){var c=ef(l);if(c===null)kh(t,n,l,mo,a),Dp(t,l);else if(iE(c,t,n,a,l))l.stopPropagation();else if(Dp(t,l),n&4&&-1<nE.indexOf(t)){for(;c!==null;){var f=xn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Rn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var b=1<<31-qe(p);E.entanglements[1]|=b,p&=~b}Kn(f),(Ht&6)===0&&(Zu=cn()+500,ml(0))}}break;case 13:E=Cr(f,2),E!==null&&on(E,f,2),Ju(),Wh(f,2)}if(f=ef(l),f===null&&kh(t,n,l,mo,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else kh(t,n,l,null,a)}}function ef(t){return t=dn(t),nf(t)}var mo=null;function nf(t){if(mo=null,t=ii(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=m(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return mo=t,null}function wp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rc()){case vs:return 2;case lr:return 8;case va:case sc:return 32;case ur:return 268435456;default:return 32}default:return 32}}var af=!1,ta=null,ea=null,na=null,Al=new Map,Sl=new Map,ia=[],nE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dp(t,n){switch(t){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":Al.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(n.pointerId)}}function bl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=xn(n),n!==null&&Rp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function iE(t,n,a,l,c){switch(n){case"focusin":return ta=bl(ta,t,n,a,l,c),!0;case"dragenter":return ea=bl(ea,t,n,a,l,c),!0;case"mouseover":return na=bl(na,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Al.set(f,bl(Al.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Sl.set(f,bl(Sl.get(f)||null,t,n,a,l,c)),!0}return!1}function Cp(t){var n=ii(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=m(a),n!==null){t.blockedOn=n,Jl(t.priority,function(){if(a.tag===13){var l=un();l=Oi(l);var c=Cr(a,l);c!==null&&on(c,a,l),Wh(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function go(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=ef(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);li=l,a.target.dispatchEvent(l),li=null}else return n=xn(a),n!==null&&Rp(n),t.blockedOn=a,!1;n.shift()}return!0}function Vp(t,n,a){go(t)&&a.delete(n)}function aE(){af=!1,ta!==null&&go(ta)&&(ta=null),ea!==null&&go(ea)&&(ea=null),na!==null&&go(na)&&(na=null),Al.forEach(Vp),Sl.forEach(Vp)}function po(t,n){t.blockedOn===n&&(t.blockedOn=null,af||(af=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,aE)))}var yo=null;function Ip(t){yo!==t&&(yo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){yo===t&&(yo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(nf(l||a)===null)continue;break}var f=xn(a);f!==null&&(t.splice(n,3),n-=3,nh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Rl(t){function n(b){return po(b,t)}ta!==null&&po(ta,t),ea!==null&&po(ea,t),na!==null&&po(na,t),Al.forEach(n),Sl.forEach(n);for(var a=0;a<ia.length;a++){var l=ia[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ia.length&&(a=ia[0],a.blockedOn===null);)Cp(a),a.blockedOn===null&&ia.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],p=c[fe]||null;if(typeof f=="function")p||Ip(a);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[fe]||null)E=p.formAction;else if(nf(c)!==null)continue}else E=p.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Ip(a)}}}function rf(t){this._internalRoot=t}_o.prototype.render=rf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=un();Sp(a,l,t,n,null,null)},_o.prototype.unmount=rf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Sp(t.current,2,null,t,null,null),Ju(),n[hn]=null}};function _o(t){this._internalRoot=t}_o.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ni();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ia.length&&n!==0&&n<ia[a].priority;a++);ia.splice(a,0,t),a===0&&Cp(t)}};var Op=e.version;if(Op!=="19.1.0")throw Error(r(527,Op,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var rE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vo.isDisabled&&vo.supportsFiber)try{ie=vo.inject(rE),jt=vo}catch{}}return Dl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=Fm,f=Km,p=Xm,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Tp(t,1,!1,null,null,a,l,c,f,p,E,null),t[hn]=n.current,qh(t),new rf(n)},Dl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",f=Fm,p=Km,E=Xm,b=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),n=Tp(t,1,!0,n,a??null,l,c,f,p,E,b,L),n.context=Ap(null),a=n.current,l=un(),l=Oi(l),c=qi(l),c.callback=null,ki(a,c,l),a=l,n.current.lanes=a,ni(n,a),Kn(n),t[hn]=n.current,qh(t),new _o(n)},Dl.version="19.1.0",Dl}var jp;function pE(){if(jp)return uf.exports;jp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),uf.exports=gE(),uf.exports}var yE=pE();const _E=()=>{};var Hp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},vE=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],m=s[i++],y=s[i++],v=((o&7)<<18|(h&63)<<12|(m&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],m=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|m&63)}}return e.join("")},Jy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const h=s[o],m=o+1<s.length,y=m?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,A=h>>2,O=(h&3)<<4|y>>4;let q=(y&15)<<2|_>>6,K=_&63;v||(K=64,m||(q=64)),r.push(i[A],i[O],i[q],i[K])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray($y(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):vE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const O=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||y==null||_==null||O==null)throw new EE;const q=h<<2|y>>4;if(r.push(q),_!==64){const K=y<<4&240|_>>2;if(r.push(K),O!==64){const j=_<<6&192|O;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class EE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TE=function(s){const e=$y(s);return Jy.encodeByteArray(e,!0)},Io=function(s){return TE(s).replace(/\./g,"")},AE=function(s){try{return Jy.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=()=>SE().__FIREBASE_DEFAULTS__,RE=()=>{if(typeof process>"u"||typeof Hp>"u")return;const s=Hp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},wE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&AE(s[1]);return e&&JSON.parse(e)},jf=()=>{try{return _E()||bE()||RE()||wE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},DE=s=>{var e,i;return(i=(e=jf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},CE=s=>{const e=DE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Wy=()=>{var s;return(s=jf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Io(JSON.stringify(i)),Io(JSON.stringify(m)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NE(){var s;const e=(s=jf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ME(){return!NE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xE(){try{return typeof indexedDB=="object"}catch{return!1}}function UE(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="FirebaseError";class ds extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=zE,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,t_.prototype.create)}}class t_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],m=h?LE(h,r):"Error",y=`${this.serviceName}: ${m} (${o}).`;return new ds(o,y,r)}}function LE(s,e){return s.replace(PE,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const PE=/\{\$([^}]+)}/g;function Oo(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=s[o],m=e[o];if(Gp(h)&&Gp(m)){if(!Oo(h,m))return!1}else if(h!==m)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Gp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(s){return s&&s._delegate?s._delegate:s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(s){return s.endsWith(".cloudworkstations.dev")}async function BE(s){return(await fetch(s,{credentials:"include"})).ok}class Ul{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new VE;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jE(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,m]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);r===y&&m.resolve(o)}return o}onInit(e,i){var r;const o=this.normalizeInstanceIdentifier(i),h=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;h.add(e),this.onInitCallbacks.set(o,h);const m=this.instances.get(o);return m&&e(m,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kE(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kE(s){return s===Wa?void 0:s}function jE(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new qE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(zt||(zt={}));const GE={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},QE=zt.INFO,YE={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},FE=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=YE[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class n_{constructor(e){this.name=e,this._logLevel=QE,this._logHandler=FE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const KE=(s,e)=>e.some(i=>s instanceof i);let Qp,Yp;function XE(){return Qp||(Qp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZE(){return Yp||(Yp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i_=new WeakMap,Ef=new WeakMap,a_=new WeakMap,ff=new WeakMap,Hf=new WeakMap;function $E(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",m)},h=()=>{i(sa(s.result)),o()},m=()=>{r(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",m)});return e.then(i=>{i instanceof IDBCursor&&i_.set(i,s)}).catch(()=>{}),Hf.set(e,s),e}function JE(s){if(Ef.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",m),s.removeEventListener("abort",m)},h=()=>{i(),o()},m=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",m),s.addEventListener("abort",m)});Ef.set(s,e)}let Tf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Ef.get(s);if(e==="objectStoreNames")return s.objectStoreNames||a_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return sa(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function WE(s){Tf=s(Tf)}function tT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(df(this),e,...i);return a_.set(r,e.sort?e.sort():[e]),sa(r)}:ZE().includes(s)?function(...e){return s.apply(df(this),e),sa(i_.get(this))}:function(...e){return sa(s.apply(df(this),e))}}function eT(s){return typeof s=="function"?tT(s):(s instanceof IDBTransaction&&JE(s),KE(s,XE())?new Proxy(s,Tf):s)}function sa(s){if(s instanceof IDBRequest)return $E(s);if(ff.has(s))return ff.get(s);const e=eT(s);return e!==s&&(ff.set(s,e),Hf.set(e,s)),e}const df=s=>Hf.get(s);function nT(s,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const m=indexedDB.open(s,e),y=sa(m);return r&&m.addEventListener("upgradeneeded",v=>{r(sa(m.result),v.oldVersion,v.newVersion,sa(m.transaction),v)}),i&&m.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const iT=["get","getKey","getAll","getAllKeys","count"],aT=["put","add","delete","clear"],mf=new Map;function Fp(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(mf.get(e))return mf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=aT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||iT.includes(i)))return;const h=async function(m,...y){const v=this.transaction(m,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return mf.set(e,h),h}WE(s=>({...s,get:(e,i,r)=>Fp(e,i)||s.get(e,i,r),has:(e,i)=>!!Fp(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(sT(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function sT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Af="@firebase/app",Kp="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new n_("@firebase/app"),lT="@firebase/app-compat",uT="@firebase/analytics-compat",oT="@firebase/analytics",cT="@firebase/app-check-compat",hT="@firebase/app-check",fT="@firebase/auth",dT="@firebase/auth-compat",mT="@firebase/database",gT="@firebase/data-connect",pT="@firebase/database-compat",yT="@firebase/functions",_T="@firebase/functions-compat",vT="@firebase/installations",ET="@firebase/installations-compat",TT="@firebase/messaging",AT="@firebase/messaging-compat",ST="@firebase/performance",bT="@firebase/performance-compat",RT="@firebase/remote-config",wT="@firebase/remote-config-compat",DT="@firebase/storage",CT="@firebase/storage-compat",VT="@firebase/firestore",IT="@firebase/vertexai",OT="@firebase/firestore-compat",NT="firebase",MT="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="[DEFAULT]",xT={[Af]:"fire-core",[lT]:"fire-core-compat",[oT]:"fire-analytics",[uT]:"fire-analytics-compat",[hT]:"fire-app-check",[cT]:"fire-app-check-compat",[fT]:"fire-auth",[dT]:"fire-auth-compat",[mT]:"fire-rtdb",[gT]:"fire-data-connect",[pT]:"fire-rtdb-compat",[yT]:"fire-fn",[_T]:"fire-fn-compat",[vT]:"fire-iid",[ET]:"fire-iid-compat",[TT]:"fire-fcm",[AT]:"fire-fcm-compat",[ST]:"fire-perf",[bT]:"fire-perf-compat",[RT]:"fire-rc",[wT]:"fire-rc-compat",[DT]:"fire-gcs",[CT]:"fire-gcs-compat",[VT]:"fire-fst",[OT]:"fire-fst-compat",[IT]:"fire-vertex","fire-js":"fire-js",[NT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new Map,UT=new Map,bf=new Map;function Xp(s,e){try{s.container.addComponent(e)}catch(i){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function xo(s){const e=s.name;if(bf.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;bf.set(e,s);for(const i of Mo.values())Xp(i,s);for(const i of UT.values())Xp(i,s);return!0}function zT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function LT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},la=new t_("app","Firebase",PT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,i,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ul("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw la.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=MT;function r_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sf,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw la.create("bad-app-name",{appName:String(o)});if(i||(i=Wy()),!i)throw la.create("no-options");const h=Mo.get(o);if(h){if(Oo(i,h.options)&&Oo(r,h.config))return h;throw la.create("duplicate-app",{appName:o})}const m=new HE(o);for(const v of bf.values())m.addComponent(v);const y=new BT(i,r,m);return Mo.set(o,y),y}function kT(s=Sf){const e=Mo.get(s);if(!e&&s===Sf&&Wy())return r_();if(!e)throw la.create("no-app",{appName:s});return e}function as(s,e,i){var r;let o=(r=xT[s])!==null&&r!==void 0?r:s;i&&(o+=`-${i}`);const h=o.match(/\s|\//),m=e.match(/\s|\//);if(h||m){const y=[`Unable to register library "${o}" with version "${e}":`];h&&y.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&m&&y.push("and"),m&&y.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(y.join(" "));return}xo(new Ul(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="firebase-heartbeat-database",HT=1,zl="firebase-heartbeat-store";let gf=null;function s_(){return gf||(gf=nT(jT,HT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(zl)}catch(i){console.warn(i)}}}}).catch(s=>{throw la.create("idb-open",{originalErrorMessage:s.message})})),gf}async function GT(s){try{const i=(await s_()).transaction(zl),r=await i.objectStore(zl).get(l_(s));return await i.done,r}catch(e){if(e instanceof ds)Di.warn(e.message);else{const i=la.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(i.message)}}}async function Zp(s,e){try{const r=(await s_()).transaction(zl,"readwrite");await r.objectStore(zl).put(e,l_(s)),await r.done}catch(i){if(i instanceof ds)Di.warn(i.message);else{const r=la.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Di.warn(r.message)}}}function l_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=1024,YT=30;class FT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new XT(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=$p();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(m=>m.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>YT){const m=ZT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(m,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Di.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=$p(),{heartbeatsToSend:r,unsentEntries:o}=KT(this._heartbeatsCache.heartbeats),h=Io(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Di.warn(i),""}}}function $p(){return new Date().toISOString().substring(0,10)}function KT(s,e=QT){const i=[];let r=s.slice();for(const o of s){const h=i.find(m=>m.agent===o.agent);if(h){if(h.dates.push(o.date),Jp(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Jp(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class XT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xE()?UE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await GT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Zp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Zp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Jp(s){return Io(JSON.stringify({version:2,heartbeats:s})).length}function ZT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(s){xo(new Ul("platform-logger",e=>new rT(e),"PRIVATE")),xo(new Ul("heartbeat",e=>new FT(e),"PRIVATE")),as(Af,Kp,s),as(Af,Kp,"esm2017"),as("fire-js","")}$T("");var JT="firebase",WT="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(JT,WT,"app");var Wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ua,u_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function w(){}w.prototype=S.prototype,I.D=S.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(V,N,x){for(var R=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)R[Oe-2]=arguments[Oe];return S.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,w){w||(w=0);var V=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)V[N]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(N=0;16>N;++N)V[N]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=I.g[0],w=I.g[1],N=I.g[2];var x=I.g[3],R=S+(x^w&(N^x))+V[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+V[1]+3905402710&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+V[2]+606105819&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+V[3]+3250441966&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(x^w&(N^x))+V[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+V[5]+1200080426&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+V[6]+2821735955&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+V[7]+4249261313&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(x^w&(N^x))+V[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+V[9]+2336552879&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+V[10]+4294925233&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+V[11]+2304563134&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(x^w&(N^x))+V[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+V[13]+4254626195&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+V[14]+2792965006&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+V[15]+1236535329&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(N^x&(w^N))+V[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+V[6]+3225465664&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+V[11]+643717713&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+V[0]+3921069994&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^x&(w^N))+V[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+V[10]+38016083&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+V[15]+3634488961&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+V[4]+3889429448&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^x&(w^N))+V[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+V[14]+3275163606&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+V[3]+4107603335&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+V[8]+1163531501&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^x&(w^N))+V[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+V[2]+4243563512&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+V[7]+1735328473&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+V[12]+2368359562&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(w^N^x)+V[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+V[8]+2272392833&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+V[11]+1839030562&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+V[14]+4259657740&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^x)+V[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+V[4]+1272893353&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+V[7]+4139469664&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+V[10]+3200236656&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^x)+V[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+V[0]+3936430074&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+V[3]+3572445317&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+V[6]+76029189&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^x)+V[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+V[12]+3873151461&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+V[15]+530742520&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+V[2]+3299628645&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(N^(w|~x))+V[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+V[7]+1126891415&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+V[14]+2878612391&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+V[5]+4237533241&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~x))+V[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+V[3]+2399980690&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+V[10]+4293915773&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+V[1]+2240044497&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~x))+V[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+V[15]+4264355552&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+V[6]+2734768916&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+V[13]+1309151649&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~x))+V[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+V[11]+3174756917&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+V[2]+718787259&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+x&4294967295}r.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var w=S-this.blockSize,V=this.B,N=this.h,x=0;x<S;){if(N==0)for(;x<=w;)o(this,I,x),x+=this.blockSize;if(typeof I=="string"){for(;x<S;)if(V[N++]=I.charCodeAt(x++),N==this.blockSize){o(this,V),N=0;break}}else for(;x<S;)if(V[N++]=I[x++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=S},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var w=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=w&255,w/=256;for(this.u(I),I=Array(16),S=w=0;4>S;++S)for(var V=0;32>V;V+=8)I[w++]=this.g[S]>>>V&255;return I};function h(I,S){var w=y;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=S(I)}function m(I,S){this.h=S;for(var w=[],V=!0,N=I.length-1;0<=N;N--){var x=I[N]|0;V&&x==S||(w[N]=x,V=!1)}this.g=w}var y={};function v(I){return-128<=I&&128>I?h(I,function(S){return new m([S|0],0>S?-1:0)}):new m([I|0],0>I?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return O;if(0>I)return Z(_(-I));for(var S=[],w=1,V=0;I>=w;V++)S[V]=I/w|0,w*=4294967296;return new m(S,0)}function A(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return Z(A(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),V=O,N=0;N<I.length;N+=8){var x=Math.min(8,I.length-N),R=parseInt(I.substring(N,N+x),S);8>x?(x=_(Math.pow(S,x)),V=V.j(x).add(_(R))):(V=V.j(w),V=V.add(_(R)))}return V}var O=v(0),q=v(1),K=v(16777216);s=m.prototype,s.m=function(){if(J(this))return-Z(this).m();for(var I=0,S=1,w=0;w<this.g.length;w++){var V=this.i(w);I+=(0<=V?V:4294967296+V)*S,S*=4294967296}return I},s.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(j(this))return"0";if(J(this))return"-"+Z(this).toString(I);for(var S=_(Math.pow(I,6)),w=this,V="";;){var N=pt(w,S).g;w=Et(w,N.j(S));var x=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=N,j(w))return x+V;for(;6>x.length;)x="0"+x;V=x+V}},s.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function j(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function J(I){return I.h==-1}s.l=function(I){return I=Et(this,I),J(I)?-1:j(I)?0:1};function Z(I){for(var S=I.g.length,w=[],V=0;V<S;V++)w[V]=~I.g[V];return new m(w,~I.h).add(q)}s.abs=function(){return J(this)?Z(this):this},s.add=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],V=0,N=0;N<=S;N++){var x=V+(this.i(N)&65535)+(I.i(N)&65535),R=(x>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=R>>>16,x&=65535,R&=65535,w[N]=R<<16|x}return new m(w,w[w.length-1]&-2147483648?-1:0)};function Et(I,S){return I.add(Z(S))}s.j=function(I){if(j(this)||j(I))return O;if(J(this))return J(I)?Z(this).j(Z(I)):Z(Z(this).j(I));if(J(I))return Z(this.j(Z(I)));if(0>this.l(K)&&0>I.l(K))return _(this.m()*I.m());for(var S=this.g.length+I.g.length,w=[],V=0;V<2*S;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var N=0;N<I.g.length;N++){var x=this.i(V)>>>16,R=this.i(V)&65535,Oe=I.i(N)>>>16,ne=I.i(N)&65535;w[2*V+2*N]+=R*ne,_t(w,2*V+2*N),w[2*V+2*N+1]+=x*ne,_t(w,2*V+2*N+1),w[2*V+2*N+1]+=R*Oe,_t(w,2*V+2*N+1),w[2*V+2*N+2]+=x*Oe,_t(w,2*V+2*N+2)}for(V=0;V<S;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=S;V<2*S;V++)w[V]=0;return new m(w,0)};function _t(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function dt(I,S){this.g=I,this.h=S}function pt(I,S){if(j(S))throw Error("division by zero");if(j(I))return new dt(O,O);if(J(I))return S=pt(Z(I),S),new dt(Z(S.g),Z(S.h));if(J(S))return S=pt(I,Z(S)),new dt(Z(S.g),S.h);if(30<I.g.length){if(J(I)||J(S))throw Error("slowDivide_ only works with positive integers.");for(var w=q,V=S;0>=V.l(I);)w=rt(w),V=rt(V);var N=Ot(w,1),x=Ot(V,1);for(V=Ot(V,2),w=Ot(w,2);!j(V);){var R=x.add(V);0>=R.l(I)&&(N=N.add(w),x=R),V=Ot(V,1),w=Ot(w,1)}return S=Et(I,N.j(S)),new dt(N,S)}for(N=O;0<=I.l(S);){for(w=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),x=_(w),R=x.j(S);J(R)||0<R.l(I);)w-=V,x=_(w),R=x.j(S);j(x)&&(x=q),N=N.add(x),I=Et(I,R)}return new dt(N,I)}s.A=function(I){return pt(this,I).h},s.and=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)&I.i(V);return new m(w,this.h&I.h)},s.or=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)|I.i(V);return new m(w,this.h|I.h)},s.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)^I.i(V);return new m(w,this.h^I.h)};function rt(I){for(var S=I.g.length+1,w=[],V=0;V<S;V++)w[V]=I.i(V)<<1|I.i(V-1)>>>31;return new m(w,I.h)}function Ot(I,S){var w=S>>5;S%=32;for(var V=I.g.length-w,N=[],x=0;x<V;x++)N[x]=0<S?I.i(x+w)>>>S|I.i(x+w+1)<<32-S:I.i(x+w);return new m(N,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,u_=r,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=_,m.fromString=A,ua=m}).apply(typeof Wp<"u"?Wp:typeof self<"u"?self:typeof window<"u"?window:{});var Eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o_,Cl,c_,Ro,Rf,h_,f_,d_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,g){return u==Array.prototype||u==Object.prototype||(u[d]=g.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eo=="object"&&Eo];for(var d=0;d<u.length;++d){var g=u[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=i(this);function o(u,d){if(d)t:{var g=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in g))break t;g=g[U]}u=u[u.length-1],T=g[u],d=d(T),d!=T&&d!=null&&e(g,u,{configurable:!0,writable:!0,value:d})}}function h(u,d){u instanceof String&&(u+="");var g=0,T=!1,U={next:function(){if(!T&&g<u.length){var k=g++;return{value:d(k,u[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return h(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},y=this||self;function v(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function _(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function A(u,d,g){return u.call.apply(u.bind,arguments)}function O(u,d,g){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(d,U)}}return function(){return u.apply(d,arguments)}}function q(u,d,g){return q=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:O,q.apply(null,arguments)}function K(u,d){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function j(u,d){function g(){}g.prototype=d.prototype,u.aa=d.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(T,U,k){for(var tt=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)tt[Nt-2]=arguments[Nt];return d.prototype[U].apply(T,tt)}}function J(u){const d=u.length;if(0<d){const g=Array(d);for(let T=0;T<d;T++)g[T]=u[T];return g}return[]}function Z(u,d){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(v(T)){const U=u.length||0,k=T.length||0;u.length=U+k;for(let tt=0;tt<k;tt++)u[U+tt]=T[tt]}else u.push(T)}}class Et{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function _t(u){return/^[\s\xa0]*$/.test(u)}function dt(){var u=y.navigator;return u&&(u=u.userAgent)?u:""}function pt(u){return pt[" "](u),u}pt[" "]=function(){};var rt=dt().indexOf("Gecko")!=-1&&!(dt().toLowerCase().indexOf("webkit")!=-1&&dt().indexOf("Edge")==-1)&&!(dt().indexOf("Trident")!=-1||dt().indexOf("MSIE")!=-1)&&dt().indexOf("Edge")==-1;function Ot(u,d,g){for(const T in u)d.call(g,u[T],T,u)}function I(u,d){for(const g in u)d.call(void 0,u[g],g,u)}function S(u){const d={};for(const g in u)d[g]=u[g];return d}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,d){let g,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(g in T)u[g]=T[g];for(let k=0;k<w.length;k++)g=w[k],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function N(u){var d=1;u=u.split(":");const g=[];for(;0<d&&u.length;)g.push(u.shift()),d--;return u.length&&g.push(u.join(":")),g}function x(u){y.setTimeout(()=>{throw u},0)}function R(){var u=Pt;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class Oe{constructor(){this.h=this.g=null}add(d,g){const T=ne.get();T.set(d,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ne=new Et(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let et,lt=!1,Pt=new Oe,D=()=>{const u=y.Promise.resolve(void 0);et=()=>{u.then(X)}};var X=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(g){x(g)}var d=ne;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}lt=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};y.addEventListener("test",g,d),y.removeEventListener("test",g,d)}catch{}return u}();function Rt(u,d){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(rt){t:{try{pt(d.nodeName);var U=!0;break t}catch{}U=!1}U||(d=null)}}else g=="mouseover"?d=u.fromElement:g=="mouseout"&&(d=u.toElement);this.relatedTarget=d,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}j(Rt,W);var yt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Nn(u,d,g,T,U){this.listener=u,this.proxy=null,this.src=d,this.type=g,this.capture=!!T,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function Ii(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ti(u){this.src=u,this.g={},this.h=0}ti.prototype.add=function(u,d,g,T,U){var k=u.toString();u=this.g[k],u||(u=this.g[k]=[],this.h++);var tt=ya(u,d,T,U);return-1<tt?(d=u[tt],g||(d.fa=!1)):(d=new Nn(d,this.src,k,!!T,U),d.fa=g,u.push(d)),d};function pa(u,d){var g=d.type;if(g in u.g){var T=u.g[g],U=Array.prototype.indexOf.call(T,d,void 0),k;(k=0<=U)&&Array.prototype.splice.call(T,U,1),k&&(Ii(d),u.g[g].length==0&&(delete u.g[g],u.h--))}}function ya(u,d,g,T){for(var U=0;U<u.length;++U){var k=u[U];if(!k.da&&k.listener==d&&k.capture==!!g&&k.ha==T)return U}return-1}var _a="closure_lm_"+(1e6*Math.random()|0),_s={};function Xl(u,d,g,T,U){if(Array.isArray(d)){for(var k=0;k<d.length;k++)Xl(u,d[k],g,T,U);return null}return g=Zl(g),u&&u[be]?u.K(d,g,_(T)?!!T.capture:!1,U):cn(u,d,g,!1,T,U)}function cn(u,d,g,T,U,k){if(!d)throw Error("Invalid event type");var tt=_(U)?!!U.capture:!!U,Nt=ur(u);if(Nt||(u[_a]=Nt=new ti(u)),g=Nt.add(d,g,T,tt,k),g.proxy)return g;if(T=rc(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)ut||(U=tt),U===void 0&&(U=!1),u.addEventListener(d.toString(),T,U);else if(u.attachEvent)u.attachEvent(va(d.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function rc(){function u(g){return d.call(u.src,u.listener,g)}const d=sc;return u}function vs(u,d,g,T,U){if(Array.isArray(d))for(var k=0;k<d.length;k++)vs(u,d[k],g,T,U);else T=_(T)?!!T.capture:!!T,g=Zl(g),u&&u[be]?(u=u.i,d=String(d).toString(),d in u.g&&(k=u.g[d],g=ya(k,g,T,U),-1<g&&(Ii(k[g]),Array.prototype.splice.call(k,g,1),k.length==0&&(delete u.g[d],u.h--)))):u&&(u=ur(u))&&(d=u.g[d.toString()],u=-1,d&&(u=ya(d,g,T,U)),(g=-1<u?d[u]:null)&&lr(g))}function lr(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[be])pa(d.i,u);else{var g=u.type,T=u.proxy;d.removeEventListener?d.removeEventListener(g,T,u.capture):d.detachEvent?d.detachEvent(va(g),T):d.addListener&&d.removeListener&&d.removeListener(T),(g=ur(d))?(pa(g,u),g.h==0&&(g.src=null,d[_a]=null)):Ii(u)}}}function va(u){return u in _s?_s[u]:_s[u]="on"+u}function sc(u,d){if(u.da)u=!0;else{d=new Rt(d,this);var g=u.listener,T=u.ha||u.src;u.fa&&lr(u),u=g.call(T,d)}return u}function ur(u){return u=u[_a],u instanceof ti?u:null}var Es="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zl(u){return typeof u=="function"?u:(u[Es]||(u[Es]=function(d){return u.handleEvent(d)}),u[Es])}function ie(){nt.call(this),this.i=new ti(this),this.M=this,this.F=null}j(ie,nt),ie.prototype[be]=!0,ie.prototype.removeEventListener=function(u,d,g,T){vs(this,u,d,g,T)};function jt(u,d){var g,T=u.F;if(T)for(g=[];T;T=T.F)g.push(T);if(u=u.M,T=d.type||d,typeof d=="string")d=new W(d,u);else if(d instanceof W)d.target=d.target||u;else{var U=d;d=new W(T,u),V(d,U)}if(U=!0,g)for(var k=g.length-1;0<=k;k--){var tt=d.g=g[k];U=tn(tt,T,!0,d)&&U}if(tt=d.g=u,U=tn(tt,T,!0,d)&&U,U=tn(tt,T,!1,d)&&U,g)for(k=0;k<g.length;k++)tt=d.g=g[k],U=tn(tt,T,!1,d)&&U}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var g=u.g[d],T=0;T<g.length;T++)Ii(g[T]);delete u.g[d],u.h--}}this.F=null},ie.prototype.K=function(u,d,g,T){return this.i.add(String(u),d,!1,g,T)},ie.prototype.L=function(u,d,g,T){return this.i.add(String(u),d,!0,g,T)};function tn(u,d,g,T){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var U=!0,k=0;k<d.length;++k){var tt=d[k];if(tt&&!tt.da&&tt.capture==g){var Nt=tt.listener,_e=tt.ha||tt.src;tt.fa&&pa(u.i,tt),U=Nt.call(_e,T)!==!1&&U}}return U&&!T.defaultPrevented}function qe(u,d,g){if(typeof u=="function")g&&(u=q(u,g));else if(u&&typeof u.handleEvent=="function")u=q(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:y.setTimeout(u,d||0)}function $l(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,$l(u))},u.l);const d=u.h;u.h=null,u.m.apply(null,d)}class lc extends nt{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:$l(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ea(u){nt.call(this),this.h=u,this.g={}}j(Ea,nt);var Ta=[];function Aa(u){Ot(u.g,function(d,g){this.g.hasOwnProperty(g)&&lr(d)},u),u.g={}}Ea.prototype.N=function(){Ea.aa.N.call(this),Aa(this)},Ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=y.JSON.stringify,or=y.JSON.parse,Sa=class{stringify(u){return y.JSON.stringify(u,void 0)}parse(u){return y.JSON.parse(u,void 0)}};function Ts(){}Ts.prototype.h=null;function As(u){return u.h||(u.h=u.i())}function Ss(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ni(){W.call(this,"d")}j(ni,W);function bs(){W.call(this,"c")}j(bs,W);var Mn={},Rs=null;function Oi(){return Rs=Rs||new ie}Mn.La="serverreachability";function cr(u){W.call(this,Mn.La,u)}j(cr,W);function Ni(u){const d=Oi();jt(d,new cr(d))}Mn.STAT_EVENT="statevent";function Jl(u,d){W.call(this,Mn.STAT_EVENT,u),this.stat=d}j(Jl,W);function Jt(u){const d=Oi();jt(d,new Jl(d,u))}Mn.Ma="timingevent";function ye(u,d){W.call(this,Mn.Ma,u),this.size=d}j(ye,W);function fe(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){u()},d)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function ws(u,d,g,T,U,k){u.info(function(){if(u.g)if(k)for(var tt="",Nt=k.split("&"),_e=0;_e<Nt.length;_e++){var Mt=Nt[_e].split("=");if(1<Mt.length){var we=Mt[0];Mt=Mt[1];var ve=we.split("_");tt=2<=ve.length&&ve[1]=="type"?tt+(we+"="+Mt+"&"):tt+(we+"=redacted&")}}else tt=null;else tt=k;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+d+`
`+g+`
`+tt})}function uc(u,d,g,T,U,k,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+d+`
`+g+`
`+k+" "+tt})}function Mi(u,d,g,T){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+ba(u,g)+(T?" "+T:"")})}function Wl(u,d){u.info(function(){return"TIMEOUT: "+d})}hn.prototype.info=function(){};function ba(u,d){if(!u.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var T=g[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var k=U[0];if(k!="noop"&&k!="stop"&&k!="close")for(var tt=1;tt<U.length;tt++)U[tt]=""}}}}return Rn(g)}catch{return d}}var xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xn;function Un(){}j(Un,Ts),Un.prototype.g=function(){return new XMLHttpRequest},Un.prototype.i=function(){return{}},xn=new Un;function Ye(u,d,g,T){this.j=u,this.i=d,this.l=g,this.R=T||1,this.U=new Ea(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Ds={},hr={};function wn(u,d,g){u.L=1,u.v=Va(en(d)),u.m=g,u.P=!0,ai(u,null)}function ai(u,d){u.F=Date.now(),Ra(u),u.A=en(u.v);var g=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ms(g.i,"t",T),u.C=0,g=u.j.J,u.h=new le,u.g=gu(u.j,g?d:null,!u.m),0<u.O&&(u.M=new lc(q(u.Y,u,u.g),u.O)),d=u.U,g=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Ta[0]=U.toString()),U=Ta);for(var k=0;k<U.length;k++){var tt=Xl(g,U[k],T||d.handleEvent,!1,d.h||d);if(!tt)break;d.g[tt.key]=tt}d=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),Ni(),ws(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const d=this.M;d&&gn(u)==3?d.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const ve=gn(this.g);var d=this.g.Ba();const fi=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||lu(this.g)))){this.J||ve!=4||d==7||(d==8||0>=fi?Ni(3):Ni(2)),Ui(this);var g=this.g.Z();this.X=g;e:if(tu(this)){var T=lu(this.g);u="";var U=T.length,k=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ne(this),zn(this);var tt="";break e}this.h.i=new y.TextDecoder}for(d=0;d<U;d++)this.h.h=!0,u+=this.h.i.decode(T[d],{stream:!(k&&d==U-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=g==200,uc(this.i,this.u,this.A,this.l,this.R,ve,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Nt,_e=this.g;if((Nt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_t(Nt)){var Mt=Nt;break e}}Mt=null}if(g=Mt)Mi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wa(this,g);else{this.o=!1,this.s=3,Jt(12),Ne(this),zn(this);break t}}if(this.P){g=!0;let Me;for(;!this.J&&this.C<tt.length;)if(Me=eu(this,tt),Me==hr){ve==4&&(this.s=4,Jt(14),g=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Ds){this.s=4,Jt(15),Mi(this.i,this.l,tt,"[Invalid Chunk]"),g=!1;break}else Mi(this.i,this.l,Me,null),wa(this,Me);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||tt.length!=0||this.h.h||(this.s=1,Jt(16),g=!1),this.o=this.o&&g,!g)Mi(this.i,this.l,tt,"[Invalid Chunked Response]"),Ne(this),zn(this);else if(0<tt.length&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.ba&&!we.M&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),La(we),we.M=!0,Jt(11))}}else Mi(this.i,this.l,tt,null),wa(this,tt);ve==4&&Ne(this),this.o&&!this.J&&(ve==4?fu(this.j,this):(this.o=!1,Ra(this)))}else dc(this.g),g==400&&0<tt.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),Ne(this),zn(this)}}}catch{}finally{}};function tu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function eu(u,d){var g=u.C,T=d.indexOf(`
`,g);return T==-1?hr:(g=Number(d.substring(g,T)),isNaN(g)?Ds:(T+=1,T+g>d.length?hr:(d=d.slice(T,T+g),u.C=T+g,d)))}Ye.prototype.cancel=function(){this.J=!0,Ne(this)};function Ra(u){u.S=Date.now()+u.I,nu(u,u.I)}function nu(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(q(u.ba,u),d)}function Ui(u){u.B&&(y.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Wl(this.i,this.A),this.L!=2&&(Ni(),Jt(17)),Ne(this),this.s=2,zn(this)):nu(this,this.S-u)};function zn(u){u.j.G==0||u.J||fu(u.j,u)}function Ne(u){Ui(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,Aa(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function wa(u,d){try{var g=u.j;if(g.G!=0&&(g.g==u||Cs(g.h,u))){if(!u.K&&Cs(g.h,u)&&g.G==3){try{var T=g.Da.g.parse(d)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Sr(g),Tr(g);else break t;Ps(g),Jt(18)}}else g.za=U[1],0<g.za-g.T&&37500>U[2]&&g.F&&g.v==0&&!g.C&&(g.C=fe(q(g.Za,g),6e3));if(1>=dr(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else hi(g,11)}else if((u.K||g.g==u)&&Sr(g),!_t(d))for(U=g.Da.g.parse(d),d=0;d<U.length;d++){let Mt=U[d];if(g.T=Mt[0],Mt=Mt[1],g.G==2)if(Mt[0]=="c"){g.K=Mt[1],g.ia=Mt[2];const we=Mt[3];we!=null&&(g.la=we,g.j.info("VER="+g.la));const ve=Mt[4];ve!=null&&(g.Aa=ve,g.j.info("SVER="+g.Aa));const fi=Mt[5];fi!=null&&typeof fi=="number"&&0<fi&&(T=1.5*fi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Me=u.g;if(Me){const Hn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hn){var k=T.h;k.g||Hn.indexOf("spdy")==-1&&Hn.indexOf("quic")==-1&&Hn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(mr(k,k.h),k.h=null))}if(T.D){const qs=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;qs&&(T.ya=qs,Qt(T.I,T.D,qs))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var tt=u;if(T.qa=mu(T,T.J?T.ia:null,T.W),tt.K){Fe(T.h,tt);var Nt=tt,_e=T.L;_e&&(Nt.I=_e),Nt.B&&(Ui(Nt),Ra(Nt)),T.g=tt}else cu(T);0<g.i.length&&Ar(g)}else Mt[0]!="stop"&&Mt[0]!="close"||hi(g,7);else g.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?hi(g,7):zs(g):Mt[0]!="noop"&&g.l&&g.l.ta(Mt),g.v=0)}}Ni(4)}catch{}}var iu=class{constructor(u,d){this.g=u,this.map=d}};function ri(u){this.l=u||10,y.PerformanceNavigationTiming?(u=y.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function dr(u){return u.h?1:u.g?u.g.size:0}function Cs(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function mr(u,d){u.g?u.g.add(d):u.h=d}function Fe(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}ri.prototype.cancel=function(){if(this.i=Vs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Vs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(const g of u.g.values())d=d.concat(g.D);return d}return J(u.i)}function oc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var d=[],g=u.length,T=0;T<g;T++)d.push(u[T]);return d}d=[],g=0;for(T in u)d[g++]=u[T];return d}function gr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var d=[];u=u.length;for(var g=0;g<u;g++)d.push(g);return d}d=[],g=0;for(const T in u)d[g++]=T;return d}}}function Is(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var g=gr(u),T=oc(u),U=T.length,k=0;k<U;k++)d.call(void 0,T[k],g&&g[k],u)}var Da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cc(u,d){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var T=u[g].indexOf("="),U=null;if(0<=T){var k=u[g].substring(0,T);U=u[g].substring(T+1)}else k=u[g];d(k,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,Ca(this,u.j),this.o=u.o,this.g=u.g,zi(this,u.s),this.l=u.l;var d=u.i,g=new li;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),si(this,g),this.m=u.m}else u&&(d=String(u).match(Da))?(this.h=!1,Ca(this,d[1]||"",!0),this.o=fn(d[2]||""),this.g=fn(d[3]||"",!0),zi(this,d[4]),this.l=fn(d[5]||"",!0),si(this,d[6]||"",!0),this.m=fn(d[7]||"")):(this.h=!1,this.i=new li(null,this.h))}de.prototype.toString=function(){var u=[],d=this.j;d&&u.push(Ia(d,Os,!0),":");var g=this.g;return(g||d=="file")&&(u.push("//"),(d=this.o)&&u.push(Ia(d,Os,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Ia(g,g.charAt(0)=="/"?hc:Ns,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Ia(g,pr)),u.join("")};function en(u){return new de(u)}function Ca(u,d,g){u.j=g?fn(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function zi(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function si(u,d,g){d instanceof li?(u.i=d,ru(u.i,u.h)):(g||(d=Ia(d,fc)),u.i=new li(d,u.h))}function Qt(u,d,g){u.i.set(d,g)}function Va(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function fn(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ia(u,d,g){return typeof u=="string"?(u=encodeURI(u).replace(d,au),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function au(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Os=/[#\/\?@]/g,Ns=/[#\?:]/g,hc=/[#\?]/g,fc=/[#\?@]/g,pr=/#/g;function li(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&cc(u.i,function(d,g){u.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}s=li.prototype,s.add=function(u,d){dn(this),this.i=null,u=Ln(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(d),this.h+=1,this};function ui(u,d){dn(u),d=Ln(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function oi(u,d){return dn(u),d=Ln(u,d),u.g.has(d)}s.forEach=function(u,d){dn(this),this.g.forEach(function(g,T){g.forEach(function(U){u.call(d,U,T,this)},this)},this)},s.na=function(){dn(this);const u=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let T=0;T<d.length;T++){const U=u[T];for(let k=0;k<U.length;k++)g.push(d[T])}return g},s.V=function(u){dn(this);let d=[];if(typeof u=="string")oi(this,u)&&(d=d.concat(this.g.get(Ln(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)d=d.concat(u[g])}return d},s.set=function(u,d){return dn(this),this.i=null,u=Ln(this,u),oi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},s.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function Ms(u,d,g){ui(u,d),0<g.length&&(u.i=null,u.g.set(Ln(u,d),J(g)),u.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var T=d[g];const k=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var U=k;tt[T]!==""&&(U+="="+encodeURIComponent(String(tt[T]))),u.push(U)}}return this.i=u.join("&")};function Ln(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function ru(u,d){d&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(g,T){var U=T.toLowerCase();T!=U&&(ui(this,T),Ms(this,U,g))},u)),u.j=d}function Oa(u,d){const g=new hn;if(y.Image){const T=new Image;T.onload=K(mn,g,"TestLoadImage: loaded",!0,d,T),T.onerror=K(mn,g,"TestLoadImage: error",!1,d,T),T.onabort=K(mn,g,"TestLoadImage: abort",!1,d,T),T.ontimeout=K(mn,g,"TestLoadImage: timeout",!1,d,T),y.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else d(!1)}function Dn(u,d){const g=new hn,T=new AbortController,U=setTimeout(()=>{T.abort(),mn(g,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:T.signal}).then(k=>{clearTimeout(U),k.ok?mn(g,"TestPingServer: ok",!0,d):mn(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(U),mn(g,"TestPingServer: error",!1,d)})}function mn(u,d,g,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(g)}catch{}}function Na(){this.g=new Sa}function Pn(u,d,g){const T=g||"";try{Is(u,function(U,k){let tt=U;_(U)&&(tt=Rn(U)),d.push(T+k+"="+encodeURIComponent(tt))})}catch(U){throw d.push(T+"type="+encodeURIComponent("_badmap")),U}}function Li(u){this.l=u.Ub||null,this.j=u.eb||!1}j(Li,Ts),Li.prototype.g=function(){return new ci(this.l,this.j)},Li.prototype.i=function(u){return function(){return u}}({});function ci(u,d){ie.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(ci,ie),s=ci.prototype,s.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||y).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function xs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?Bn(this):qn(this),this.readyState==3&&xs(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Bn(this))},s.Qa=function(u){this.g&&(this.response=u,Bn(this))},s.ga=function(){this.g&&Bn(this)};function Bn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,qn(u)}s.setRequestHeader=function(u,d){this.u.append(u,d)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=d.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Us(u){let d="";return Ot(u,function(g,T){d+=T,d+=":",d+=g,d+=`\r
`}),d}function Re(u,d,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Us(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Qt(u,d,g))}function qt(u){ie.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(qt,ie);var yr=/^https?$/i,Ma=["POST","PUT"];s=qt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,d,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xn.g(),this.v=this.o?As(this.o):As(xn),this.g.onreadystatechange=q(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(k){su(this,k);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)g.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())g.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),U=y.FormData&&u instanceof y.FormData,!(0<=Array.prototype.indexOf.call(Ma,d,void 0))||T||U||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,tt]of g)this.g.setRequestHeader(k,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xa(this),this.u=!0,this.g.send(u),this.u=!1}catch(k){su(this,k)}};function su(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,_r(u),kn(u)}function _r(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),kn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kn(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?vr(this):this.bb())},s.bb=function(){vr(this)};function vr(u){if(u.h&&typeof m<"u"&&(!u.v[1]||gn(u)!=4||u.Z()!=2)){if(u.u&&gn(u)==4)qe(u.Ea,0,u);else if(jt(u,"readystatechange"),gn(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break t;default:d=!1}var g;if(!(g=d)){var T;if(T=tt===0){var U=String(u.D).match(Da)[1]||null;!U&&y.self&&y.self.location&&(U=y.self.location.protocol.slice(0,-1)),T=!yr.test(U?U.toLowerCase():"")}g=T}if(g)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var k=2<gn(u)?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.Z()+"]",_r(u)}}finally{kn(u)}}}}function kn(u,d){if(u.g){xa(u);const g=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||jt(u,"ready");try{g.onreadystatechange=T}catch{}}}function xa(u){u.I&&(y.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function gn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),or(d)}};function lu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function dc(u){const d={};u=(u.g&&2<=gn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(_t(u[T]))continue;var g=N(u[T]);const U=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const k=d[U]||[];d[U]=k,k.push(g)}I(d,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(u,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||d}function Er(u){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ua("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ua("baseRetryDelayMs",5e3,u),this.cb=Ua("retryDelaySeedMs",1e4,u),this.Wa=Ua("forwardChannelMaxRetries",2,u),this.wa=Ua("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ri(u&&u.concurrentRequestLimit),this.Da=new Na,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Er.prototype,s.la=8,s.G=1,s.connect=function(u,d,g,T){Jt(0),this.W=u,this.H=d||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=mu(this,null,this.W),Ar(this)};function zs(u){if(uu(u),u.G==3){var d=u.U++,g=en(u.I);if(Qt(g,"SID",u.K),Qt(g,"RID",d),Qt(g,"TYPE","terminate"),za(u,g),d=new Ye(u,u.j,d),d.L=2,d.v=Va(en(g)),g=!1,y.navigator&&y.navigator.sendBeacon)try{g=y.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&y.Image&&(new Image().src=d.v,g=!0),g||(d.g=gu(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ra(d)}du(u)}function Tr(u){u.g&&(La(u),u.g.cancel(),u.g=null)}function uu(u){Tr(u),u.u&&(y.clearTimeout(u.u),u.u=null),Sr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&y.clearTimeout(u.s),u.s=null)}function Ar(u){if(!fr(u.h)&&!u.s){u.s=!0;var d=u.Ga;et||D(),lt||(et(),lt=!0),Pt.add(d,u),u.B=0}}function mc(u,d){return dr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(q(u.Ga,u,d),Bs(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Ye(this,this.j,u);let k=this.o;if(this.S&&(k?(k=S(k),V(k,this.S)):k=this.S),this.m!==null||this.O||(U.H=k,k=null),this.P)t:{for(var d=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(d+=T,4096<d){d=g;break t}if(d===4096||g===this.i.length-1){d=g+1;break t}}d=1e3}else d=1e3;d=ou(this,U,d),g=en(this.I),Qt(g,"RID",u),Qt(g,"CVER",22),this.D&&Qt(g,"X-HTTP-Session-Id",this.D),za(this,g),k&&(this.O?d="headers="+encodeURIComponent(String(Us(k)))+"&"+d:this.m&&Re(g,this.m,k)),mr(this.h,U),this.Ua&&Qt(g,"TYPE","init"),this.P?(Qt(g,"$req",d),Qt(g,"SID","null"),U.T=!0,wn(U,g,null)):wn(U,g,d),this.G=2}}else this.G==3&&(u?Ls(this,u):this.i.length==0||fr(this.h)||Ls(this))};function Ls(u,d){var g;d?g=d.l:g=u.U++;const T=en(u.I);Qt(T,"SID",u.K),Qt(T,"RID",g),Qt(T,"AID",u.T),za(u,T),u.m&&u.o&&Re(T,u.m,u.o),g=new Ye(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),d&&(u.i=d.D.concat(u.i)),d=ou(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),mr(u.h,g),wn(g,T,d)}function za(u,d){u.H&&Ot(u.H,function(g,T){Qt(d,T,g)}),u.l&&Is({},function(g,T){Qt(d,T,g)})}function ou(u,d,g){g=Math.min(u.i.length,g);var T=u.l?q(u.l.Na,u.l,u):null;t:{var U=u.i;let k=-1;for(;;){const tt=["count="+g];k==-1?0<g?(k=U[0].g,tt.push("ofs="+k)):k=0:tt.push("ofs="+k);let Nt=!0;for(let _e=0;_e<g;_e++){let Mt=U[_e].g;const we=U[_e].map;if(Mt-=k,0>Mt)k=Math.max(0,U[_e].g-100),Nt=!1;else try{Pn(we,tt,"req"+Mt+"_")}catch{T&&T(we)}}if(Nt){T=tt.join("&");break t}}}return u=u.i.splice(0,g),d.D=u,T}function cu(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;et||D(),lt||(et(),lt=!0),Pt.add(d,u),u.v=0}}function Ps(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(q(u.Fa,u),Bs(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(q(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),Tr(this),hu(this))};function La(u){u.A!=null&&(y.clearTimeout(u.A),u.A=null)}function hu(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=en(u.qa);Qt(d,"RID","rpc"),Qt(d,"SID",u.K),Qt(d,"AID",u.T),Qt(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(d,"TO",u.ja),Qt(d,"TYPE","xmlhttp"),za(u,d),u.m&&u.o&&Re(d,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Va(en(d)),g.m=null,g.P=!0,ai(g,u)}s.Za=function(){this.C!=null&&(this.C=null,Tr(this),Ps(this),Jt(19))};function Sr(u){u.C!=null&&(y.clearTimeout(u.C),u.C=null)}function fu(u,d){var g=null;if(u.g==d){Sr(u),La(u),u.g=null;var T=2}else if(Cs(u.h,d))g=d.D,Fe(u.h,d),T=1;else return;if(u.G!=0){if(d.o)if(T==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var U=u.B;T=Oi(),jt(T,new ye(T,g)),Ar(u)}else cu(u);else if(U=d.s,U==3||U==0&&0<d.X||!(T==1&&mc(u,d)||T==2&&Ps(u)))switch(g&&0<g.length&&(d=u.h,d.i=d.i.concat(g)),U){case 1:hi(u,5);break;case 4:hi(u,10);break;case 3:hi(u,6);break;default:hi(u,2)}}}function Bs(u,d){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*d}function hi(u,d){if(u.j.info("Error code "+d),d==2){var g=q(u.fb,u),T=u.Xa;const U=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||Ca(T,"https"),Va(T),U?Oa(T.toString(),g):Dn(T.toString(),g)}else Jt(2);u.G=0,u.l&&u.l.sa(d),du(u),uu(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function du(u){if(u.G=0,u.ka=[],u.l){const d=Vs(u.h);(d.length!=0||u.i.length!=0)&&(Z(u.ka,d),Z(u.ka,u.i),u.h.i.length=0,J(u.i),u.i.length=0),u.l.ra()}}function mu(u,d,g){var T=g instanceof de?en(g):new de(g);if(T.g!="")d&&(T.g=d+"."+T.g),zi(T,T.s);else{var U=y.location;T=U.protocol,d=d?d+"."+U.hostname:U.hostname,U=+U.port;var k=new de(null);T&&Ca(k,T),d&&(k.g=d),U&&zi(k,U),g&&(k.l=g),T=k}return g=u.D,d=u.ya,g&&d&&Qt(T,g,d),Qt(T,"VER",u.la),za(u,T),T}function gu(u,d,g){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new qt(new Li({eb:g})):new qt(u.pa),d.Ha(u.J),d}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}s=pu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function br(){}br.prototype.g=function(u,d){return new Ke(u,d)};function Ke(u,d){ie.call(this),this.g=new Er(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!_t(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_t(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new jn(this)}j(Ke,ie),Ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){zs(this.g)},Ke.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Rn(u),u=g);d.i.push(new iu(d.Ya++,u)),d.G==3&&Ar(d)},Ke.prototype.N=function(){this.g.l=null,delete this.j,zs(this.g),delete this.g,Ke.aa.N.call(this)};function yu(u){ni.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){t:{for(const g in d){u=g;break t}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}j(yu,ni);function _u(){bs.call(this),this.status=1}j(_u,bs);function jn(u){this.g=u}j(jn,pu),jn.prototype.ua=function(){jt(this.g,"a")},jn.prototype.ta=function(u){jt(this.g,new yu(u))},jn.prototype.sa=function(u){jt(this.g,new _u)},jn.prototype.ra=function(){jt(this.g,"b")},br.prototype.createWebChannel=br.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,d_=function(){return new br},f_=function(){return Oi()},h_=Mn,Rf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xi.NO_ERROR=0,xi.TIMEOUT=8,xi.HTTP_ERROR=6,Ro=xi,ii.COMPLETE="complete",c_=ii,Ss.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",ie.prototype.listen=ie.prototype.K,Cl=Ss,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,o_=qt}).apply(typeof Eo<"u"?Eo:typeof self<"u"?self:typeof window<"u"?window:{});const ty="@firebase/firestore",ey="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ms="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new n_("@firebase/firestore");function Wr(){return er.logLevel}function it(s,...e){if(er.logLevel<=zt.DEBUG){const i=e.map(Gf);er.debug(`Firestore (${ms}): ${s}`,...i)}}function Ci(s,...e){if(er.logLevel<=zt.ERROR){const i=e.map(Gf);er.error(`Firestore (${ms}): ${s}`,...i)}}function ss(s,...e){if(er.logLevel<=zt.WARN){const i=e.map(Gf);er.warn(`Firestore (${ms}): ${s}`,...i)}}function Gf(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,m_(s,r,i)}function m_(s,e,i){let r=`FIRESTORE (${ms}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Ci(r),new Error(r)}function kt(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||m_(e,o,r)}function Tt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ds{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class eA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class nA{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new oa;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new oa,e.enqueueRetryable(()=>o(this.currentUser))};const m=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await o(this.currentUser)})},y=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit(v=>y(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new oa)}},0),m()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string",31837,{l:r}),new g_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new Ge(e)}}class iA{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aA{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new iA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ny{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,LT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0,3512);const r=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>r(h))};const o=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ny(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new ny(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=sA(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function bt(s,e){return s<e?-1:s>e?1:0}function wf(s,e){let i=0;for(;i<s.length&&i<e.length;){const r=s.codePointAt(i),o=e.codePointAt(i);if(r!==o){if(r<128&&o<128)return bt(r,o);{const h=p_(),m=lA(h.encode(iy(s,i)),h.encode(iy(e,i)));return m!==0?m:bt(r,o)}}i+=r>65535?2:1}return bt(s.length,e.length)}function iy(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function lA(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return bt(s[i],e[i]);return bt(s.length,e.length)}function ls(s,e,i){return s.length===e.length&&s.every((r,o)=>i(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=-62135596800,ry=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(e){return he.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*ry);return new he(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<ay)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ry}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ay;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(e){return new vt(e)}static min(){return new vt(new he(0,0))}static max(){return new vt(new he(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="__name__";class Xn{constructor(e,i,r){i===void 0?i=0:i>e.length&&gt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&gt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Xn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Xn?e.forEach(r=>{i.push(r)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=Xn.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return bt(e.length,i.length)}static compareSegments(e,i){const r=Xn.isNumericId(e),o=Xn.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Xn.extractNumericId(e).compare(Xn.extractNumericId(i)):wf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ua.fromString(e.substring(4,e.length-2))}}class se extends Xn{construct(e,i,r){return new se(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ct($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(o=>o.length>0))}return new se(i)}static emptyPath(){return new se([])}}const uA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends Xn{construct(e,i,r){return new Pe(e,i,r)}static isValidIdentifier(e){return uA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sy}static keyField(){return new Pe([sy])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new ct($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let m=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ct($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ct($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else y==="`"?(m=!m,o++):y!=="."||m?(r+=y,o++):(h(),o++)}if(h(),m)throw new ct($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(se.fromString(e))}static fromName(e){return new ht(se.fromString(e).popFirst(5))}static empty(){return new ht(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return se.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new se(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=-1;function oA(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(r===1e9?new he(i+1,0):new he(i,r));return new ca(o,ht.empty(),e)}function cA(s){return new ca(s.readTime,s.key,Ll)}class ca{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new ca(vt.min(),ht.empty(),Ll)}static max(){return new ca(vt.max(),ht.empty(),Ll)}}function hA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ht.comparator(s.documentKey,e.documentKey),i!==0?i:bt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gs(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==fA)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):F.reject(i)}static resolve(e){return new F((i,r)=>{i(e)})}static reject(e){return new F((i,r)=>{r(e)})}static waitFor(e){return new F((i,r)=>{let o=0,h=0,m=!1;e.forEach(y=>{++o,y.next(()=>{++h,m&&h===o&&i()},v=>r(v))}),m=!0,h===o&&i()})}static or(e){let i=F.resolve(!1);for(const r of e)i=i.next(o=>o?F.resolve(o):r());return i}static forEach(e,i){const r=[];return e.forEach((o,h)=>{r.push(i.call(this,o,h))}),this.waitFor(r)}static mapArray(e,i){return new F((r,o)=>{const h=e.length,m=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{m[_]=A,++y,y===h&&r(m)},A=>o(A))}})}static doWhile(e,i){return new F((r,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):r()};h()})}}function mA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ps(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>i.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Fo.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=-1;function Ko(s){return s==null}function Uo(s){return s===0&&1/s==-1/0}function gA(s){return typeof s=="number"&&Number.isInteger(s)&&!Uo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="";function pA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=ly(e)),e=yA(s.get(i),e);return ly(e)}function yA(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case __:i+="";break;default:i+=h}}return i}function ly(s){return s+__+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ir(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function v_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e,i){this.comparator=e,this.root=i||Le.EMPTY}insert(e,i){return new ee(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(e){return new ee(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Le.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,r)=>(e(i,r),!1))}toString(){const e=[];return this.inorderTraversal((i,r)=>(e.push(`${i}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new To(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new To(this.root,e,this.comparator,!1)}getReverseIterator(){return new To(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new To(this.root,e,this.comparator,!0)}}class To{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Le{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??Le.RED,this.left=o??Le.EMPTY,this.right=h??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new Le(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Le.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new Le(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.comparator=e,this.data=new ee(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,r)=>(e(i),!1))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new oy(this.data.getIterator())}getIteratorFrom(e){return new oy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(r=>{i=i.add(r)}),i}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Se(this.comparator);return i.data=e,i}}class oy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new On([])}unionWith(e){let i=new Se(Pe.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new On(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ls(this.fields,e.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new E_("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(o){let h="";for(let m=0;m<o.length;++m)h+=String.fromCharCode(o[m]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const _A=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ha(s){if(kt(!!s,39018),typeof s=="string"){let e=0;const i=_A.exec(s);if(kt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ce(s.seconds),nanos:ce(s.nanos)}}function ce(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function fa(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="server_timestamp",A_="__type__",S_="__previous_value__",b_="__local_write_time__";function Yf(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[A_])===null||i===void 0?void 0:i.stringValue)===T_}function Xo(s){const e=s.mapValue.fields[S_];return Yf(e)?Xo(e):e}function Pl(s){const e=ha(s.mapValue.fields[b_].timestampValue);return new he(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,i,r,o,h,m,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const zo="(default)";class Bl{constructor(e,i){this.projectId=e,this.database=i||zo}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===zo}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="__type__",EA="__max__",Ao={mapValue:{}},w_="__vector__",Lo="value";function da(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Yf(s)?4:AA(s)?9007199254740991:TA(s)?10:11:gt(28295,{value:s})}function Jn(s,e){if(s===e)return!0;const i=da(s);if(i!==da(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Pl(s).isEqual(Pl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const m=ha(o.timestampValue),y=ha(h.timestampValue);return m.seconds===y.seconds&&m.nanos===y.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,h){return fa(o.bytesValue).isEqual(fa(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,h){return ce(o.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(s,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return ce(o.integerValue)===ce(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const m=ce(o.doubleValue),y=ce(h.doubleValue);return m===y?Uo(m)===Uo(y):isNaN(m)&&isNaN(y)}return!1}(s,e);case 9:return ls(s.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:case 11:return function(o,h){const m=o.mapValue.fields||{},y=h.mapValue.fields||{};if(uy(m)!==uy(y))return!1;for(const v in m)if(m.hasOwnProperty(v)&&(y[v]===void 0||!Jn(m[v],y[v])))return!1;return!0}(s,e);default:return gt(52216,{left:s})}}function ql(s,e){return(s.values||[]).find(i=>Jn(i,e))!==void 0}function us(s,e){if(s===e)return 0;const i=da(s),r=da(e);if(i!==r)return bt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return bt(s.booleanValue,e.booleanValue);case 2:return function(h,m){const y=ce(h.integerValue||h.doubleValue),v=ce(m.integerValue||m.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1}(s,e);case 3:return cy(s.timestampValue,e.timestampValue);case 4:return cy(Pl(s),Pl(e));case 5:return wf(s.stringValue,e.stringValue);case 6:return function(h,m){const y=fa(h),v=fa(m);return y.compareTo(v)}(s.bytesValue,e.bytesValue);case 7:return function(h,m){const y=h.split("/"),v=m.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=bt(y[_],v[_]);if(A!==0)return A}return bt(y.length,v.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,m){const y=bt(ce(h.latitude),ce(m.latitude));return y!==0?y:bt(ce(h.longitude),ce(m.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return hy(s.arrayValue,e.arrayValue);case 10:return function(h,m){var y,v,_,A;const O=h.fields||{},q=m.fields||{},K=(y=O[Lo])===null||y===void 0?void 0:y.arrayValue,j=(v=q[Lo])===null||v===void 0?void 0:v.arrayValue,J=bt(((_=K==null?void 0:K.values)===null||_===void 0?void 0:_.length)||0,((A=j==null?void 0:j.values)===null||A===void 0?void 0:A.length)||0);return J!==0?J:hy(K,j)}(s.mapValue,e.mapValue);case 11:return function(h,m){if(h===Ao.mapValue&&m===Ao.mapValue)return 0;if(h===Ao.mapValue)return 1;if(m===Ao.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=m.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let O=0;O<v.length&&O<A.length;++O){const q=wf(v[O],A[O]);if(q!==0)return q;const K=us(y[v[O]],_[A[O]]);if(K!==0)return K}return bt(v.length,A.length)}(s.mapValue,e.mapValue);default:throw gt(23264,{Pe:i})}}function cy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return bt(s,e);const i=ha(s),r=ha(e),o=bt(i.seconds,r.seconds);return o!==0?o:bt(i.nanos,r.nanos)}function hy(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=us(i[o],r[o]);if(h)return h}return bt(i.length,r.length)}function os(s){return Df(s)}function Df(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const r=ha(i);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return fa(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ht.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=Df(h);return r+"]"}(s.arrayValue):"mapValue"in s?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const m of r)h?h=!1:o+=",",o+=`${m}:${Df(i.fields[m])}`;return o+"}"}(s.mapValue):gt(61005,{value:s})}function wo(s){switch(da(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xo(s);return e?16+wo(e):16;case 5:return 2*s.stringValue.length;case 6:return fa(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,h)=>o+wo(h),0)}(s.arrayValue);case 10:case 11:return function(r){let o=0;return ir(r.fields,(h,m)=>{o+=h.length+wo(m)}),o}(s.mapValue);default:throw gt(13486,{value:s})}}function Cf(s){return!!s&&"integerValue"in s}function Ff(s){return!!s&&"arrayValue"in s}function fy(s){return!!s&&"nullValue"in s}function dy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Do(s){return!!s&&"mapValue"in s}function TA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[R_])===null||i===void 0?void 0:i.stringValue)===w_}function Ol(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return ir(s.mapValue.fields,(i,r)=>e.mapValue.fields[i]=Ol(r)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ol(s.arrayValue.values[i]);return e}return Object.assign({},s)}function AA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===EA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Do(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(i)}setAll(e){let i=Pe.emptyPath(),r={},o=[];e.forEach((m,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=y.popLast()}m?r[y.lastSegment()]=Ol(m):o.push(y.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());Do(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];Do(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){ir(i,(o,h)=>e[o]=h);for(const o of r)delete e[o]}clone(){return new Sn(Ol(this.value))}}function D_(s){const e=[];return ir(s.fields,(i,r)=>{const o=new Pe([i]);if(Do(r)){const h=D_(r.mapValue).fields;if(h.length===0)e.push(o);else for(const m of h)e.push(o.child(m))}else e.push(o)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,r,o,h,m,y){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=m,this.documentState=y}static newInvalidDocument(e){return new Qe(e,0,vt.min(),vt.min(),vt.min(),Sn.empty(),0)}static newFoundDocument(e,i,r,o){return new Qe(e,1,i,vt.min(),r,o,0)}static newNoDocument(e,i){return new Qe(e,2,i,vt.min(),vt.min(),Sn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,vt.min(),vt.min(),Sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,i){this.position=e,this.inclusive=i}}function my(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const h=e[o],m=s.position[o];if(h.field.isKeyField()?r=ht.comparator(ht.fromName(m.referenceValue),i.key):r=us(m,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function gy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Jn(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,i="asc"){this.field=e,this.dir=i}}function SA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{}class Ae extends C_{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new RA(e,i,r):i==="array-contains"?new CA(e,r):i==="in"?new VA(e,r):i==="not-in"?new IA(e,r):i==="array-contains-any"?new OA(e,r):new Ae(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new wA(e,r):new DA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(us(i,this.value)):i!==null&&da(this.value)===da(i)&&this.matchesComparison(us(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends C_{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new Wn(e,i)}matches(e){return V_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function V_(s){return s.op==="and"}function I_(s){return bA(s)&&V_(s)}function bA(s){for(const e of s.filters)if(e instanceof Wn)return!1;return!0}function Vf(s){if(s instanceof Ae)return s.field.canonicalString()+s.op.toString()+os(s.value);if(I_(s))return s.filters.map(e=>Vf(e)).join(",");{const e=s.filters.map(i=>Vf(i)).join(",");return`${s.op}(${e})`}}function O_(s,e){return s instanceof Ae?function(r,o){return o instanceof Ae&&r.op===o.op&&r.field.isEqual(o.field)&&Jn(r.value,o.value)}(s,e):s instanceof Wn?function(r,o){return o instanceof Wn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((h,m,y)=>h&&O_(m,o.filters[y]),!0):!1}(s,e):void gt(19439)}function N_(s){return s instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${os(i.value)}`}(s):s instanceof Wn?function(i){return i.op.toString()+" {"+i.getFilters().map(N_).join(" ,")+"}"}(s):"Filter"}class RA extends Ae{constructor(e,i,r){super(e,i,r),this.key=ht.fromName(r.referenceValue)}matches(e){const i=ht.comparator(e.key,this.key);return this.matchesComparison(i)}}class wA extends Ae{constructor(e,i){super(e,"in",i),this.keys=M_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class DA extends Ae{constructor(e,i){super(e,"not-in",i),this.keys=M_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function M_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>ht.fromName(r.referenceValue))}class CA extends Ae{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ff(i)&&ql(i.arrayValue,this.value)}}class VA extends Ae{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ql(this.value.arrayValue,i)}}class IA extends Ae{constructor(e,i){super(e,"not-in",i)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ql(this.value.arrayValue,i)}}class OA extends Ae{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ff(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>ql(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,i=null,r=[],o=[],h=null,m=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=m,this.endAt=y,this.Ie=null}}function py(s,e=null,i=[],r=[],o=null,h=null,m=null){return new NA(s,e,i,r,o,h,m)}function Kf(s){const e=Tt(s);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(r=>Vf(r)).join(","),i+="|ob:",i+=e.orderBy.map(r=>function(h){return h.field.canonicalString()+h.dir}(r)).join(","),Ko(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>os(r)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>os(r)).join(",")),e.Ie=i}return e.Ie}function Xf(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!SA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!O_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!gy(s.startAt,e.startAt)&&gy(s.endAt,e.endAt)}function If(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,i=null,r=[],o=[],h=null,m="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=m,this.startAt=y,this.endAt=v,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function MA(s,e,i,r,o,h,m,y){return new Zo(s,e,i,r,o,h,m,y)}function Zf(s){return new Zo(s)}function yy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function xA(s){return s.collectionGroup!==null}function Nl(s){const e=Tt(s);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let y=new Se(Pe.comparator);return m.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(y=y.add(_.field))})}),y})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new Bo(h,r))}),i.has(Pe.keyField().canonicalString())||e.Ee.push(new Bo(Pe.keyField(),r))}return e.Ee}function Zn(s){const e=Tt(s);return e.de||(e.de=UA(e,Nl(s))),e.de}function UA(s,e){if(s.limitType==="F")return py(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new Bo(o.field,h)});const i=s.endAt?new Po(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Po(s.startAt.position,s.startAt.inclusive):null;return py(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Of(s,e,i){return new Zo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function $o(s,e){return Xf(Zn(s),Zn(e))&&s.limitType===e.limitType}function x_(s){return`${Kf(Zn(s))}|lt:${s.limitType}`}function ts(s){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(o=>N_(o)).join(", ")}]`),Ko(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(o=>function(m){return`${m.field.canonicalString()} (${m.dir})`}(o)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(o=>os(o)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(o=>os(o)).join(",")),`Target(${r})`}(Zn(s))}; limitType=${s.limitType})`}function Jo(s,e){return e.isFoundDocument()&&function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ht.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)}(s,e)&&function(r,o){for(const h of Nl(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(s,e)&&function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0}(s,e)&&function(r,o){return!(r.startAt&&!function(m,y,v){const _=my(m,y,v);return m.inclusive?_<=0:_<0}(r.startAt,Nl(r),o)||r.endAt&&!function(m,y,v){const _=my(m,y,v);return m.inclusive?_>=0:_>0}(r.endAt,Nl(r),o))}(s,e)}function zA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function U_(s){return(e,i)=>{let r=!1;for(const o of Nl(s)){const h=LA(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function LA(s,e,i){const r=s.field.isKeyField()?ht.comparator(e.key,i.key):function(h,m,y){const v=m.data.field(h),_=y.data.field(h);return v!==null&&_!==null?us(v,_):gt(42886)}(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return gt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ir(this.inner,(i,r)=>{for(const[o,h]of r)e(o,h)})}isEmpty(){return v_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=new ee(ht.comparator);function Vi(){return PA}const z_=new ee(ht.comparator);function Vl(...s){let e=z_;for(const i of s)e=e.insert(i.key,i);return e}function L_(s){let e=z_;return s.forEach((i,r)=>e=e.insert(i,r.overlayedDocument)),e}function tr(){return Ml()}function P_(){return Ml()}function Ml(){return new ar(s=>s.toString(),(s,e)=>s.isEqual(e))}const BA=new ee(ht.comparator),qA=new Se(ht.comparator);function It(...s){let e=qA;for(const i of s)e=e.add(i);return e}const kA=new Se(bt);function jA(){return kA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uo(e)?"-0":e}}function B_(s){return{integerValue:""+s}}function HA(s,e){return gA(e)?B_(e):$f(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this._=void 0}}function GA(s,e,i){return s instanceof qo?function(o,h){const m={fields:{[A_]:{stringValue:T_},[b_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Yf(h)&&(h=Xo(h)),h&&(m.fields[S_]=h),{mapValue:m}}(i,e):s instanceof kl?k_(s,e):s instanceof jl?j_(s,e):function(o,h){const m=q_(o,h),y=_y(m)+_y(o.Re);return Cf(m)&&Cf(o.Re)?B_(y):$f(o.serializer,y)}(s,e)}function QA(s,e,i){return s instanceof kl?k_(s,e):s instanceof jl?j_(s,e):i}function q_(s,e){return s instanceof ko?function(r){return Cf(r)||function(h){return!!h&&"doubleValue"in h}(r)}(e)?e:{integerValue:0}:null}class qo extends Wo{}class kl extends Wo{constructor(e){super(),this.elements=e}}function k_(s,e){const i=H_(e);for(const r of s.elements)i.some(o=>Jn(o,r))||i.push(r);return{arrayValue:{values:i}}}class jl extends Wo{constructor(e){super(),this.elements=e}}function j_(s,e){let i=H_(e);for(const r of s.elements)i=i.filter(o=>!Jn(o,r));return{arrayValue:{values:i}}}class ko extends Wo{constructor(e,i){super(),this.serializer=e,this.Re=i}}function _y(s){return ce(s.integerValue||s.doubleValue)}function H_(s){return Ff(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function YA(s,e){return s.field.isEqual(e.field)&&function(r,o){return r instanceof kl&&o instanceof kl||r instanceof jl&&o instanceof jl?ls(r.elements,o.elements,Jn):r instanceof ko&&o instanceof ko?Jn(r.Re,o.Re):r instanceof qo&&o instanceof qo}(s.transform,e.transform)}class FA{constructor(e,i){this.version=e,this.transformResults=i}}class wi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Co(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class tc{}function G_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Y_(s.key,wi.none()):new Ql(s.key,s.data,wi.none());{const i=s.data,r=Sn.empty();let o=new Se(Pe.comparator);for(let h of e.fields)if(!o.has(h)){let m=i.field(h);m===null&&h.length>1&&(h=h.popLast(),m=i.field(h)),m===null?r.delete(h):r.set(h,m),o=o.add(h)}return new rr(s.key,r,new On(o.toArray()),wi.none())}}function KA(s,e,i){s instanceof Ql?function(o,h,m){const y=o.value.clone(),v=Ey(o.fieldTransforms,h,m.transformResults);y.setAll(v),h.convertToFoundDocument(m.version,y).setHasCommittedMutations()}(s,e,i):s instanceof rr?function(o,h,m){if(!Co(o.precondition,h))return void h.convertToUnknownDocument(m.version);const y=Ey(o.fieldTransforms,h,m.transformResults),v=h.data;v.setAll(Q_(o)),v.setAll(y),h.convertToFoundDocument(m.version,v).setHasCommittedMutations()}(s,e,i):function(o,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()}(0,e,i)}function xl(s,e,i,r){return s instanceof Ql?function(h,m,y,v){if(!Co(h.precondition,m))return y;const _=h.value.clone(),A=Ty(h.fieldTransforms,v,m);return _.setAll(A),m.convertToFoundDocument(m.version,_).setHasLocalMutations(),null}(s,e,i,r):s instanceof rr?function(h,m,y,v){if(!Co(h.precondition,m))return y;const _=Ty(h.fieldTransforms,v,m),A=m.data;return A.setAll(Q_(h)),A.setAll(_),m.convertToFoundDocument(m.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(O=>O.field))}(s,e,i,r):function(h,m,y){return Co(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):y}(s,e,i)}function XA(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),h=q_(r.transform,o||null);h!=null&&(i===null&&(i=Sn.empty()),i.set(r.field,h))}return i||null}function vy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ls(r,o,(h,m)=>YA(h,m))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Ql extends tc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rr extends tc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Q_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}}),e}function Ey(s,e,i){const r=new Map;kt(s.length===i.length,32656,{Ve:i.length,me:s.length});for(let o=0;o<i.length;o++){const h=s[o],m=h.transform,y=e.data.field(h.field);r.set(h.field,QA(m,y,i[o]))}return r}function Ty(s,e,i){const r=new Map;for(const o of s){const h=o.transform,m=i.data.field(o.field);r.set(o.field,GA(h,m,e))}return r}class Y_ extends tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZA extends tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&KA(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=xl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=xl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=P_();return this.mutations.forEach(o=>{const h=e.get(o.key),m=h.overlayedDocument;let y=this.applyToLocalView(m,h.mutatedFields);y=i.has(o.key)?null:y;const v=G_(m,y);v!==null&&r.set(o.key,v),m.isValidDocument()||m.convertToNoDocument(vt.min())}),r}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),It())}isEqual(e){return this.batchId===e.batchId&&ls(this.mutations,e.mutations,(i,r)=>vy(i,r))&&ls(this.baseMutations,e.baseMutations,(i,r)=>vy(i,r))}}class Jf{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){kt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let o=function(){return BA}();const h=e.mutations;for(let m=0;m<h.length;m++)o=o.insert(h[m].key,r[m].version);return new Jf(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Ut;function tS(s){switch(s){case $.OK:return gt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function F_(s){if(s===void 0)return Ci("GRPC error has no .code"),$.UNKNOWN;switch(s){case pe.OK:return $.OK;case pe.CANCELLED:return $.CANCELLED;case pe.UNKNOWN:return $.UNKNOWN;case pe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case pe.INTERNAL:return $.INTERNAL;case pe.UNAVAILABLE:return $.UNAVAILABLE;case pe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case pe.NOT_FOUND:return $.NOT_FOUND;case pe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case pe.ABORTED:return $.ABORTED;case pe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case pe.DATA_LOSS:return $.DATA_LOSS;default:return gt(39323,{code:s})}}(Ut=pe||(pe={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new ua([4294967295,4294967295],0);function Ay(s){const e=p_().encode(s),i=new u_;return i.update(e),new Uint8Array(i.digest())}function Sy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new ua([i,r],0),new ua([o,h],0)]}class Wf{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Il(`Invalid padding: ${i}`);if(r<0)throw new Il(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Il(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=ua.fromNumber(this.pe)}we(e,i,r){let o=e.add(i.multiply(ua.fromNumber(r)));return o.compare(eS)===1&&(o=new ua([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=Ay(e),[r,o]=Sy(i);for(let h=0;h<this.hashCount;h++){const m=this.we(r,o,h);if(!this.be(m))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),m=new Wf(h,o,i);return r.forEach(y=>m.insert(y)),m}insert(e){if(this.pe===0)return;const i=Ay(e),[r,o]=Sy(i);for(let h=0;h<this.hashCount;h++){const m=this.we(r,o,h);this.Se(m)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new ec(vt.min(),o,new ee(bt),Vi(),It())}}class Yl{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Yl(r,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,i,r,o){this.De=e,this.removedTargetIds=i,this.key=r,this.ve=o}}class K_{constructor(e,i){this.targetId=e,this.Ce=i}}class X_{constructor(e,i,r=Be.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class by{constructor(){this.Fe=0,this.Me=Ry(),this.xe=Be.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=It(),i=It(),r=It();return this.Me.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:gt(38017,{changeType:h})}}),new Yl(this.xe,this.Oe,e,i,r)}Qe(){this.Ne=!1,this.Me=Ry()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class nS{constructor(e){this.ze=e,this.je=new Map,this.He=Vi(),this.Je=So(),this.Ye=So(),this.Ze=new ee(bt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const r=this.rt(i);switch(e.state){case 0:this.it(i)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(i);break;case 3:this.it(i)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),r.ke(e.resumeToken));break;default:gt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((r,o)=>{this.it(o)&&i(o)})}ot(e){const i=e.targetId,r=e.Ce.count,o=this._t(i);if(o){const h=o.target;if(If(h))if(r===0){const m=new ht(h.path);this.tt(i,m,Qe.newNoDocument(m,vt.min()))}else kt(r===1,20013,{expectedCount:r});else{const m=this.ut(i);if(m!==r){const y=this.ct(e),v=y?this.lt(y,e,m):1;if(v!==0){this.st(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let m,y;try{m=fa(r).toUint8Array()}catch(v){if(v instanceof E_)return ss("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Wf(m,o,h)}catch(v){return ss(v instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.pe===0?null:y}lt(e,i,r){return i.Ce.count===r-this.Tt(e,i.targetId)?0:2}Tt(e,i){const r=this.ze.getRemoteKeysForTarget(i);let o=0;return r.forEach(h=>{const m=this.ze.Pt(),y=`projects/${m.projectId}/databases/${m.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.tt(i,h,null),o++)}),o}It(e){const i=new Map;this.je.forEach((h,m)=>{const y=this._t(m);if(y){if(h.current&&If(y.target)){const v=new ht(y.target.path);this.Et(v).has(m)||this.dt(m,v)||this.tt(m,v,Qe.newNoDocument(v,e))}h.Le&&(i.set(m,h.qe()),h.Qe())}});let r=It();this.Ye.forEach((h,m)=>{let y=!0;m.forEachWhile(v=>{const _=this._t(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)}),y&&(r=r.add(h))}),this.He.forEach((h,m)=>m.setReadTime(e));const o=new ec(e,i,this.Ze,this.He,r);return this.He=Vi(),this.Je=So(),this.Ye=So(),this.Ze=new ee(bt),o}et(e,i){if(!this.it(e))return;const r=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,r),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,r){if(!this.it(e))return;const o=this.rt(e);this.dt(e,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),r&&(this.He=this.He.insert(i,r))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new by,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new Se(bt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new Se(bt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new by),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function So(){return new ee(ht.comparator)}function Ry(){return new ee(ht.comparator)}const iS={asc:"ASCENDING",desc:"DESCENDING"},aS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rS={and:"AND",or:"OR"};class sS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Nf(s,e){return s.useProto3Json||Ko(e)?e:{value:e}}function jo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function lS(s,e){return jo(s,e.toTimestamp())}function $n(s){return kt(!!s,49232),vt.fromTimestamp(function(i){const r=ha(i);return new he(r.seconds,r.nanos)}(s))}function td(s,e){return Mf(s,e).canonicalString()}function Mf(s,e){const i=function(o){return new se(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?i:i.child(e)}function $_(s){const e=se.fromString(s);return kt(nv(e),10190,{key:e.toString()}),e}function xf(s,e){return td(s.databaseId,e.path)}function pf(s,e){const i=$_(e);if(i.get(1)!==s.databaseId.projectId)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ht(W_(i))}function J_(s,e){return td(s.databaseId,e)}function uS(s){const e=$_(s);return e.length===4?se.emptyPath():W_(e)}function Uf(s){return new se(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function W_(s){return kt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function wy(s,e,i){return{name:xf(s,e),fields:i.value.mapValue.fields}}function oS(s,e){let i;if("targetChange"in e){e.targetChange;const r=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(kt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),m=e.targetChange.cause,y=m&&function(_){const A=_.code===void 0?$.UNKNOWN:F_(_.code);return new ct(A,_.message||"")}(m);i=new X_(r,o,h,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=pf(s,r.document.name),h=$n(r.document.updateTime),m=r.document.createTime?$n(r.document.createTime):vt.min(),y=new Sn({mapValue:{fields:r.document.fields}}),v=Qe.newFoundDocument(o,h,m,y),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Vo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=pf(s,r.document),h=r.readTime?$n(r.readTime):vt.min(),m=Qe.newNoDocument(o,h),y=r.removedTargetIds||[];i=new Vo([],y,m.key,m)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=pf(s,r.document),h=r.removedTargetIds||[];i=new Vo([],h,o,null)}else{if(!("filter"in e))return gt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,m=new WA(o,h),y=r.targetId;i=new K_(y,m)}}return i}function cS(s,e){let i;if(e instanceof Ql)i={update:wy(s,e.key,e.value)};else if(e instanceof Y_)i={delete:xf(s,e.key)};else if(e instanceof rr)i={update:wy(s,e.key,e.data),updateMask:vS(e.fieldMask)};else{if(!(e instanceof ZA))return gt(16599,{ft:e.type});i={verify:xf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(r=>function(h,m){const y=m.transform;if(y instanceof qo)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof kl)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof jl)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof ko)return{fieldPath:m.field.canonicalString(),increment:y.Re};throw gt(20930,{transform:m.transform})}(0,r))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:lS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt(27497)}(s,e.precondition)),i}function hS(s,e){return s&&s.length>0?(kt(e!==void 0,14353),s.map(i=>function(o,h){let m=o.updateTime?$n(o.updateTime):$n(h);return m.isEqual(vt.min())&&(m=$n(h)),new FA(m,o.transformResults||[])}(i,e))):[]}function fS(s,e){return{documents:[J_(s,e.path)]}}function dS(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=J_(s,o);const h=function(_){if(_.length!==0)return ev(Wn.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const m=function(_){if(_.length!==0)return _.map(A=>function(q){return{field:es(q.field),direction:pS(q.dir)}}(A))}(e.orderBy);m&&(i.structuredQuery.orderBy=m);const y=Nf(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{gt:i,parent:o}}function mS(s){let e=uS(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){kt(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(O){const q=tv(O);return q instanceof Wn&&I_(q)?q.getFilters():[q]}(i.where));let m=[];i.orderBy&&(m=function(O){return O.map(q=>function(j){return new Bo(ns(j.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(q))}(i.orderBy));let y=null;i.limit&&(y=function(O){let q;return q=typeof O=="object"?O.value:O,Ko(q)?null:q}(i.limit));let v=null;i.startAt&&(v=function(O){const q=!!O.before,K=O.values||[];return new Po(K,q)}(i.startAt));let _=null;return i.endAt&&(_=function(O){const q=!O.before,K=O.values||[];return new Po(K,q)}(i.endAt)),MA(e,o,m,h,y,"F",v,_)}function gS(s,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function tv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ns(i.unaryFilter.field);return Ae.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ns(i.unaryFilter.field);return Ae.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ns(i.unaryFilter.field);return Ae.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=ns(i.unaryFilter.field);return Ae.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}}(s):s.fieldFilter!==void 0?function(i){return Ae.create(ns(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return Wn.create(i.compositeFilter.filters.map(r=>tv(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}}(i.compositeFilter.op))}(s):gt(30097,{filter:s})}function pS(s){return iS[s]}function yS(s){return aS[s]}function _S(s){return rS[s]}function es(s){return{fieldPath:s.canonicalString()}}function ns(s){return Pe.fromServerFormat(s.fieldPath)}function ev(s){return s instanceof Ae?function(i){if(i.op==="=="){if(dy(i.value))return{unaryFilter:{field:es(i.field),op:"IS_NAN"}};if(fy(i.value))return{unaryFilter:{field:es(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(dy(i.value))return{unaryFilter:{field:es(i.field),op:"IS_NOT_NAN"}};if(fy(i.value))return{unaryFilter:{field:es(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:es(i.field),op:yS(i.op),value:i.value}}}(s):s instanceof Wn?function(i){const r=i.getFilters().map(o=>ev(o));return r.length===1?r[0]:{compositeFilter:{op:_S(i.op),filters:r}}}(s):gt(54877,{filter:s})}function vS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function nv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,i,r,o,h=vt.min(),m=vt.min(),y=Be.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.wt=e}}function TS(s){const e=mS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Of(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.yn=new SS}addToCollectionParentIndex(e,i){return this.yn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.yn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(ca.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(ca.min())}updateCollectionGroup(e,i,r){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class SS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Se(se.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Se(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iv=41943040;class We{static withCacheSize(e){return new We(e,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */We.DEFAULT_COLLECTION_PERCENTILE=10,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,We.DEFAULT=new We(iv,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),We.DISABLED=new We(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new cs(0)}static ir(){return new cs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="LruGarbageCollector",bS=1048576;function Vy([s,e],[i,r]){const o=bt(s,i);return o===0?bt(e,r):o}class RS{constructor(e){this.cr=e,this.buffer=new Se(Vy),this.lr=0}hr(){return++this.lr}Pr(e){const i=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Vy(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class wS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){it(Cy,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ps(i)?it(Cy,"Ignoring IndexedDB error during garbage collection: ",i):await gs(i)}await this.Ir(3e5)})}}class DS{constructor(e,i){this.Er=e,this.params=i}calculateTargetCount(e,i){return this.Er.dr(e).next(r=>Math.floor(i/100*r))}nthSequenceNumber(e,i){if(i===0)return F.resolve(Fo.le);const r=new RS(i);return this.Er.forEachTarget(e,o=>r.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>r.Pr(o))).next(()=>r.maxValue)}removeTargets(e,i,r){return this.Er.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Er.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Dy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dy):this.Rr(e,i))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,i){let r,o,h,m,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,m=Date.now(),this.nthSequenceNumber(e,o))).next(O=>(r=O,y=Date.now(),this.removeTargets(e,r,i))).next(O=>(h=O,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(_=Date.now(),Wr()<=zt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-A}ms
	Determined least recently used ${o} in `+(y-m)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${O} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:O})))}}function CS(s,e){return new DS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.changes=new ar(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?F.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(r!==null&&xl(r.mutation,o,On.empty(),he.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.getLocalViewOfDocuments(e,r,It()).next(()=>r))}getLocalViewOfDocuments(e,i,r=It()){const o=tr();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,r).next(h=>{let m=Vl();return h.forEach((y,v)=>{m=m.insert(y,v.overlayedDocument)}),m}))}getOverlayedDocuments(e,i){const r=tr();return this.populateOverlays(e,r,i).next(()=>this.computeViews(e,i,r,It()))}populateOverlays(e,i,r){const o=[];return r.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((m,y)=>{i.set(m,y)})})}computeViews(e,i,r,o){let h=Vi();const m=Ml(),y=function(){return Ml()}();return i.forEach((v,_)=>{const A=r.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof rr)?h=h.insert(_.key,_):A!==void 0?(m.set(_.key,A.mutation.getFieldMask()),xl(A.mutation,_,A.mutation.getFieldMask(),he.now())):m.set(_.key,On.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>m.set(_,A)),i.forEach((_,A)=>{var O;return y.set(_,new IS(A,(O=m.get(_))!==null&&O!==void 0?O:null))}),y))}recalculateAndSaveOverlays(e,i){const r=Ml();let o=new ee((m,y)=>m-y),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(m=>{for(const y of m)y.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||On.empty();A=y.applyToLocalView(_,A),r.set(v,A);const O=(o.get(y.batchId)||It()).add(v);o=o.insert(y.batchId,O)})}).next(()=>{const m=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,O=P_();A.forEach(q=>{if(!h.has(q)){const K=G_(i.get(q),r.get(q));K!==null&&O.set(q,K),h=h.add(q)}}),m.push(this.documentOverlayCache.saveOverlays(e,_,O))}return F.waitFor(m)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,i,r,o){return function(m){return ht.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):xA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next(h=>{const m=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):F.resolve(tr());let y=Ll,v=h;return m.next(_=>F.forEach(_,(A,O)=>(y<O.largestBatchId&&(y=O.largestBatchId),h.get(A)?F.resolve():this.remoteDocumentCache.getEntry(e,A).next(q=>{v=v.insert(A,q)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,It())).next(A=>({batchId:y,changes:L_(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ht(i)).next(r=>{let o=Vl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let m=Vl();return this.indexManager.getCollectionParents(e,h).next(y=>F.forEach(y,v=>{const _=function(O,q){return new Zo(q,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next(A=>{A.forEach((O,q)=>{m=m.insert(O,q)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next(m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o))).next(m=>{h.forEach((v,_)=>{const A=_.getKey();m.get(A)===null&&(m=m.insert(A,Qe.newInvalidDocument(A)))});let y=Vl();return m.forEach((v,_)=>{const A=h.get(v);A!==void 0&&xl(A.mutation,_,On.empty(),he.now()),Jo(i,_)&&(y=y.insert(v,_))}),y})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,i){return F.resolve(this.Fr.get(i))}saveBundleMetadata(e,i){return this.Fr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:$n(o.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.Mr.get(i))}saveNamedQuery(e,i){return this.Mr.set(i.name,function(o){return{name:o.name,query:TS(o.bundledQuery),readTime:$n(o.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.overlays=new ee(ht.comparator),this.Or=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const r=tr();return F.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&r.set(o,h)})).next(()=>r)}saveOverlays(e,i,r){return r.forEach((o,h)=>{this.St(e,i,h)}),F.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Or.get(r);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Or.delete(r)),F.resolve()}getOverlaysForCollection(e,i,r){const o=tr(),h=i.length+1,m=new ht(i.child("")),y=this.overlays.getIteratorFrom(m);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&o.set(v.getKey(),v)}return F.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new ee((_,A)=>_-A);const m=this.overlays.getIterator();for(;m.hasNext();){const _=m.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=tr(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=tr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>y.set(_,A)),!(y.size()>=o)););return F.resolve(y)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const m=this.Or.get(o.largestBatchId).delete(r.key);this.Or.set(o.largestBatchId,m)}this.overlays=this.overlays.insert(r.key,new JA(i,r));let h=this.Or.get(i);h===void 0&&(h=It(),this.Or.set(i,h)),this.Or.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(){this.Nr=new Se(Ie.Br),this.Lr=new Se(Ie.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,i){const r=new Ie(e,i);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,i){e.forEach(r=>this.addReference(r,i))}removeReference(e,i){this.Qr(new Ie(e,i))}$r(e,i){e.forEach(r=>this.removeReference(r,i))}Ur(e){const i=new ht(new se([])),r=new Ie(i,e),o=new Ie(i,e+1),h=[];return this.Lr.forEachInRange([r,o],m=>{this.Qr(m),h.push(m.key)}),h}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const i=new ht(new se([])),r=new Ie(i,e),o=new Ie(i,e+1);let h=It();return this.Lr.forEachInRange([r,o],m=>{h=h.add(m.key)}),h}containsKey(e){const i=new Ie(e,0),r=this.Nr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ie{constructor(e,i){this.key=e,this.Gr=i}static Br(e,i){return ht.comparator(e.key,i.key)||bt(e.Gr,i.Gr)}static kr(e,i){return bt(e.Gr,i.Gr)||ht.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Jn=1,this.zr=new Se(Ie.Br)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new $A(h,i,r,o);this.mutationQueue.push(m);for(const y of o)this.zr=this.zr.add(new Ie(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return F.resolve(m)}lookupMutationBatch(e,i){return F.resolve(this.jr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Hr(r),h=o<0?0:o;return F.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Qf:this.Jn-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ie(i,0),o=new Ie(i,Number.POSITIVE_INFINITY),h=[];return this.zr.forEachInRange([r,o],m=>{const y=this.jr(m.Gr);h.push(y)}),F.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Se(bt);return i.forEach(o=>{const h=new Ie(o,0),m=new Ie(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([h,m],y=>{r=r.add(y.Gr)})}),F.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;ht.isDocumentKey(h)||(h=h.child(""));const m=new Ie(new ht(h),0);let y=new Se(bt);return this.zr.forEachWhile(v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Gr)),!0)},m),F.resolve(this.Jr(y))}Jr(e){const i=[];return e.forEach(r=>{const o=this.jr(r);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){kt(this.Yr(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return F.forEach(i.mutations,o=>{const h=new Ie(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,i){const r=new Ie(i,0),o=this.zr.firstAfterOrEqual(r);return F.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Yr(e,i){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const i=this.Hr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.Zr=e,this.docs=function(){return new ee(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,m=this.Zr(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return F.resolve(r?r.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let r=Vi();return i.forEach(o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Qe.newInvalidDocument(o))}),F.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=Vi();const m=i.path,y=new ht(m.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!m.isPrefixOf(_.path))break;_.path.length>m.length+1||hA(cA(A),r)<=0||(o.has(A.key)||Jo(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return F.resolve(h)}getAllFromCollectionGroup(e,i,r,o){gt(9500)}Xr(e,i){return F.forEach(this.docs,r=>i(r))}newChangeBuffer(e){return new LS(this)}getSize(e){return F.resolve(this.size)}}class LS extends VS{constructor(e){super(),this.vr=e}applyChanges(e){const i=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?i.push(this.vr.addEntry(e,o)):this.vr.removeEntry(r)}),F.waitFor(i)}getFromCache(e,i){return this.vr.getEntry(e,i)}getAllFromCache(e,i){return this.vr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.persistence=e,this.ei=new ar(i=>Kf(i),Xf),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ti=0,this.ni=new ed,this.targetCount=0,this.ri=cs.rr()}forEachTarget(e,i){return this.ei.forEach((r,o)=>i(o)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ti&&(this.ti=i),F.resolve()}ar(e){this.ei.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ri=new cs(i),this.highestTargetId=i),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,i){return this.ar(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.ar(i),F.resolve()}removeTargetData(e,i){return this.ei.delete(i.target),this.ni.Ur(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.ei.forEach((m,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.ei.delete(m),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)}),F.waitFor(h).next(()=>o)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const r=this.ei.get(i)||null;return F.resolve(r)}addMatchingKeys(e,i,r){return this.ni.qr(i,r),F.resolve()}removeMatchingKeys(e,i,r){this.ni.$r(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(m=>{h.push(o.markPotentiallyOrphaned(e,m))}),F.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ni.Ur(i),F.resolve()}getMatchingKeysForTargetId(e,i){const r=this.ni.Wr(i);return F.resolve(r)}containsKey(e,i){return F.resolve(this.ni.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,i){this.ii={},this.overlays={},this.si=new Fo(0),this.oi=!1,this.oi=!0,this._i=new xS,this.referenceDelegate=e(this),this.ai=new PS(this),this.indexManager=new AS,this.remoteDocumentCache=function(o){return new zS(o)}(r=>this.referenceDelegate.ui(r)),this.serializer=new ES(i),this.ci=new NS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new MS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ii[e.toKey()];return r||(r=new US(i,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,i,r){it("MemoryPersistence","Starting transaction:",e);const o=new BS(this.si.next());return this.referenceDelegate.li(),r(o).next(h=>this.referenceDelegate.hi(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Pi(e,i){return F.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,i)))}}class BS extends dA{constructor(e){super(),this.currentSequenceNumber=e}}class nd{constructor(e){this.persistence=e,this.Ti=new ed,this.Ii=null}static Ei(e){return new nd(e)}get di(){if(this.Ii)return this.Ii;throw gt(60996)}addReference(e,i,r){return this.Ti.addReference(r,i),this.di.delete(r.toString()),F.resolve()}removeReference(e,i,r){return this.Ti.removeReference(r,i),this.di.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),F.resolve()}removeTarget(e,i){this.Ti.Ur(i.targetId).forEach(o=>this.di.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.di.add(h.toString()))}).next(()=>r.removeTargetData(e,i))}li(){this.Ii=new Set}hi(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.di,r=>{const o=ht.fromPath(r);return this.Ai(e,o).next(h=>{h||i.removeEntry(o,vt.min())})}).next(()=>(this.Ii=null,i.apply(e)))}updateLimboDocument(e,i){return this.Ai(e,i).next(r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())})}ui(e){return 0}Ai(e,i){return F.or([()=>F.resolve(this.Ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Pi(e,i)])}}class Ho{constructor(e,i){this.persistence=e,this.Ri=new ar(r=>pA(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=CS(this,i)}static Ei(e,i){return new Ho(e,i)}li(){}hi(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>i.next(o=>r+o))}Vr(e){let i=0;return this.Ar(e,r=>{i++}).next(()=>i)}Ar(e,i){return F.forEach(this.Ri,(r,o)=>this.gr(e,r,o).next(h=>h?F.resolve():i(o)))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.Xr(e,m=>this.gr(e,m,i).next(y=>{y||(r++,h.removeEntry(m,vt.min()))})).next(()=>h.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,i){return this.Ri.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.Ri.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,i,r){return this.Ri.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.Ri.set(i,e.currentSequenceNumber),F.resolve()}ui(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=wo(e.data.value)),i}gr(e,i,r){return F.or([()=>this.persistence.Pi(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.Ri.get(i);return F.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.ls=r,this.hs=o}static Ps(e,i){let r=It(),o=It();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new id(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return ME()?8:mA(OE())>0?6:4}()}initialize(e,i){this.As=e,this.indexManager=i,this.Ts=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.Rs(e,i).next(m=>{h.result=m}).next(()=>{if(!h.result)return this.Vs(e,i,o,r).next(m=>{h.result=m})}).next(()=>{if(h.result)return;const m=new qS;return this.fs(e,i,m).next(y=>{if(h.result=y,this.Is)return this.gs(e,i,m,y.size)})}).next(()=>h.result)}gs(e,i,r,o){return r.documentReadCount<this.Es?(Wr()<=zt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",ts(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),F.resolve()):(Wr()<=zt.DEBUG&&it("QueryEngine","Query:",ts(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Wr()<=zt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",ts(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(i))):F.resolve())}Rs(e,i){if(yy(i))return F.resolve(null);let r=Zn(i);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Of(i,null,"F"),r=Zn(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next(h=>{const m=It(...h);return this.As.getDocuments(e,m).next(y=>this.indexManager.getMinOffset(e,r).next(v=>{const _=this.ps(i,y);return this.ys(i,_,m,v.readTime)?this.Rs(e,Of(i,null,"F")):this.ws(e,_,i,v)}))})))}Vs(e,i,r,o){return yy(i)||o.isEqual(vt.min())?F.resolve(null):this.As.getDocuments(e,r).next(h=>{const m=this.ps(i,h);return this.ys(i,m,r,o)?F.resolve(null):(Wr()<=zt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ts(i)),this.ws(e,m,i,oA(o,Ll)).next(y=>y))})}ps(e,i){let r=new Se(U_(e));return i.forEach((o,h)=>{Jo(e,h)&&(r=r.add(h))}),r}ys(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}fs(e,i,r){return Wr()<=zt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",ts(i)),this.As.getDocumentsMatchingQuery(e,i,ca.min(),r)}ws(e,i,r,o){return this.As.getDocumentsMatchingQuery(e,r,o).next(h=>(i.forEach(m=>{h=h.insert(m.key,m)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="LocalStore",jS=3e8;class HS{constructor(e,i,r,o){this.persistence=e,this.bs=i,this.serializer=o,this.Ss=new ee(bt),this.Ds=new ar(h=>Kf(h),Xf),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OS(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ss))}}function GS(s,e,i,r){return new HS(s,e,i,r)}async function rv(s,e){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next(h=>(o=h,i.Fs(e),i.mutationQueue.getAllMutationBatches(r))).next(h=>{const m=[],y=[];let v=It();for(const _ of o){m.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next(_=>({Ms:_,removedBatchIds:m,addedBatchIds:y}))})})}function QS(s,e){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),h=i.Cs.newChangeBuffer({trackRemovals:!0});return function(y,v,_,A){const O=_.batch,q=O.keys();let K=F.resolve();return q.forEach(j=>{K=K.next(()=>A.getEntry(v,j)).next(J=>{const Z=_.docVersions.get(j);kt(Z!==null,48541),J.version.compareTo(Z)<0&&(O.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),A.addEntry(J)))})}),K.next(()=>y.mutationQueue.removeMutationBatch(v,O))}(i,r,e,h).next(()=>h.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(y){let v=It();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(r,o))})}function sv(s){const e=Tt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.ai.getLastRemoteSnapshotVersion(i))}function YS(s,e){const i=Tt(s),r=e.snapshotVersion;let o=i.Ss;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=i.Cs.newChangeBuffer({trackRemovals:!0});o=i.Ss;const y=[];e.targetChanges.forEach((A,O)=>{const q=o.get(O);if(!q)return;y.push(i.ai.removeMatchingKeys(h,A.removedDocuments,O).next(()=>i.ai.addMatchingKeys(h,A.addedDocuments,O)));let K=q.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(O)!==null?K=K.withResumeToken(Be.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,r)),o=o.insert(O,K),function(J,Z,Et){return J.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=jS?!0:Et.addedDocuments.size+Et.modifiedDocuments.size+Et.removedDocuments.size>0}(q,K,A)&&y.push(i.ai.updateTargetData(h,K))});let v=Vi(),_=It();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),y.push(FS(h,m,e.documentUpdates).next(A=>{v=A.xs,_=A.Os})),!r.isEqual(vt.min())){const A=i.ai.getLastRemoteSnapshotVersion(h).next(O=>i.ai.setTargetsMetadata(h,h.currentSequenceNumber,r));y.push(A)}return F.waitFor(y).next(()=>m.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.Ss=o,h))}function FS(s,e,i){let r=It(),o=It();return i.forEach(h=>r=r.add(h)),e.getEntries(s,r).next(h=>{let m=Vi();return i.forEach((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(vt.min())?(e.removeEntry(y,v.readTime),m=m.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),m=m.insert(y,v)):it(ad,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)}),{xs:m,Os:o}})}function KS(s,e){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Qf),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XS(s,e){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return i.ai.getTargetData(r,e).next(h=>h?(o=h,F.resolve(o)):i.ai.allocateTargetId(r).next(m=>(o=new ra(e,m,"TargetPurposeListen",r.currentSequenceNumber),i.ai.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=i.Ss.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ss=i.Ss.insert(r.targetId,r),i.Ds.set(e,r.targetId)),r})}async function zf(s,e,i){const r=Tt(s),o=r.Ss.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,m=>r.persistence.referenceDelegate.removeTarget(m,o))}catch(m){if(!ps(m))throw m;it(ad,`Failed to update sequence numbers for target ${e}: ${m}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(o.target)}function Iy(s,e,i){const r=Tt(s);let o=vt.min(),h=It();return r.persistence.runTransaction("Execute query","readwrite",m=>function(v,_,A){const O=Tt(v),q=O.Ds.get(A);return q!==void 0?F.resolve(O.Ss.get(q)):O.ai.getTargetData(_,A)}(r,m,Zn(e)).next(y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(m,y.targetId).next(v=>{h=v})}).next(()=>r.bs.getDocumentsMatchingQuery(m,e,i?o:vt.min(),i?h:It())).next(y=>(ZS(r,zA(e),y),{documents:y,Ns:h})))}function ZS(s,e,i){let r=s.vs.get(e)||vt.min();i.forEach((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)}),s.vs.set(e,r)}class Oy{constructor(){this.activeTargetIds=jA()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $S{constructor(){this.So=new Oy,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,i,r){this.Do[e]=i}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Oy,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="ConnectivityMonitor";class My{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){it(Ny,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){it(Ny,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo=null;function Lf(){return bo===null?bo=function(){return 268435456+Math.round(2147483648*Math.random())}():bo++,"0x"+bo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="RestConnection",WS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class t1{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=i+"://"+e.host,this.ko=`projects/${r}/databases/${o}`,this.qo=this.databaseId.database===zo?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Qo(e,i,r,o,h){const m=Lf(),y=this.$o(e,i.toUriEncodedString());it(yf,`Sending RPC '${e}' ${m}:`,y,r);const v={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(v,o,h);const{host:_}=new URL(y),A=e_(_);return this.Ko(e,y,v,r,A).then(O=>(it(yf,`Received RPC '${e}' ${m}: `,O),O),O=>{throw ss(yf,`RPC '${e}' ${m} failed with error: `,O,"url: ",y,"request:",r),O})}Wo(e,i,r,o,h,m){return this.Qo(e,i,r,o,h)}Uo(e,i,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ms}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),r&&r.headers.forEach((o,h)=>e[h]=o)}$o(e,i){const r=WS[e];return`${this.Lo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class n1 extends t1{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,i,r,o,h){const m=Lf();return new Promise((y,v)=>{const _=new o_;_.setWithCredentials(!0),_.listenOnce(c_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Ro.NO_ERROR:const O=_.getResponseJson();it(He,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(O)),y(O);break;case Ro.TIMEOUT:it(He,`RPC '${e}' ${m} timed out`),v(new ct($.DEADLINE_EXCEEDED,"Request time out"));break;case Ro.HTTP_ERROR:const q=_.getStatus();if(it(He,`RPC '${e}' ${m} failed with status:`,q,"response text:",_.getResponseText()),q>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const j=K==null?void 0:K.error;if(j&&j.status&&j.message){const J=function(Et){const _t=Et.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(_t)>=0?_t:$.UNKNOWN}(j.status);v(new ct(J,j.message))}else v(new ct($.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ct($.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{s_:e,streamId:m,o_:_.getLastErrorCode(),__:_.getLastError()})}}finally{it(He,`RPC '${e}' ${m} completed.`)}});const A=JSON.stringify(o);it(He,`RPC '${e}' ${m} sending request:`,o),_.send(i,"POST",A,r,15)})}a_(e,i,r){const o=Lf(),h=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=d_(),y=f_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Uo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=h.join("");it(He,`Creating RPC '${e}' stream ${o}: ${A}`,v);const O=m.createWebChannel(A,v);let q=!1,K=!1;const j=new e1({Go:Z=>{K?it(He,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(q||(it(He,`Opening RPC '${e}' stream ${o} transport.`),O.open(),q=!0),it(He,`RPC '${e}' stream ${o} sending:`,Z),O.send(Z))},zo:()=>O.close()}),J=(Z,Et,_t)=>{Z.listen(Et,dt=>{try{_t(dt)}catch(pt){setTimeout(()=>{throw pt},0)}})};return J(O,Cl.EventType.OPEN,()=>{K||(it(He,`RPC '${e}' stream ${o} transport opened.`),j.t_())}),J(O,Cl.EventType.CLOSE,()=>{K||(K=!0,it(He,`RPC '${e}' stream ${o} transport closed`),j.r_())}),J(O,Cl.EventType.ERROR,Z=>{K||(K=!0,ss(He,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),j.r_(new ct($.UNAVAILABLE,"The operation could not be completed")))}),J(O,Cl.EventType.MESSAGE,Z=>{var Et;if(!K){const _t=Z.data[0];kt(!!_t,16349);const dt=_t,pt=(dt==null?void 0:dt.error)||((Et=dt[0])===null||Et===void 0?void 0:Et.error);if(pt){it(He,`RPC '${e}' stream ${o} received error:`,pt);const rt=pt.status;let Ot=function(w){const V=pe[w];if(V!==void 0)return F_(V)}(rt),I=pt.message;Ot===void 0&&(Ot=$.INTERNAL,I="Unknown error status: "+rt+" with message "+pt.message),K=!0,j.r_(new ct(Ot,I)),O.close()}else it(He,`RPC '${e}' stream ${o} received:`,_t),j.i_(_t)}}),J(y,h_.STAT_EVENT,Z=>{Z.stat===Rf.PROXY?it(He,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===Rf.NOPROXY&&it(He,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.n_()},0),j}}function _f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(s){return new sS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,i,r=1e3,o=1.5,h=6e4){this.bi=e,this.timerId=i,this.u_=r,this.c_=o,this.l_=h,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const i=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),o=Math.max(0,i-r);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="PersistentStream";class uv{constructor(e,i,r,o,h,m,y,v){this.bi=e,this.R_=r,this.V_=o,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new lv(e,i)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,i){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Ci(i.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(i)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),i=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.m_===i&&this.B_(r,o)},r=>{e(()=>{const o=new ct($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(o)})})}B_(e,i){const r=this.N_(this.m_);this.stream=this.k_(e,i),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{r(()=>this.L_(o))}),this.stream.onMessage(o=>{r(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return it(xy,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return i=>{this.bi.enqueueAndForget(()=>this.m_===e?i():(it(xy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class i1 extends uv{constructor(e,i,r,o,h,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,m),this.serializer=h}k_(e,i){return this.connection.a_("Listen",e,i)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const i=oS(this.serializer,e),r=function(h){if(!("targetChange"in h))return vt.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?vt.min():m.readTime?$n(m.readTime):vt.min()}(e);return this.listener.Q_(i,r)}U_(e){const i={};i.database=Uf(this.serializer),i.addTarget=function(h,m){let y;const v=m.target;if(y=If(v)?{documents:fS(h,v)}:{query:dS(h,v).gt},y.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){y.resumeToken=Z_(h,m.resumeToken);const _=Nf(h,m.expectedCount);_!==null&&(y.expectedCount=_)}else if(m.snapshotVersion.compareTo(vt.min())>0){y.readTime=jo(h,m.snapshotVersion.toTimestamp());const _=Nf(h,m.expectedCount);_!==null&&(y.expectedCount=_)}return y}(this.serializer,e);const r=gS(this.serializer,e);r&&(i.labels=r),this.F_(i)}K_(e){const i={};i.database=Uf(this.serializer),i.removeTarget=e,this.F_(i)}}class a1 extends uv{constructor(e,i,r,o,h,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,m),this.serializer=h}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,i){return this.connection.a_("Write",e,i)}q_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const i=hS(e.writeResults,e.commitTime),r=$n(e.commitTime);return this.listener.j_(r,i)}H_(){const e={};e.database=Uf(this.serializer),this.F_(e)}G_(e){const i={streamToken:this.lastStreamToken,writes:e.map(r=>cS(this.serializer,r))};this.F_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{}class s1 extends r1{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,i,r,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Qo(e,Mf(i,r),o,h,m)).catch(h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct($.UNKNOWN,h.toString())})}Wo(e,i,r,o,h){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,y])=>this.connection.Wo(e,Mf(i,r),o,m,y,h)).catch(m=>{throw m.name==="FirebaseError"?(m.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ct($.UNKNOWN,m.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class l1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ci(i),this.ea=!1):it("OnlineStateTracker",i)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr="RemoteStore";class u1{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=h,this.ca.vo(m=>{r.enqueueAndForget(async()=>{sr(this)&&(it(nr,"Restarting streams for network reachability change."),await async function(v){const _=Tt(v);_.aa.add(4),await Fl(_),_.la.set("Unknown"),_.aa.delete(4),await ic(_)}(this))})}),this.la=new l1(r,o)}}async function ic(s){if(sr(s))for(const e of s.ua)await e(!0)}async function Fl(s){for(const e of s.ua)await e(!1)}function ov(s,e){const i=Tt(s);i._a.has(e.targetId)||(i._a.set(e.targetId,e),ud(i)?ld(i):ys(i).b_()&&sd(i,e))}function rd(s,e){const i=Tt(s),r=ys(i);i._a.delete(e),r.b_()&&cv(i,e),i._a.size===0&&(r.b_()?r.v_():sr(i)&&i.la.set("Unknown"))}function sd(s,e){if(s.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ys(s).U_(e)}function cv(s,e){s.ha.Ke(e),ys(s).K_(e)}function ld(s){s.ha=new nS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>s._a.get(e)||null,Pt:()=>s.datastore.serializer.databaseId}),ys(s).start(),s.la.ta()}function ud(s){return sr(s)&&!ys(s).w_()&&s._a.size>0}function sr(s){return Tt(s).aa.size===0}function hv(s){s.ha=void 0}async function o1(s){s.la.set("Online")}async function c1(s){s._a.forEach((e,i)=>{sd(s,e)})}async function h1(s,e){hv(s),ud(s)?(s.la.ia(e),ld(s)):s.la.set("Unknown")}async function f1(s,e,i){if(s.la.set("Online"),e instanceof X_&&e.state===2&&e.cause)try{await async function(o,h){const m=h.cause;for(const y of h.targetIds)o._a.has(y)&&(await o.remoteSyncer.rejectListen(y,m),o._a.delete(y),o.ha.removeTarget(y))}(s,e)}catch(r){it(nr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Go(s,r)}else if(e instanceof Vo?s.ha.Xe(e):e instanceof K_?s.ha.ot(e):s.ha.nt(e),!i.isEqual(vt.min()))try{const r=await sv(s.localStore);i.compareTo(r)>=0&&await function(h,m){const y=h.ha.It(m);return y.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h._a.get(_);A&&h._a.set(_,A.withResumeToken(v.resumeToken,m))}}),y.targetMismatches.forEach((v,_)=>{const A=h._a.get(v);if(!A)return;h._a.set(v,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),cv(h,v);const O=new ra(A.target,v,_,A.sequenceNumber);sd(h,O)}),h.remoteSyncer.applyRemoteEvent(y)}(s,i)}catch(r){it(nr,"Failed to raise snapshot:",r),await Go(s,r)}}async function Go(s,e,i){if(!ps(e))throw e;s.aa.add(1),await Fl(s),s.la.set("Offline"),i||(i=()=>sv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(nr,"Retrying IndexedDB access"),await i(),s.aa.delete(1),await ic(s)})}function fv(s,e){return e().catch(i=>Go(s,i,e))}async function ac(s){const e=Tt(s),i=ma(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Qf;for(;d1(e);)try{const o=await KS(e.localStore,r);if(o===null){e.oa.length===0&&i.v_();break}r=o.batchId,m1(e,o)}catch(o){await Go(e,o)}dv(e)&&mv(e)}function d1(s){return sr(s)&&s.oa.length<10}function m1(s,e){s.oa.push(e);const i=ma(s);i.b_()&&i.W_&&i.G_(e.mutations)}function dv(s){return sr(s)&&!ma(s).w_()&&s.oa.length>0}function mv(s){ma(s).start()}async function g1(s){ma(s).H_()}async function p1(s){const e=ma(s);for(const i of s.oa)e.G_(i.mutations)}async function y1(s,e,i){const r=s.oa.shift(),o=Jf.from(r,e,i);await fv(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await ac(s)}async function _1(s,e){e&&ma(s).W_&&await async function(r,o){if(function(m){return tS(m)&&m!==$.ABORTED}(o.code)){const h=r.oa.shift();ma(r).D_(),await fv(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),await ac(r)}}(s,e),dv(s)&&mv(s)}async function Uy(s,e){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),it(nr,"RemoteStore received new credentials");const r=sr(i);i.aa.add(3),await Fl(i),r&&i.la.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.aa.delete(3),await ic(i)}async function v1(s,e){const i=Tt(s);e?(i.aa.delete(2),await ic(i)):e||(i.aa.add(2),await Fl(i),i.la.set("Unknown"))}function ys(s){return s.Pa||(s.Pa=function(i,r,o){const h=Tt(i);return h.Y_(),new i1(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{jo:o1.bind(null,s),Jo:c1.bind(null,s),Zo:h1.bind(null,s),Q_:f1.bind(null,s)}),s.ua.push(async e=>{e?(s.Pa.D_(),ud(s)?ld(s):s.la.set("Unknown")):(await s.Pa.stop(),hv(s))})),s.Pa}function ma(s){return s.Ta||(s.Ta=function(i,r,o){const h=Tt(i);return h.Y_(),new a1(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{jo:()=>Promise.resolve(),Jo:g1.bind(null,s),Zo:_1.bind(null,s),z_:p1.bind(null,s),j_:y1.bind(null,s)}),s.ua.push(async e=>{e?(s.Ta.D_(),await ac(s)):(await s.Ta.stop(),s.oa.length>0&&(it(nr,`Stopping write stream with ${s.oa.length} pending writes`),s.oa=[]))})),s.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new oa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const m=Date.now()+r,y=new od(e,i,m,o,h);return y.start(r),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cd(s,e){if(Ci("AsyncQueue",`${e}: ${s}`),ps(s))return new ct($.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{static emptySet(e){return new rs(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ht.comparator(i.key,r.key):(i,r)=>ht.comparator(i.key,r.key),this.keyedMap=Vl(),this.sortedSet=new ee(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,r)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof rs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new rs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(){this.Ia=new ee(ht.comparator)}track(e){const i=e.doc.key,r=this.Ia.get(i);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(i,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(i):e.type===1&&r.type===2?this.Ia=this.Ia.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(i,{type:2,doc:e.doc}):gt(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(i,e)}da(){const e=[];return this.Ia.inorderTraversal((i,r)=>{e.push(r)}),e}}class hs{constructor(e,i,r,o,h,m,y,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,h){const m=[];return i.forEach(y=>{m.push({type:0,doc:y})}),new hs(e,i,rs.emptySet(i),m,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$o(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class T1{constructor(){this.queries=Ly(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(i,r){const o=Tt(i),h=o.queries;o.queries=Ly(),h.forEach((m,y)=>{for(const v of y.Ra)v.onError(r)})})(this,new ct($.ABORTED,"Firestore shutting down"))}}function Ly(){return new ar(s=>x_(s),$o)}async function A1(s,e){const i=Tt(s);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.Va()&&e.ma()&&(r=2):(h=new E1,r=e.ma()?0:1);try{switch(r){case 0:h.Aa=await i.onListen(o,!0);break;case 1:h.Aa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(m){const y=cd(m,`Initialization of query '${ts(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,h),h.Ra.push(e),e.ga(i.onlineState),h.Aa&&e.pa(h.Aa)&&hd(i)}async function S1(s,e){const i=Tt(s),r=e.query;let o=3;const h=i.queries.get(r);if(h){const m=h.Ra.indexOf(e);m>=0&&(h.Ra.splice(m,1),h.Ra.length===0?o=e.ma()?0:1:!h.Va()&&e.ma()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function b1(s,e){const i=Tt(s);let r=!1;for(const o of e){const h=o.query,m=i.queries.get(h);if(m){for(const y of m.Ra)y.pa(o)&&(r=!0);m.Aa=o}}r&&hd(i)}function R1(s,e,i){const r=Tt(s),o=r.queries.get(e);if(o)for(const h of o.Ra)h.onError(i);r.queries.delete(e)}function hd(s){s.fa.forEach(e=>{e.next()})}var Pf,Py;(Py=Pf||(Pf={})).ya="default",Py.Cache="cache";class w1{constructor(e,i,r){this.query=e,this.wa=i,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new hs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ba?this.Da(e)&&(this.wa.next(e),i=!0):this.va(e,this.onlineState)&&(this.Ca(e),i=!0),this.Sa=e,i}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let i=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),i=!0),i}va(e,i){if(!e.fromCache||!this.ma())return!0;const r=i!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const i=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ca(e){e=hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Pf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){this.key=e}}class pv{constructor(e){this.key=e}}class D1{constructor(e,i){this.query=e,this.qa=i,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=It(),this.mutatedKeys=It(),this.Ua=U_(e),this.Ka=new rs(this.Ua)}get Wa(){return this.qa}Ga(e,i){const r=i?i.za:new zy,o=i?i.Ka:this.Ka;let h=i?i.mutatedKeys:this.mutatedKeys,m=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,O)=>{const q=o.get(A),K=Jo(this.query,O)?O:null,j=!!q&&this.mutatedKeys.has(q.key),J=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let Z=!1;q&&K?q.data.isEqual(K.data)?j!==J&&(r.track({type:3,doc:K}),Z=!0):this.ja(q,K)||(r.track({type:2,doc:K}),Z=!0,(v&&this.Ua(K,v)>0||_&&this.Ua(K,_)<0)&&(y=!0)):!q&&K?(r.track({type:0,doc:K}),Z=!0):q&&!K&&(r.track({type:1,doc:q}),Z=!0,(v||_)&&(y=!0)),Z&&(K?(m=m.add(K),h=J?h.add(A):h.delete(A)):(m=m.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;m.size>this.query.limit;){const A=this.query.limitType==="F"?m.last():m.first();m=m.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{Ka:m,za:r,ys:y,mutatedKeys:h}}ja(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const m=e.za.da();m.sort((A,O)=>function(K,j){const J=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:Z})}};return J(K)-J(j)}(A.type,O.type)||this.Ua(A.doc,O.doc)),this.Ha(r),o=o!=null&&o;const y=i&&!o?this.Ja():[],v=this.$a.size===0&&this.current&&!o?1:0,_=v!==this.Qa;return this.Qa=v,m.length!==0||_?{snapshot:new hs(this.query,e.Ka,h,m,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:y}:{Ya:y}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new zy,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(i=>this.qa=this.qa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.qa=this.qa.delete(i)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=It(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const i=[];return e.forEach(r=>{this.$a.has(r)||i.push(new pv(r))}),this.$a.forEach(r=>{e.has(r)||i.push(new gv(r))}),i}Xa(e){this.qa=e.Ns,this.$a=It();const i=this.Ga(e.documents);return this.applyChanges(i,!0)}eu(){return hs.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const fd="SyncEngine";class C1{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class V1{constructor(e){this.key=e,this.tu=!1}}class I1{constructor(e,i,r,o,h,m){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.nu={},this.ru=new ar(y=>x_(y),$o),this.iu=new Map,this.su=new Set,this.ou=new ee(ht.comparator),this._u=new Map,this.au=new ed,this.uu={},this.cu=new Map,this.lu=cs.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function O1(s,e,i=!0){const r=Av(s);let o;const h=r.ru.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.eu()):o=await yv(r,e,i,!0),o}async function N1(s,e){const i=Av(s);await yv(i,e,!0,!1)}async function yv(s,e,i,r){const o=await XS(s.localStore,Zn(e)),h=o.targetId,m=s.sharedClientState.addLocalQueryTarget(h,i);let y;return r&&(y=await M1(s,e,h,m==="current",o.resumeToken)),s.isPrimaryClient&&i&&ov(s.remoteStore,o),y}async function M1(s,e,i,r,o){s.Pu=(O,q,K)=>async function(J,Z,Et,_t){let dt=Z.view.Ga(Et);dt.ys&&(dt=await Iy(J.localStore,Z.query,!1).then(({documents:I})=>Z.view.Ga(I,dt)));const pt=_t&&_t.targetChanges.get(Z.targetId),rt=_t&&_t.targetMismatches.get(Z.targetId)!=null,Ot=Z.view.applyChanges(dt,J.isPrimaryClient,pt,rt);return qy(J,Z.targetId,Ot.Ya),Ot.snapshot}(s,O,q,K);const h=await Iy(s.localStore,e,!0),m=new D1(e,h.Ns),y=m.Ga(h.documents),v=Yl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=m.applyChanges(y,s.isPrimaryClient,v);qy(s,i,_.Ya);const A=new C1(e,i,m);return s.ru.set(e,A),s.iu.has(i)?s.iu.get(i).push(e):s.iu.set(i,[e]),_.snapshot}async function x1(s,e,i){const r=Tt(s),o=r.ru.get(e),h=r.iu.get(o.targetId);if(h.length>1)return r.iu.set(o.targetId,h.filter(m=>!$o(m,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await zf(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),i&&rd(r.remoteStore,o.targetId),Bf(r,o.targetId)}).catch(gs)):(Bf(r,o.targetId),await zf(r.localStore,o.targetId,!0))}async function U1(s,e){const i=Tt(s),r=i.ru.get(e),o=i.iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),rd(i.remoteStore,r.targetId))}async function z1(s,e,i){const r=H1(s);try{const o=await function(m,y){const v=Tt(m),_=he.now(),A=y.reduce((K,j)=>K.add(j.key),It());let O,q;return v.persistence.runTransaction("Locally write mutations","readwrite",K=>{let j=Vi(),J=It();return v.Cs.getEntries(K,A).next(Z=>{j=Z,j.forEach((Et,_t)=>{_t.isValidDocument()||(J=J.add(Et))})}).next(()=>v.localDocuments.getOverlayedDocuments(K,j)).next(Z=>{O=Z;const Et=[];for(const _t of y){const dt=XA(_t,O.get(_t.key).overlayedDocument);dt!=null&&Et.push(new rr(_t.key,dt,D_(dt.value.mapValue),wi.exists(!0)))}return v.mutationQueue.addMutationBatch(K,_,Et,y)}).next(Z=>{q=Z;const Et=Z.applyToLocalDocumentSet(O,J);return v.documentOverlayCache.saveOverlays(K,Z.batchId,Et)})}).then(()=>({batchId:q.batchId,changes:L_(O)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(m,y,v){let _=m.uu[m.currentUser.toKey()];_||(_=new ee(bt)),_=_.insert(y,v),m.uu[m.currentUser.toKey()]=_}(r,o.batchId,i),await Kl(r,o.changes),await ac(r.remoteStore)}catch(o){const h=cd(o,"Failed to persist write");i.reject(h)}}async function _v(s,e){const i=Tt(s);try{const r=await YS(i.localStore,e);e.targetChanges.forEach((o,h)=>{const m=i._u.get(h);m&&(kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?m.tu=!0:o.modifiedDocuments.size>0?kt(m.tu,14607):o.removedDocuments.size>0&&(kt(m.tu,42227),m.tu=!1))}),await Kl(i,r,e)}catch(r){await gs(r)}}function By(s,e,i){const r=Tt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.ru.forEach((h,m)=>{const y=m.view.ga(e);y.snapshot&&o.push(y.snapshot)}),function(m,y){const v=Tt(m);v.onlineState=y;let _=!1;v.queries.forEach((A,O)=>{for(const q of O.Ra)q.ga(y)&&(_=!0)}),_&&hd(v)}(r.eventManager,e),o.length&&r.nu.Q_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function L1(s,e,i){const r=Tt(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r._u.get(e),h=o&&o.key;if(h){let m=new ee(ht.comparator);m=m.insert(h,Qe.newNoDocument(h,vt.min()));const y=It().add(h),v=new ec(vt.min(),new Map,new ee(bt),m,y);await _v(r,v),r.ou=r.ou.remove(h),r._u.delete(e),dd(r)}else await zf(r.localStore,e,!1).then(()=>Bf(r,e,i)).catch(gs)}async function P1(s,e){const i=Tt(s),r=e.batch.batchId;try{const o=await QS(i.localStore,e);Ev(i,r,null),vv(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Kl(i,o)}catch(o){await gs(o)}}async function B1(s,e,i){const r=Tt(s);try{const o=await function(m,y){const v=Tt(m);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next(O=>(kt(O!==null,37113),A=O.keys(),v.mutationQueue.removeMutationBatch(_,O))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(r.localStore,e);Ev(r,e,i),vv(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Kl(r,o)}catch(o){await gs(o)}}function vv(s,e){(s.cu.get(e)||[]).forEach(i=>{i.resolve()}),s.cu.delete(e)}function Ev(s,e,i){const r=Tt(s);let o=r.uu[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.uu[r.currentUser.toKey()]=o}}function Bf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.iu.get(e))s.ru.delete(r),i&&s.nu.Tu(r,i);s.iu.delete(e),s.isPrimaryClient&&s.au.Ur(e).forEach(r=>{s.au.containsKey(r)||Tv(s,r)})}function Tv(s,e){s.su.delete(e.path.canonicalString());const i=s.ou.get(e);i!==null&&(rd(s.remoteStore,i),s.ou=s.ou.remove(e),s._u.delete(i),dd(s))}function qy(s,e,i){for(const r of i)r instanceof gv?(s.au.addReference(r.key,e),q1(s,r)):r instanceof pv?(it(fd,"Document no longer in limbo: "+r.key),s.au.removeReference(r.key,e),s.au.containsKey(r.key)||Tv(s,r.key)):gt(19791,{Iu:r})}function q1(s,e){const i=e.key,r=i.path.canonicalString();s.ou.get(i)||s.su.has(r)||(it(fd,"New document in limbo: "+i),s.su.add(r),dd(s))}function dd(s){for(;s.su.size>0&&s.ou.size<s.maxConcurrentLimboResolutions;){const e=s.su.values().next().value;s.su.delete(e);const i=new ht(se.fromString(e)),r=s.lu.next();s._u.set(r,new V1(i)),s.ou=s.ou.insert(i,r),ov(s.remoteStore,new ra(Zn(Zf(i.path)),r,"TargetPurposeLimboResolution",Fo.le))}}async function Kl(s,e,i){const r=Tt(s),o=[],h=[],m=[];r.ru.isEmpty()||(r.ru.forEach((y,v)=>{m.push(r.Pu(v,e,i).then(_=>{var A;if((_||i)&&r.isPrimaryClient){const O=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;r.sharedClientState.updateQueryState(v.targetId,O?"current":"not-current")}if(_){o.push(_);const O=id.Ps(v.targetId,_);h.push(O)}}))}),await Promise.all(m),r.nu.Q_(o),await async function(v,_){const A=Tt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>F.forEach(_,q=>F.forEach(q.ls,K=>A.persistence.referenceDelegate.addReference(O,q.targetId,K)).next(()=>F.forEach(q.hs,K=>A.persistence.referenceDelegate.removeReference(O,q.targetId,K)))))}catch(O){if(!ps(O))throw O;it(ad,"Failed to update sequence numbers: "+O)}for(const O of _){const q=O.targetId;if(!O.fromCache){const K=A.Ss.get(q),j=K.snapshotVersion,J=K.withLastLimboFreeSnapshotVersion(j);A.Ss=A.Ss.insert(q,J)}}}(r.localStore,h))}async function k1(s,e){const i=Tt(s);if(!i.currentUser.isEqual(e)){it(fd,"User change. New user:",e.toKey());const r=await rv(i.localStore,e);i.currentUser=e,function(h,m){h.cu.forEach(y=>{y.forEach(v=>{v.reject(new ct($.CANCELLED,m))})}),h.cu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kl(i,r.Ms)}}function j1(s,e){const i=Tt(s),r=i._u.get(e);if(r&&r.tu)return It().add(r.key);{let o=It();const h=i.iu.get(e);if(!h)return o;for(const m of h){const y=i.ru.get(m);o=o.unionWith(y.view.Wa)}return o}}function Av(s){const e=Tt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=_v.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L1.bind(null,e),e.nu.Q_=b1.bind(null,e.eventManager),e.nu.Tu=R1.bind(null,e.eventManager),e}function H1(s){const e=Tt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B1.bind(null,e),e}class Qo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nc(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,i){return null}fu(e,i){return null}Vu(e){return GS(this.persistence,new kS,e.initialUser,this.serializer)}Ru(e){return new av(nd.Ei,this.serializer)}Au(e){return new $S}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qo.provider={build:()=>new Qo};class G1 extends Qo{constructor(e){super(),this.cacheSizeBytes=e}mu(e,i){kt(this.persistence.referenceDelegate instanceof Ho,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new wS(r,e.asyncQueue,i)}Ru(e){const i=this.cacheSizeBytes!==void 0?We.withCacheSize(this.cacheSizeBytes):We.DEFAULT;return new av(r=>Ho.Ei(r,i),this.serializer)}}class qf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>By(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=k1.bind(null,this.syncEngine),await v1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new T1}()}createDatastore(e){const i=nc(e.databaseInfo.databaseId),r=function(h){return new n1(h)}(e.databaseInfo);return function(h,m,y,v){return new s1(h,m,y,v)}(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return function(r,o,h,m,y){return new u1(r,o,h,m,y)}(this.localStore,this.datastore,e.asyncQueue,i=>By(this.syncEngine,i,0),function(){return My.C()?new My:new JS}())}createSyncEngine(e,i){return function(o,h,m,y,v,_,A){const O=new I1(o,h,m,y,v,_);return A&&(O.hu=!0),O}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=Tt(o);it(nr,"RemoteStore shutting down."),h.aa.add(5),await Fl(h),h.ca.shutdown(),h.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}qf.provider={build:()=>new qf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="FirestoreClient";class Y1{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Ge.UNAUTHENTICATED,this.clientId=y_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,async m=>{it(ga,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m}),this.appCheckCredentials.start(r,m=>(it(ga,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=cd(i,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vf(s,e){s.asyncQueue.verifyOperationInProgress(),it(ga,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener(async o=>{r.isEqual(o)||(await rv(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function ky(s,e){s.asyncQueue.verifyOperationInProgress();const i=await F1(s);it(ga,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(r=>Uy(e.remoteStore,r)),s.setAppCheckTokenChangeListener((r,o)=>Uy(e.remoteStore,o)),s._onlineComponents=e}async function F1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(ga,"Using user provided OfflineComponentProvider");try{await vf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;ss("Error using user provided cache. Falling back to memory cache: "+i),await vf(s,new Qo)}}else it(ga,"Using default OfflineComponentProvider"),await vf(s,new G1(void 0));return s._offlineComponents}async function Sv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(ga,"Using user provided OnlineComponentProvider"),await ky(s,s._uninitializedComponentsProvider._online)):(it(ga,"Using default OnlineComponentProvider"),await ky(s,new qf))),s._onlineComponents}function K1(s){return Sv(s).then(e=>e.syncEngine)}async function X1(s){const e=await Sv(s),i=e.eventManager;return i.onListen=O1.bind(null,e.syncEngine),i.onUnlisten=x1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=N1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=U1.bind(null,e.syncEngine),i}function Z1(s,e,i={}){const r=new oa;return s.asyncQueue.enqueueAndForget(async()=>function(h,m,y,v,_){const A=new Q1({next:q=>{A.yu(),m.enqueueAndForget(()=>S1(h,O));const K=q.docs.has(y);!K&&q.fromCache?_.reject(new ct($.UNAVAILABLE,"Failed to get document because the client is offline.")):K&&q.fromCache&&v&&v.source==="server"?_.reject(new ct($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(q)},error:q=>_.reject(q)}),O=new w1(Zf(y.path),A,{includeMetadataChanges:!0,Fa:!0});return A1(h,O)}(await X1(s),s.asyncQueue,e,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(s,e,i){if(!i)throw new ct($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function J1(s,e,i,r){if(e===!0&&r===!0)throw new ct($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Hy(s){if(!ht.isDocumentKey(s))throw new ct($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function md(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function Hl(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ct($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=md(s);throw new ct($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="firestore.googleapis.com",Gy=!0;class Qy{constructor(e){var i,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ct($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Rv,this.ssl=Gy}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:Gy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bS)throw new ct($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bv((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gd{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ct($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tA;switch(r.type){case"firstParty":return new aA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=jy.get(i);r&&(it("ComponentProvider","Removing Datastore"),jy.delete(i),r.terminate())}(this),Promise.resolve()}}function W1(s,e,i,r={}){var o;s=Hl(s,gd);const h=e_(e),m=s._getSettings(),y=Object.assign(Object.assign({},m),{emulatorOptions:s._getEmulatorOptions()}),v=`${e}:${i}`;h&&BE(`https://${v}`),m.host!==Rv&&m.host!==v&&ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},m),{host:v,ssl:h,emulatorOptions:r});if(!Oo(_,y)&&(s._setSettings(_),r.mockUserToken)){let A,O;if(typeof r.mockUserToken=="string")A=r.mockUserToken,O=Ge.MOCK_USER;else{A=IE(r.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const q=r.mockUserToken.sub||r.mockUserToken.user_id;if(!q)throw new ct($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new Ge(q)}s._authCredentials=new eA(new g_(A,O))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pd(this.firestore,e,this._query)}}class bn{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class Gl extends pd{constructor(e,i,r){super(e,i,Zf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new ht(e))}withConverter(e){return new Gl(this.firestore,e,this._path)}}function Yy(s,e,...i){if(s=No(s),arguments.length===1&&(e=y_.newId()),$1("doc","path",e),s instanceof gd){const r=se.fromString(e,...i);return Hy(r),new bn(s,null,new ht(r))}{if(!(s instanceof bn||s instanceof Gl))throw new ct($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(se.fromString(e,...i));return Hy(r),new bn(s.firestore,s instanceof Gl?s.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="AsyncQueue";class Ky{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new lv(this,"async_queue_retry"),this.ju=()=>{const r=_f();r&&it(Fy,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const i=_f();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const i=_f();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const i=new oa;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ps(e))throw e;it(Fy,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const i=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Ci("INTERNAL UNHANDLED ERROR: ",Xy(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=i,i}enqueueAfterDelay(e,i,r){this.Ju(),this.zu.indexOf(e)>-1&&(i=0);const o=od.createAndSchedule(this,e,i,r,h=>this.Xu(h));return this.Uu.push(o),o}Ju(){this.Ku&&gt(47125,{ec:Xy(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const i of this.Uu)if(i.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.Uu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const i=this.Uu.indexOf(e);this.Uu.splice(i,1)}}function Xy(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class yd extends gd{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new Ky,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ky(e),this._firestoreClient=void 0,await e}}}function tb(s,e){const i=typeof s=="object"?s:kT(),r=typeof s=="string"?s:zo,o=zT(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=CE("firestore");h&&W1(o,...h)}return o}function wv(s){if(s._terminated)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||eb(s),s._firestoreClient}function eb(s){var e,i,r;const o=s._freezeSettings(),h=function(y,v,_,A){return new vA(y,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,bv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new Y1(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(y){const v=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(v),_online:v}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fs(Be.fromBase64String(e))}catch(i){throw new ct($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new fs(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ct($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ct($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ct($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=/^__.*__$/;class ib{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new rr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Ql(e,this.data,i,this.fieldTransforms)}}function Cv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{oc:s})}}class Td{constructor(e,i,r,o,h,m){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this._c(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Td(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ac({path:r,cc:!1});return o.lc(e),o}hc(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ac({path:r,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Yo(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Cv(this.oc)&&nb.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class ab{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||nc(e)}dc(e,i,r,o=!1){return new Td({oc:e,methodName:i,Ec:r,path:Pe.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rb(s){const e=s._freezeSettings(),i=nc(s._databaseId);return new ab(s._databaseId,!!e.ignoreUndefinedProperties,i)}function sb(s,e,i,r,o,h={}){const m=s.dc(h.merge||h.mergeFields?2:0,e,i,o);Nv("Data must be an object, but it was:",m,r);const y=Iv(r,m);let v,_;if(h.merge)v=new On(m.fieldMask),_=m.fieldTransforms;else if(h.mergeFields){const A=[];for(const O of h.mergeFields){const q=lb(e,O,i);if(!m.contains(q))throw new ct($.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);ob(A,q)||A.push(q)}v=new On(A),_=m.fieldTransforms.filter(O=>v.covers(O.field))}else v=null,_=m.fieldTransforms;return new ib(new Sn(y),v,_)}function Vv(s,e){if(Ov(s=No(s)))return Nv("Unsupported field value:",e,s),Iv(s,e);if(s instanceof Dv)return function(r,o){if(!Cv(o.oc))throw o.Tc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,o){const h=[];let m=0;for(const y of r){let v=Vv(y,o.Pc(m));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),m++}return{arrayValue:{values:h}}}(s,e)}return function(r,o){if((r=No(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HA(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=he.fromDate(r);return{timestampValue:jo(o.serializer,h)}}if(r instanceof he){const h=new he(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jo(o.serializer,h)}}if(r instanceof vd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fs)return{bytesValue:Z_(o.serializer,r._byteString)};if(r instanceof bn){const h=o.databaseId,m=r.firestore._databaseId;if(!m.isEqual(h))throw o.Tc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:td(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ed)return function(m,y){return{mapValue:{fields:{[R_]:{stringValue:w_},[Lo]:{arrayValue:{values:m.toArray().map(_=>{if(typeof _!="number")throw y.Tc("VectorValues must only contain numeric values.");return $f(y.serializer,_)})}}}}}}(r,o);throw o.Tc(`Unsupported field value: ${md(r)}`)}(s,e)}function Iv(s,e){const i={};return v_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ir(s,(r,o)=>{const h=Vv(o,e.uc(r));h!=null&&(i[r]=h)}),{mapValue:{fields:i}}}function Ov(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof he||s instanceof vd||s instanceof fs||s instanceof bn||s instanceof Dv||s instanceof Ed)}function Nv(s,e,i){if(!Ov(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const r=md(i);throw r==="an object"?e.Tc(s+" a custom object"):e.Tc(s+" "+r)}}function lb(s,e,i){if((e=No(e))instanceof _d)return e._internalPath;if(typeof e=="string")return Mv(s,e);throw Yo("Field path arguments must be of type string or ",s,!1,void 0,i)}const ub=new RegExp("[~\\*/\\[\\]]");function Mv(s,e,i){if(e.search(ub)>=0)throw Yo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new _d(...e.split("."))._internalPath}catch{throw Yo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Yo(s,e,i,r,o){const h=r&&!r.isEmpty(),m=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||m)&&(v+=" (found",h&&(v+=` in field ${r}`),m&&(v+=` in document ${o}`),v+=")"),new ct($.INVALID_ARGUMENT,y+s+v)}function ob(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Uv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class cb extends xv{data(){return super.data()}}function Uv(s,e){return typeof e=="string"?Mv(s,e):e instanceof _d?e._internalPath:e._delegate._internalPath}class hb{convertValue(e,i="none"){switch(da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return ir(e,(o,h)=>{r[o]=this.convertValue(h,i)}),r}convertVectorValue(e){var i,r,o;const h=(o=(r=(i=e.fields)===null||i===void 0?void 0:i[Lo].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(m=>ce(m.doubleValue));return new Ed(h)}convertGeoPoint(e){return new vd(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Xo(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const i=ha(e);return new he(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=se.fromString(e);kt(nv(r),9688,{name:e});const o=new Bl(r.get(1),r.get(3)),h=new ht(r.popFirst(5));return o.isEqual(i)||Ci(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(s,e,i){let r;return r=s?s.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zv extends xv{constructor(e,i,r,o,h,m){super(e,i,r,o,m),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new mb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Uv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class mb extends zv{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(s){s=Hl(s,bn);const e=Hl(s.firestore,yd);return Z1(wv(e),s._key).then(i=>vb(e,s,i))}class pb extends hb{constructor(e){super(),this.firestore=e}convertBytes(e){return new fs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,i)}}function yb(s,e,i){s=Hl(s,bn);const r=Hl(s.firestore,yd),o=fb(s.converter,e);return _b(r,[sb(rb(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,wi.none())])}function _b(s,e){return function(r,o){const h=new oa;return r.asyncQueue.enqueueAndForget(async()=>z1(await K1(r),o,h)),h.promise}(wv(s),e)}function vb(s,e,i){const r=i.docs.get(e._key),o=new pb(s);return new zv(s,o,e._key,r,new db(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){ms=o})(qT),xo(new Ul("firestore",(r,{instanceIdentifier:o,options:h})=>{const m=r.getProvider("app").getImmediate(),y=new yd(new nA(r.getProvider("auth-internal")),new rA(m,r.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ct($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(_.options.projectId,A)}(m,o),m);return h=Object.assign({useFetchStreams:i},h),y._setSettings(h),y},"PUBLIC").setMultipleInstances(!0)),as(ty,ey,e),as(ty,ey,"esm2017")})();const Eb={apiKey:"AIzaSyCT1p8MfDkzLAaT0Tc5uhab66PxkMuMszo",authDomain:"nghialam-272.firebaseapp.com",databaseURL:"https://nghialam-272.firebaseio.com",projectId:"nghialam-272",storageBucket:"nghialam-272.firebasestorage.app",messagingSenderId:"1008901518626",appId:"1:1008901518626:web:b98f838b98258e5c1de17b",measurementId:"G-RFKJFQ2QCX"},Tb=r_(Eb),Zy=tb(Tb);function Ab(){const s={name:"job-name",tasks:[],listeners:[]},[e,i]=is.useState(JSON.stringify(s,null,2)),[r,o]=is.useState(null),[h,m]=is.useState(""),y=async j=>{try{const J=Math.random().toString(36).substr(2,8),Z=he.fromDate(new Date(Date.now()+1*24*60*60*1e3));return await yb(Yy(Zy,"configs",J),{config:j,createdAt:he.now(),expireAt:Z}),J}catch(J){return console.error("Lỗi lưu config:",J),null}},v=async j=>{const J=await gb(Yy(Zy,"configs",j));return J.exists()?J.data().config:null};is.useEffect(()=>{const j=window.location.hash.substring(1);j&&v(j).then(J=>{J&&(i(J),o(JSON.parse(J)))})},[]);const _=async()=>{var j,J;try{const Z=JSON.parse(e);Z.tasks=((j=Z.tasks)==null?void 0:j.map(Et=>({...Et,order:Et.order??0})))||[],Z.listeners=((J=Z.listeners)==null?void 0:J.map(Et=>({...Et,order:Et.order??0})))||[],o(Z),m("")}catch(Z){m("Invalid JSON: "+Z.message)}},A=async()=>{try{const j=await y(e);j&&(console.log(`${window.location.origin}/#${j}`),window.location.hash=j,navigator.clipboard.writeText(`${window.location.origin}/#${j}`))}catch(j){m("Invalid JSON: "+j.message)}},O=j=>{const J=j.enable===!1,Z=`box ${j.type.toLowerCase()} ${J?"disabled":""}`;return Vt.jsxs("div",{className:"box-container",children:[Vt.jsxs("div",{className:Z,children:[Vt.jsx("div",{className:"task-name",children:j.name}),j.alias&&Vt.jsxs("div",{className:"task-alias",children:["(",j.alias,")"]}),j.retry&&Vt.jsxs("div",{className:"task-retry",children:["↻ ",j.retry.retryCount]})]}),Vt.jsx("div",{className:"json-tooltip",children:Vt.jsx("pre",{children:JSON.stringify(j,null,2)})})]},j.name+(j.alias||""))},q=j=>{const J=j.enable===!1,Z=`box listener-${j.type.toLowerCase()} ${J?"disabled":""}`;return Vt.jsxs("div",{className:"box-container",children:[Vt.jsxs("div",{className:Z,children:[Vt.jsx("div",{className:"task-name",children:j.name}),j.alias&&Vt.jsxs("div",{className:"task-alias",children:["(",j.alias,")"]}),j.retry&&Vt.jsxs("div",{className:"task-retry",children:["↻ ",j.retry.retryCount]})]}),Vt.jsx("div",{className:"json-tooltip",children:Vt.jsx("pre",{children:JSON.stringify(j,null,2)})})]},j.name+(j.alias||""))},K=()=>{var _t,dt;if(!r)return null;const j={};(_t=r.tasks)==null||_t.forEach(pt=>{const rt=pt.order??0;j[rt]||(j[rt]=[]),j[rt].push(pt)});const J={};(dt=r.listeners)==null||dt.forEach(pt=>{const rt=pt.order??0;J[rt]||(J[rt]=[]),J[rt].push(pt)});const Z=Object.keys(j).sort((pt,rt)=>pt-rt),Et=Object.keys(J).sort((pt,rt)=>pt-rt);return Vt.jsxs("div",{className:"visualization",children:[Vt.jsxs("h2",{children:["Job: ",r.name]}),Vt.jsx("div",{className:"tasks-flow",children:Z.map((pt,rt)=>Vt.jsxs(zp.Fragment,{children:[Vt.jsx("div",{className:"task-group",children:j[pt].map(Ot=>O(Ot))}),rt<Z.length-1&&Vt.jsx("div",{className:"arrow-container",children:Vt.jsx("div",{className:"arrow-down"})})]},"task-"+pt))}),r.listeners&&r.listeners.length>0&&Vt.jsxs("div",{className:"listeners-section",children:[Vt.jsx("h3",{children:"Listeners"}),Vt.jsx("div",{className:"listeners-flow",children:Et.map((pt,rt)=>Vt.jsxs(zp.Fragment,{children:[Vt.jsx("div",{className:"listener-group",children:J[pt].map(Ot=>q(Ot))}),rt<Et.length-1&&Vt.jsx("div",{className:"arrow-container",children:Vt.jsx("div",{className:"arrow-down"})})]},"listener-"+pt))})]})]})};return Vt.jsxs("div",{className:"app",children:[Vt.jsx("h1",{children:"Job Configuration Visualizer"}),Vt.jsxs("div",{className:"input-area",children:[Vt.jsx("textarea",{value:e,onChange:j=>i(j.target.value),rows:25,cols:80,placeholder:"Paste your job configuration JSON here"}),Vt.jsx("button",{onClick:_,children:"Visualize"}),Vt.jsx("button",{onClick:A,children:"Share"})]}),h&&Vt.jsx("div",{className:"error",children:h}),K()]})}yE.createRoot(document.getElementById("root")).render(Vt.jsx(is.StrictMode,{children:Vt.jsx(Ab,{})}));
